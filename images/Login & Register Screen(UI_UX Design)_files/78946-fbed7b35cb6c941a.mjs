(self.modernJsonp=self.modernJsonp||[]).push([["78946"],{316387:function(e,t,i){var n,a;i.r(t),i.d(t,{default:()=>o});let l=(a=[n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CommentThreadContainer_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null},{alias:null,args:null,concreteType:"AggregatedDidItData",kind:"LinkedField",name:"didItData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imagesCount",storageKey:null}],storageKey:null},n],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},n,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null});l.hash="38e173ab2c3107ebc5b3da9f216fac98";let o=l},658559:function(e,t,i){var n,a,l,o;i.r(t),i.d(t,{default:()=>r});let s={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DescriptionWithLinksAndMentions_pin",selections:[{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"descriptionLinks",plural:!0,selections:[n={alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"objectId",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"tagType",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"userMentionTags",plural:!0,selections:[n,a,l,o],storageKey:null},{args:null,kind:"FragmentSpread",name:"useHyperlinkExperiment_pin"}],type:"Pin",abstractKey:null};s.hash="93be5ba2b479913d0e23e4971f11a9cd";let r=s},441590:function(e,t,i){var n,a,l,o,s;i.r(t),i.d(t,{default:()=>d});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VisualContext_pin",selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:o=[{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captionsUrls",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:o,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null}],storageKey:null},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s=[l,n,a],storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"orig")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"474x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"236x")'},{alias:"imageSpec_1200x",args:[{kind:"Literal",name:"spec",value:"1200x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"1200x")'},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVideo",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetMainPinImage_pin"}],type:"Pin",abstractKey:null};r.hash="f5ddfd6a30ebe10b0f0a7b0bf12bea4e";let d=r},673588:function(e,t,i){var n;i.r(t),i.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetMainPinImage_pin",selections:[{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"orig")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"474x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"236x")'},{alias:"imageSpec_1200x",args:[{kind:"Literal",name:"spec",value:"1200x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"1200x")'}],type:"Pin",abstractKey:null};a.hash="64a50a10a8f854ca82309453d98f41a7";let l=a},767439:function(e,t,i){i.d(t,{Z:()=>l});var n=i(667294);let a="undefined"!=typeof document?document:{},l=()=>{let e=(0,n.useRef)(void 0),t=a.documentElement,{body:i}=a;return t?[()=>{if(!i||!i.style||e.current)return;let n=window.innerWidth-t.clientWidth,a=parseInt(window.getComputedStyle(i).getPropertyValue("padding-right"),10)||0;t.style.position="relative",t.style.overflow="hidden",i.style.position="relative",i.style.overflow="hidden",i.style.paddingRight=`${a+n}px`,e.current=!0},()=>{i&&i.style&&e.current&&(t.style.position="",t.style.overflow="",i.style.position="",i.style.overflow="",i.style.paddingRight="",e.current=!1)}]:[]}},762802:function(e,t,i){i.d(t,{Z:()=>s});var n=i(667294),a=i(765533),l=i(603316);class o extends n.PureComponent{constructor(...e){var t,i,n;super(...e),t="handleKeyDown",i=e=>{let{onClose:t,goToNext:i,goToPrevious:n}=this.props,o=e.keyCode||e.code;!e.ctrlKey&&!e.metaKey&&(["input","select","button","textarea"].includes(((document.activeElement||{}).tagName||"").toLowerCase())||document.activeElement&&document.activeElement.isContentEditable||(o===a.Z.LEFT?(e.preventDefault(),e.stopPropagation(),n&&n(),(0,l.nP)("web_keydown_left")):o===a.Z.RIGHT?(e.preventDefault(),e.stopPropagation(),i&&i(),(0,l.nP)("web_keydown_right")):o===a.Z.ESCAPE&&(e.preventDefault(),e.stopPropagation(),t())))},(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in this?Object.defineProperty(this,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):this[t]=i}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}render(){return null}}let s=o},878709:function(e,t,i){i.d(t,{A:()=>p,G:()=>m}),i(281098);var n,a=i(667294);i(167912);var l=i(729434),o=i(415546),s=i(453179),r=i(607652),d=i(785893);let{Provider:c,get:m}=(0,l.Z)("VisualContext"),u=(void 0!==n||(n=i(441590)).hash&&"f5ddfd6a30ebe10b0f0a7b0bf12bea4e"!==n.hash&&console.error("The definition of 'VisualContext_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),g=({children:e,pinKey:t,overrideValue:i={}})=>{let n=(0,o.Z)(u,t),{videos:l,embed:m,link:g,isVideo:p}=n??{},h=(0,a.useMemo)(()=>l?.videoList?.v720P?.url?{duration:l.videoList.v720P.duration||void 0,height:l.videoList.v720P.height||void 0,thumbnail:l.videoList.v720P.thumbnail||void 0,url:l.videoList.v720P.url||void 0,width:l.videoList.v720P.width||void 0,captions_urls:l.videoList.v720P.captionsUrls||void 0}:void 0,[l?.videoList?.v720P?.duration,l?.videoList?.v720P?.height,l?.videoList?.v720P?.thumbnail,l?.videoList?.v720P?.url,l?.videoList?.v720P?.width,l?.videoList?.v720P?.captionsUrls]),_=(0,a.useMemo)(()=>l?.videoList?.vHLSV4?.url?{duration:l.videoList.vHLSV4.duration||void 0,height:l.videoList.vHLSV4.height||void 0,thumbnail:l.videoList.vHLSV4.thumbnail||void 0,url:l.videoList.vHLSV4.url||void 0,width:l.videoList.vHLSV4.width||void 0}:void 0,[l?.videoList?.vHLSV4?.duration,l?.videoList?.vHLSV4?.height,l?.videoList?.vHLSV4?.thumbnail,l?.videoList?.vHLSV4?.url,l?.videoList?.vHLSV4?.width]),x=(0,a.useMemo)(()=>l?.videoList?.vHLSV3MOBILE?.url?{duration:l.videoList.vHLSV3MOBILE.duration||void 0,height:l.videoList.vHLSV3MOBILE.height||void 0,thumbnail:l.videoList.vHLSV3MOBILE.thumbnail||void 0,url:l.videoList.vHLSV3MOBILE.url||void 0,width:l.videoList.vHLSV3MOBILE.width||void 0}:void 0,[l?.videoList?.vHLSV3MOBILE?.duration,l?.videoList?.vHLSV3MOBILE?.height,l?.videoList?.vHLSV3MOBILE?.thumbnail,l?.videoList?.vHLSV3MOBILE?.url,l?.videoList?.vHLSV3MOBILE?.width]),y=(0,a.useMemo)(()=>{let e=h||_||x;return l?.entityId&&e?{id:l.entityId,hasVideo:e,mp4:h||void 0,hls:_||void 0,hlsv3:x||void 0}:null},[_,x,h,l?.entityId]),v=(0,s.sY)(m?.type),f=(0,s.oU)({isVideo:p,link:g}),{mainPinImage:b,srcSet:k,srcSizes:L}=(0,r.Z)({pinKey:n}),w=n?.imageSpec_1200x||n?.imageSpec_orig||n?.imageSpec_736x||n?.imageSpec_564x||n?.imageSpec_474x||n?.imageSpec_236x,S=(0,a.useMemo)(()=>({height:w?.height??1,url:w?.url??"",width:w?.width??1}),[w]),I=n?.imageSpec_236x,j=(0,a.useMemo)(()=>I?.url?{height:I.height??1,url:I.url,width:I.width??1}:null,[I]),P=(0,a.useMemo)(()=>{let e=m?.subtype==="pinstory",t=i.mainImage||b;return{...i,mainImage:t,previewImage:void 0===i.previewImage?j:i.previewImage,mediaViewerImage:S,video:y,embed:m,isYoutubePin:f,isEmbeddedVideo:!!m?.src&&!v&&!e,isGif:v,imgSrc:v&&m?.src?m.src:t.url,...v?{}:{srcSet:k},srcSizes:L}},[b,j,S,y,m,f,v,k,L,i]);return(0,d.jsx)(c,{value:P,children:e})},p=({children:e,pinKey:t,overrideValue:i={}})=>(0,d.jsx)(g,{overrideValue:i,pinKey:t,children:e})},736802:function(e,t,i){i.d(t,{Z:()=>s});var n=i(281098),a=i(20256),l=i(785893);let o=/^(?!.*#.*#)#[\p{L}\p{N}_]\S*$/gu;function s({closeupWithinMasonryEnabled:e=!1,peekCloseupEnabled:t=!1,mWebCloseupRedesignEnabled:i=!1,text:s}){(0,n.Z)("makeHashtagLinksFromText","/app/common/react/components/common/makeHashtagLinksFromText.tsx");let r=t||i?"200":"300";return s.split(new RegExp(/(#\S*)/)).map((t,i)=>{let n=`${i}-${t}`;return t.match(o)?(0,l.jsx)(a.xv,{color:"link",inline:!0,size:r,children:(0,l.jsx)(a.rU,{display:"inline",href:`/search/pins/?q=${encodeURIComponent(t.replace("#",""))}`,underline:"none",children:t})},n):(0,l.jsx)(a.xv,{color:e?"subtle":void 0,inline:!0,size:r,children:t},n)})}},478086:function(e,t,i){i.d(t,{Z:()=>y});var n,a=i(281098),l=i(667294);i(244311);var o=i(20256),s=i(471998),r=i(736802),d=i(980787),c=i(415546),m=i(805205),u=i(601686),g=i(785893);let p=(void 0!==n||(n=i(658559)).hash&&"93be5ba2b479913d0e23e4971f11a9cd"!==n.hash&&console.error("The definition of 'DescriptionWithLinksAndMentions_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),h=e=>null!=e&&e>-1,_=({color:e,mention:t,tagObjectId:i,tagType:n,textSize:a})=>{let{logContextEvent:l}=(0,d.u)();return(0,g.jsx)(o.rU,{display:"inlineBlock",href:`/${t.substr(1)}`,onClick:({event:e})=>{e.stopPropagation(),l({event_type:101,element:11915,aux_data:{tag_id:i,tag_type:n}})},underline:"none",children:(0,g.jsx)(o.xv,{color:e,inline:!0,overflow:"normal",size:a,weight:"bold",children:t},t)},i)},x=({color:e,link:t,tagObjectId:i,tagType:n,text:a,textSize:l})=>{let{logContextEvent:s}=(0,d.u)(),r=(0,m.Z)({site:"www"}),c=t.startsWith("pinterest://")?t.replace("pinterest://",`${r}/`):t;return(0,g.jsx)(o.xv,{color:e,inline:!0,overflow:"normal",size:l,children:(0,g.jsx)(o.rU,{display:"inlineBlock",href:c,onClick:({event:e})=>{e.stopPropagation(),s({event_type:101,element:18123,aux_data:{tag_id:i,tag_type:n,url:t}})},underline:"hover",children:a},i)},a)},y=({description:e,mentionLinkColor:t,pinKey:i,shouldAdjustOffset:n,shouldMakeHashtagLinksFromText:o,textSize:d,descriptionLinks:m,userMentionTags:y})=>{(0,a.Z)("DescriptionWithLinksAndMentions","/app/common/react/components/do/rich-pins/DescriptionWithLinksAndMentions/DescriptionWithLinksAndMentions.tsx");let{closeupWithinMasonryEnabled:v,peekCloseupEnabled:f}=(0,u.x4)(),b=(0,c.Z)(p,i),{hyperlinkKeywordsEnabled:k}=(0,s.Z)(b),L=y?.length?y.map(e=>({...b?.userMentionTags?.find(t=>t.offset===e.originalOffset),...e})):b?.userMentionTags??[],w=m?.length?m.map(e=>({...b?.descriptionLinks?.find(t=>t.offset===e.originalOffset),...e})):b?.descriptionLinks??[],S=L.length>0,I=k&&w.length>0;if(!S&&!I)return(0,g.jsx)(l.Fragment,{children:e});let j=0,P=[];return[...L.map(t=>({...t,type:"mention",offset:n?((e,t)=>{let i=t.substr(0,e);return(e??0)-(i.length-i.replace(/\s+/g," ").length)})(t.offset??0,e):t.offset??0})),...k?w.map(e=>({...e,type:"link",offset:e.offset??0})):[]].filter(e=>h(e.offset)&&h(e.length)).sort((e,t)=>(e.offset??0)-(t.offset??0)).forEach(i=>{let n=i?.offset??0,a=i?.length??0,l=e.substr(j,n-j),o=e.substr(n,a);P.push(l),i?.type==="mention"?P.push((0,g.jsx)(_,{color:t,mention:o,tagObjectId:i.objectId,tagType:i.tagType,textSize:d})):i?.type==="link"&&i?.link&&P.push((0,g.jsx)(x,{color:t,link:i.link,tagObjectId:i.objectId,tagType:i.tagType,text:o,textSize:d})),j=n+a}),P.push(e.substr(j)),(o?P.flatMap(e=>"string"!=typeof e?e:(0,r.Z)({closeupWithinMasonryEnabled:v,peekCloseupEnabled:f,text:e})):P).reduce((e,t)=>(0,g.jsxs)(l.Fragment,{children:[e,t]}),null)}},406196:function(e,t,i){i.d(t,{E:()=>r,N:()=>d}),i(281098);var n=i(667294),a=i(655202),l=i(729434),o=i(785893);let{Provider:s,get:r}=(0,l.Z)("Flag"),d=({children:e})=>{let[t,i]=(0,n.useState)(),[l,r]=(0,n.useState)(a.Zw.REPORT),[d,c]=(0,n.useState)(a.qb.STARTED),[m,u]=(0,n.useState)(),[g,p]=(0,n.useState)(),h=(0,n.useMemo)(()=>({flagReason:g,flow:l,status:d,selectedReason:m,modalTitle:t,setFlagReason:p,setFlow:r,setModalTitle:i,setStatus:c,setSelectedReason:u}),[t,l,d,m,g]);return(0,o.jsx)(s,{value:h,children:e})}},655202:function(e,t,i){i.d(t,{Vm:()=>l,Zw:()=>n,qb:()=>a});let n={REPORT:"REPORT",BLOCK:"BLOCK",END:"END"},a={STARTED:"STARTED",SELECTED:"SELECTED",SUBMITTED:"SUBMITTED",PROCESSING:"PROCESSING",COMPLETED:"COMPLETED"},l={CONVERSATION:"CONVERSATION",DID_IT:"DID_IT"}},47944:function(e,t,i){i.d(t,{Z:()=>r});var n=i(281098),a=i(20256),l=i(744862),o=i(19585),s=i(785893);let r=({isQuestion:e,name:t,size:i,src:r})=>{(0,n.Z)("CommentAvatar","/app/packages/comment/CommentAvatar.tsx");let d=(0,o.Z)();return(0,s.jsxs)(a.xu,{"data-test-id":"comment-avatar-container",position:"relative",children:[(0,s.jsx)(l.qE,{name:t,size:i,src:r}),e&&(0,s.jsxs)(a.xu,{alignItems:"center",bottom:!0,display:"flex",height:16,justifyContent:"center",marginBottom:-1,marginEnd:-1,position:"absolute",right:!0,width:16,children:[(0,s.jsx)(a.xu,{position:"absolute",children:(0,s.jsx)(a.JO,{accessibilityLabel:d._('Q and A comment', 'comment.userAvatar.creator.q&aIndicator', 'question mark icon indicator background that comment is Q&A'),color:"dark",icon:"speech"})}),(0,s.jsx)(a.xu,{position:"absolute",children:(0,s.jsx)(a.JO,{accessibilityLabel:d._('Q and A comment', 'comment.userAvatar.creator.q&aIndicator', 'question mark icon indicator background that comment is Q&A'),color:"light",icon:"question-mark",size:8})})]})]})}},315787:function(e,t,i){i.d(t,{Z:()=>er});var n=i(281098),a=i(20256),l=i(667294),o=i(581722),s=i(473727),r=i(767439),d=i(111923),c=i(406196),m=i(47944),u=i(296691),g=i(333651),p=i(773655),h=i(744862),_=i(785893);let x={helpfulStyle:{backgroundImage:`url(${g})`},lovedStyle:{backgroundImage:`url(${p})`}},y=({response:e,handleReactionListHover:t,maybeDismissReactionListWithDelay:i})=>{(0,n.Z)("ReactionUser","/app/packages/comment/ReactionUser.tsx");let l=14===e.reaction_type,o=1===e.reaction_type,s=e.user.is_private_profile?e.user.first_name:e.user.full_name;return(0,_.jsxs)(a.kC,{alignItems:"center",children:[(0,_.jsx)(a.Tg,{href:`/${e.user.username}/`,onBlur:i,onFocus:t,children:(0,_.jsxs)(a.kC,{alignItems:"center",children:[(0,_.jsx)(a.xu,{maxWidth:40,children:(0,_.jsx)(h.qE,{accessibilityLabel:"",name:s,outline:!0,size:"sm",src:e.user.image_medium_url})}),(0,_.jsx)(a.xu,{marginStart:2,maxWidth:80,children:(0,_.jsx)(a.xv,{size:"100",weight:"bold",children:s})})]})}),(0,_.jsxs)(a.xu,{alignContent:"end",display:"flex",padding:2,children:[o&&(0,_.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:x.lovedStyle},"data-test-id":"comment-reaction-tray-loved-emoji",height:16,width:16}),l&&(0,_.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:x.helpfulStyle},"data-test-id":"comment-reaction-tray-helpful-emoji",height:16,width:16})]})]})};var v=i(821342),f=i(886981),b=i(448505),k=i(7872);let L=["userreaction.id","userreaction.reaction_type","userreaction.user()","user.first_name","user.full_name","user.id","user.image_medium_url","user.is_private_profile","user.username"],w=({commentId:e,handleReactionListHover:t,isMarkedHelpfulByMe:i,isLovedByMe:o,isTry:s,maybeDismissReactionListWithDelay:r})=>{(0,n.Z)("ReactionList","/app/packages/comment/ReactionList.tsx");let d=(0,v.Z)(),c=(0,b.Z)(),m=(0,f.Z)({name:"ApiResource",options:{url:s?`/v3/did_it/${e}/reacted_by/`:`/v3/aggregated_comments/${e}/reacted_by/`,field_sets:L}}),u=(0,k.lJ)(d,c)||("id"in d&&d.id?d.id:""),g=m.data;(o||i)&&g&&(g=g.filter(e=>e.user.id!==u),g=[{id:e,reaction_type:o?1:14,user:{first_name:(0,k.Fk)(d,c),full_name:(0,k.Fk)(d,c),id:u,image_medium_url:(0,k.gJ)(d,c),is_private_profile:!!d.isAuth&&!!d.isPrivateProfile,username:(0,k.Ms)(d,c)}},...g]);let p=(0,l.useRef)(null);return(0,l.useEffect)(()=>{let{current:e}=p,t=()=>{m.isFetching||(m.isAtEnd?e?.removeEventListener("scroll",t):m.fetchMore())};return e?.addEventListener("scroll",t),()=>{e?.removeEventListener("scroll",t)}},[m]),(0,_.jsx)(a.xu,{ref:p,maxHeight:140,overflow:"auto",rounding:2,width:200,children:g?.map(e=>(0,_.jsx)(a.xu,{"data-test-id":"reaction-list-single-user",margin:3,children:(0,_.jsx)(y,{handleReactionListHover:t,maybeDismissReactionListWithDelay:r,response:e})},e.id))})};var S=i(19585),I=i(821806),j=i(601686);let P=(0,l.lazy)(()=>i.e("46308").then(i.bind(i,766289))),C="comment-reaction-container-entry-point",T=({commentId:e,dismissReactionList:t,helpfulCount:i,isDesktop:o,isMarkedHelpfulByMe:s,isLovedByMe:r,isReactionListOpen:d,isTry:c,lovedCount:m,onReactionCountHover:h,onToggleHelpful:x,onToggleLove:y})=>{(0,n.Z)("CommentReactionContainer","/app/packages/comment/CommentReactionContainer.tsx");let v=(0,S.Z)(),{isCommentComposerFocused:f}=(0,j.x4)(),b=(0,l.useRef)(null),k=o?16:12,[L,T]=(0,l.useState)(!1),A=!1,E=(m||0)+(i||0);s&&r&&(E-=1);let z=e=>()=>{T(e)},R=()=>{A=!0,h()},M=()=>{A=!1,setTimeout(()=>{A||t()},1e3)},D=o?(0,_.jsx)(a.xu,{"data-test-id":C,children:L?(0,_.jsx)(a.iP,{onMouseLeave:z(!1),onTap:z(!1),children:(0,_.jsx)(I.Z,{children:(0,_.jsx)(P,{onTooltipHover:z(!1),setHelpful:x(!0),setLoved:y(!0)})})}):(0,_.jsx)(a.iP,{onMouseEnter:z(!0),onTap:z(!0),children:(0,_.jsx)(a.JO,{accessibilityLabel:v._('React', 'comment.actionbar.react', 'accessibility label entry point to react to a comment'),color:"subtle",icon:"heart-outline",size:k})})}):(0,_.jsx)(a.xu,{"data-test-id":C,margin:-1.5,children:(0,_.jsx)(a.hU,{accessibilityLabel:v._('React', 'comment.actionbar.react', 'accessibility label entry point to react to a comment'),icon:"heart-outline",onClick:y(!0),size:"xs"})});return(0,_.jsxs)(a.kC,{alignItems:"center",gap:{row:o?1:1.5,column:0},children:[s||r?(0,_.jsx)(a.iP,{onTap:()=>{x(!1)(),y(!1)()},children:(0,_.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${r?p:g})`,backgroundSize:"contain"}},"data-test-id":r?"comment-reaction-container-loved-emoji":"comment-reaction-container-helpful-emoji",height:k,width:k})}):D,E>0&&(0,_.jsxs)(l.Fragment,{children:[(0,_.jsx)(a.iP,{onMouseEnter:R,onMouseLeave:M,onTap:R,children:(0,_.jsx)(a.xu,{ref:b,"data-test-id":"comment-reaction-container-reaction-count",display:o?void 0:"flex",children:(0,_.jsx)(a.xv,{color:o?"subtle":"default",inline:!0,size:o?"200":"100",weight:"bold",children:E})})}),d&&(0,_.jsx)(a.mh,{zIndex:u.Ty,children:(0,_.jsx)(a.J2,{anchor:b.current,idealDirection:"down",onDismiss:t,positionRelativeToAnchor:!1,shouldFocus:!f,children:(0,_.jsx)(a.iP,{onMouseEnter:R,onMouseLeave:M,children:(0,_.jsx)(w,{commentId:e,handleReactionListHover:R,isLovedByMe:r,isMarkedHelpfulByMe:s,isTry:c,maybeDismissReactionListWithDelay:M})})})})]})]})};var A=i(624895),E=i(54424),z=i(545961),R=i(162321);function M(e){(0,n.Z)("PhotoCommentContent","/app/packages/comment/PhotoCommentContent.tsx");let{comment:t,commentTags:i,handlePhotoTap:o,isDesktop:s,previewPhoto:r,taggedUsers:d}=e,[c,m]=(0,l.useState)(!1),{user:{username:u}}=t,g="text"in t?t.text:t.details,p=s?`${u} ${g}`:g,{height:h,url:x,width:y}=r||{},v=h??z.Vb,f=y??z.mu;return(0,_.jsxs)(a.xu,{children:[(0,_.jsx)(R.Z,{isFirstTaggedUserAuthor:!0,shouldShowFirstNameOnly:!0,taggedUsers:d,tags:i,text:p}),s||!s?(0,_.jsx)(a.xu,{marginBottom:s?void 0:1.5,marginTop:s?1:.5,children:(0,_.jsx)(z.ZP,{canEnlargePhoto:s,isSelectedPhoto:!1,previewPhoto:r})}):(0,_.jsx)(a.xu,{height:150,marginBottom:s?4:2,marginTop:1,width:150,children:(0,_.jsx)(a.iP,{disabled:!s,onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),onTap:o,children:(0,_.jsx)(a.zd,{rounding:2,wash:!0,children:x&&(0,_.jsx)(a.Ee,{alt:x,color:"#efefef",naturalHeight:v,naturalWidth:f,src:x,children:(0,_.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{cursor:s?"zoom-in":void 0,backgroundColor:`rgba(17, 17, 17, ${.4*!!c})`}},height:"100%",width:"100%"})},x)})})})]})}var D=i(667835),Z=i(302148),F=i(105433),O=i(696323);function H(e){(0,n.Z)("ReplyThread","/app/packages/comment/ReplyThread.tsx");let{featuredCommentId:t,parentId:i,parentType:s,inCommentsImprovedDropdownExp:r,inCommentsPopover:d,isDesktop:c,isLoading:m,isReadOnly:u,openOverflowMenu:g,replyingToCommentId:p,toggleEditComposer:h,toggleHelpful:x,toggleLike:y,toggleReplyComposer:v,isORBACProfileManager:f,isVideo:b,storyPinDataId:k,pinId:L,closeupAttributionId:w,aggregatedPinDataId:I,closeupAttributionUsername:j,pinnerId:P,reactionListCommentId:C,showReactionListForComment:T,viewParameter:A}=e,E=(0,S.Z)(),z=(0,D.vs)(),R=(0,F.lV)(),M=(0,o.v9)(({feeds:e})=>{let t=e[`${O.Z.AGGREGATED_COMMENT_REPLIES}:${i}`]||[],n=e[`${O.Z.AGGREGATED_COMMENTS}:${i}`]||[];return t.concat(n).reduceRight((e,{id:t})=>{let i=R[t];return i?[...e,i]:e},[])}),H=(0,l.useRef)(!0),K=(0,l.useRef)(M.length),[N,B]=(0,l.useState)(1),[V,U]=(0,l.useState)(!1),W=N===M.length;return(0,l.useEffect)(()=>{let e=K.current,t=M.length;H.current?t>0&&(H.current=!1):t>e&&U(!0),t!==e&&B(e=>e>1?t:+(t>0)),K.current=t},[M.length]),(0,_.jsxs)(l.Fragment,{children:[M.length>1&&(0,_.jsx)(a.iP,{onTap:()=>{B(W?0:M.length)},children:(0,_.jsxs)(a.xu,{alignItems:c?void 0:"center",display:c?void 0:"flex",marginBottom:c?4:6,children:[c?(0,_.jsx)(a.xu,{display:"inlineBlock",marginEnd:2,children:(0,_.jsx)(a.xv,{color:"subtle",size:"200",weight:"bold",children:"⎯⎯"})}):(0,_.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{background:z?"white":"black"}},height:1,marginEnd:2,width:32}),(0,_.jsx)(a.xv,{color:c?"subtle":"default",inline:!0,size:"100",weight:"bold",children:W?E._('Hide replies', 'comment.button.hideReplies', 'hide comment replies'):(0,Z.nk)(E.ngettext('View {{ commentCount }} reply', 'View {{ commentCount }} replies', M.length, 'comment.button.showReplies', 'show comment replies'),{commentCount:M.length})})]})}),(0,_.jsx)(er,{aggregatedPinDataId:I,closeupAttributionId:w,closeupAttributionUsername:j,comments:(()=>{if(0===N||0===M.length)return[];if(1===N)if(V)return M.slice(-1);else return M.slice(0,1);return M.slice(0,N)})(),commentsDisabled:!1,featuredCommentId:t,gapSize:c?2:6,inCommentsImprovedDropdownExp:r,inCommentsPopover:d,isDesktop:c,isLoading:m,isORBACProfileManager:f,isReadOnly:u,isVideo:b,openOverflowMenu:g,parentId:i,parentType:s,pinId:L,pinnerId:P,reactionListCommentId:C,replyingToCommentId:p,showReactionListForComment:T,storyPinDataId:k,toggleEditComposer:h,toggleHelpful:x,toggleLike:y,toggleReplyComposer:v,userAvatarSize:"sm",viewParameter:A})]})}var K=i(980787),N=i(657043),B=i(475498),V=i(670622),U=i(2420),W=i(15667),G=i(536652),$=i(87853),q=i(542092),J=i(636921),Q=i(502066),Y=i(449613),X=i(611134),ee=i(401450),et=i(78762);let ei=(0,l.lazy)(()=>i.e("16592").then(i.bind(i,357966))),en=(0,et.Z)(()=>i.e("73842").then(i.bind(i,434780)),void 0,e=>434780,"app-packages-comment-CommentOverflowPopover",e=>["73842"]),ea=(0,l.lazy)(()=>i.e("84046").then(i.bind(i,257233)));function el(e){let t,i;(0,n.Z)("Comment","/app/packages/comment/Comment.tsx");let{aggregatedPinDataId:g,closeupAttributionId:p,closeupAttributionUsername:h,comment:x,featuredCommentId:y,inCommentsImprovedDropdownExp:f,inCommentsPopover:L,isDesktop:w,isReadOnly:P,isVideo:C,openOverflowMenu:z,toggleReplyComposer:O,parentId:et,parentType:el=q.o.pin,pinId:eo,storyPinDataId:es,replyingToCommentId:er,showReactionListForComment:ed,showTopCommentHeading:ec,toggleEditComposer:em,toggleHelpful:eu,toggleLike:eg,userAvatarSize:ep,isORBACProfileManager:eh,pinnerId:e_,reactionListCommentId:ex,viewParameter:ey}=e,{user:{id:ev,first_name:ef,id:eb,image_medium_url:ek,username:eL},id:ew,is_translatable:eS,comment_count:eI,helpful_count:ej,tags:eP=[]}=x,[eC,eT]=(0,l.useState)(!1),eA=eC&&x.translatedText||x.text,eE=!eS||""===x.translatedText,ez=(0,J.Z)(),eR=!1,eM=0,eD=!1,eZ=!!x.marked_helpful_by_me,eF=w?[x.user]:[],eO="",eH=new Date;"aggregatedcomment"===x.type?(eR=x.highlighted_by_pin_owner,eM=x.reaction_counts[1],eD=x.reaction_by_me>0,i=x?.media?.sticker,eF.push(...x.tagged_users),eO=w?`${eL} ${eA??""}`:eA??"",eH=new Date(x.created_at)):(eM=x.like_count,eD=x.liked_by_me,t=x.images[0]||{},eO=w?`${eL} ${x.details}`:x.details,eH=new Date(x.done_at));let eK=t?.originals,eN=i||eK,eB=(0,S.Z)(),eV=(0,v.Z)(),{setIsMediaViewerOpen:eU,clientTrackingParams:eW,setIsCommentPopoverInteractionActive:eG}=(0,j.x4)(),{logContextEvent:e$}=(0,K.u)(),{isBot:eq}=(0,W.B)(),{showToast:eJ}=(0,$.dI)(),eQ=(0,o.I0)(),eY=(0,D.vs)(),eX=(0,l.useRef)(null),{hasApplicableLawForCountry:e0}=(0,Y.ZP)(),e1=!P||e0,e2="aggregatedcomment"===x.type&&1===x.comment_tag,e6=e2&&w,e4=(0,b.Z)(),e7=(0,k.lJ)(eV,e4),{nativeEngagementsHiddenForUser:e3}=(0,Q.G)(),{aggregatedCommentsHiddenForUser:e8,translateAggregatedComment:e9,updateAggregatedComment:e5}=(0,F.nf)(),te=(0,d.Z)(),tt="userdiditdata"===x.type,ti=(0,V.Z)(),tn=eS&&!1,ta=(0,u.zs)(eL,eP,eY,!w),tl={SHOW_TRANSLATION:eB._('Show translation', 'comment.translateButton.showTranslation', 'text for translation button when translation is available'),TRANSLATING:eB._('Translating...', 'comment.translateButton.translating', 'text for translation button while translating'),SHOW_ORIGINAL:eB._('Show original', 'comment.translateButton.showOriginal', 'text for translation button after translating')},to=(0,l.useRef)(tl.SHOW_TRANSLATION),[ts,tr]=(0,r.Z)(),[td,tc]=(0,l.useState)(!1),[tm,tu]=(0,l.useState)(!1),[tg,tp]=(0,l.useState)(!1),[th,t_]=(0,l.useState)(!1),[tx,ty]=(0,l.useState)(!1),[tv,tf]=(0,l.useState)(!1),[tb,tk]=(0,l.useState)(!1),[tL,tw]=(0,l.useState)(u.A9.NONE),tS=e=>()=>{em?em(x):tu(e)};(0,l.useEffect)(()=>{tn&&e$({event_type:10416,view_type:3,view_parameter:ey,component:"pin"===el?13696:13697})},[e$,el,tn,ey]),(0,l.useEffect)(()=>{eI>0&&!eq&&eQ((0,G.U)("aggregatedcomment"===x.type?"AggregatedCommentReplyFeedResource":"DidItCommentsResource",{options:{isUnifiedComment:!0,objectId:ew,redux_normalize_feed:!0}}))},[x.type,ew]);let tI=el.toLowerCase()===q.o.aggregatedComment.toLowerCase()||el.toLowerCase()===q.n.didIt.toLowerCase(),tj=x.user.first_name||"",tP=async({contentMarkdown:e,force:t,tags:i})=>{let n,a;t_(!0);let l=x.id;if(tI&&(n=el.toLowerCase()===q.n.didIt,l=et,a=x.id),l)try{await te({force:t,fromUnifiedComment:!0,objectType:tt||n?q.o.didIt:q.o.aggregatedComment,objectId:l,orbacSubjectId:e7,tags:i,text:e,replyToCommentId:a})}catch(t){let e=(0,N.Z)(t,"code");if([U.ky,U.LJ].includes(e??0)&&w)return tw(e===U.ky?u.A9.WARNING:u.A9.BLOCK),t_(!1),!1}return O&&O(void 0),t_(!1),!0},tC=async({contentMarkdown:e,force:t,tags:i})=>{tp(!0);try{tt?await eQ((0,X.IU)({id:x.id,details:e,pinId:eo??"",image_signatures:"image_signatures"in x&&x.image_signatures?x.image_signatures:[]})):await e5({commentId:x.id,force:t,orbacSubjectId:e7,tags:i,text:e})}catch(e){if([U.ky,U.LJ].includes((0,N.Z)(e,"code")??0)&&w)return tw(e.code===U.ky?u.A9.WARNING:u.A9.BLOCK),tp(!1),!1}return tu(!1),tp(!1),!0},tT=()=>{w?(eG(!td),tc(!td)):z&&z(x)},tA=e=>()=>{eG(e),tc(e),tk(e),e||e$({component:14349,event_type:9408})},tE=()=>{tw(u.A9.NONE)},tz=e=>{e?tr():ts(),eU(!e),ty(!e)};(0,l.useEffect)(()=>{eC&&eE&&(eT(!eC),eJ(({hideToast:e})=>(0,_.jsx)(B.Z,{onHide:e,text:eB._('Error - couldn\'t translate', 'comment.couldNotTranslate.toast', 'error toast that shows after unsuccessful translation'),type:"error"})))},[eC,eE]),eC?to.current=x.translatedText?tl.SHOW_ORIGINAL:tl.TRANSLATING:to.current=tl.SHOW_TRANSLATION;let tR=w?128:110,tM="aggregatedcomment"===x.type&&x.media?.sticker?.image_url&&(0,_.jsx)(a.xu,{height:tR,marginBottom:+!!w,marginTop:1,width:tR,children:x.media?.sticker?.image_url&&(0,_.jsx)(a.Ee,{alt:x.media?.sticker?.display_name??"",fit:"contain",naturalHeight:0,naturalWidth:0,src:x.media.sticker.image_url})});return(0,_.jsxs)(l.Fragment,{children:[(0,_.jsx)(a.xH,{accessibilityLabel:"Loading comment",show:tg}),!tm&&!tg&&(0,_.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,_.jsx)(a.xu,{marginEnd:2,children:(0,_.jsx)(s.rU,{to:`/${eL}/`,children:(0,_.jsx)(m.Z,{isQuestion:e6,name:ef||eL||"",size:ep,src:ek??""})})}),(0,_.jsxs)(a.kC,{direction:"column",flex:"grow",justifyContent:"start",children:[(0,_.jsxs)(a.kC,{justifyContent:"between",children:[(0,_.jsx)(a.kC.Item,{minWidth:0,children:(0,_.jsxs)(a.kC,{dataTestId:"author-and-comment-container",direction:"column",children:[!w&&(0,_.jsxs)(a.kC,{alignItems:"center",gap:{row:1,column:0},children:[(0,_.jsx)(R.Z,{isFirstTaggedUserAuthor:!0,lineHeight:"14px",marginEnd:0,shouldShowFirstNameOnly:!0,size:"100",taggedUsers:[x.user],tags:(0,u.zs)(eL,[],eY),text:eL}),e2&&!ec&&(0,_.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{lineHeight:"14px"}},children:(0,_.jsx)(a.xv,{color:"subtle",size:"100",children:eB._('asked a question \uD83D\uDC40', 'comment.question.label', 'label on a comment that is a question')})}),ec&&(0,_.jsxs)(a.kC,{children:[(0,_.jsx)(a.xu,{alignItems:"center",display:"flex",marginEnd:1,children:(0,_.jsx)(a.JO,{accessibilityLabel:(0,u.yW)(eB),color:"recommendation",icon:"star",size:12})}),(0,_.jsx)(a.xv,{color:"recommendation",size:"100",weight:"bold",children:(0,u._q)(eB)})]}),(e2||ec)&&eH&&(0,_.jsx)(a.xv,{color:"subtle",size:"100",children:"·"}),eH&&(0,_.jsx)(a.xu,{"data-test-id":"comments-time-passed",children:(0,_.jsx)(a.xv,{color:"subtle",size:"100",children:ti(eH,!0)})})]}),tt?(0,_.jsx)(M,{comment:x,commentTags:ta,handlePhotoTap:()=>tz(tx),isDesktop:w,previewPhoto:eK,taggedUsers:eF}):(0,_.jsx)(R.Z,{isFirstTaggedUserAuthor:!!w,lineHeight:w?void 0:"21px",marginBottom:w?void 0:"4px",shouldShowFirstNameOnly:!0,taggedUsers:eF,tags:ta,text:eO}),tM,tn&&(0,_.jsx)(a.xu,{marginBottom:2,marginTop:2,children:(0,_.jsx)(a.iP,{onTap:()=>void(!eC&&!x.translatedText&&e9(x.id),eC||to.current!==tl.SHOW_TRANSLATION?eC&&to.current===tl.SHOW_ORIGINAL&&e$({event_type:10418,view_type:3,view_parameter:ey,component:"pin"===el?13696:13697}):e$({event_type:10417,view_type:3,view_parameter:ey,component:"pin"===el?13696:13697}),eT(!eC)),children:(0,_.jsx)(a.xv,{color:"subtle",size:"300",weight:"bold",children:to.current})})})]})}),y===ew&&(0,_.jsx)(a.xu,{alignSelf:"center",color:"primary",height:8,minWidth:8,rounding:"pill"})]}),eR&&(0,_.jsx)(a.xu,{marginBottom:w?3:1.5,marginTop:w?4:-.5,children:(0,_.jsx)(a.xv,{size:"100",children:(0,Z.nk)(eB._('Highlighted by @{{ closeupAttributionUsername }}', 'comment.highlighted.label', 'label on comment that has been highlighted by the Pin creator'),{closeupAttributionUsername:h})})}),e1&&(0,_.jsx)(a.xu,{alignItems:"center",display:"flex",height:w?25:"100%",justifyContent:"between",position:"relative",children:(0,_.jsxs)(a.kC,{alignItems:"center",gap:{row:w?5:4,column:0},children:[!P&&w&&(0,_.jsx)(a.xu,{"data-test-id":"comments-time-passed",children:(0,_.jsx)(a.xv,{color:"subtle",size:"200",children:ti(eH,!0)})}),!P&&(0,_.jsx)(a.xu,{"data-test-id":"comment-reply-button-container",children:(0,_.jsx)(a.iP,{onTap:()=>{O&&O(x,et,el)},children:(0,_.jsx)(a.xv,{color:w?"subtle":"default",size:w?"200":"100",weight:"bold",children:eB._('Reply', 'comment.button.reply', 'entry point to reply to comment')})})}),!P&&(0,_.jsx)(T,{commentId:ew,dismissReactionList:()=>{ed(void 0)},helpfulCount:ej,isDesktop:w,isLovedByMe:eD,isMarkedHelpfulByMe:eZ,isReactionListOpen:ex===ew,isTry:tt,lovedCount:eM,onReactionCountHover:()=>{ed(ew),e$({event_type:9906,component:"pin"===el?13696:13697,view_type:3,view_parameter:ey})},onToggleHelpful:e=>()=>{eZ!==e&&eu(ew,!e,tt)()},onToggleLove:e=>()=>{eD!==e&&eg(ew,!e,tt)()}}),!("id"in eV&&eV.id===eb&&e2)&&(w?(0,_.jsx)(a.xu,{ref:eX,"data-test-id":"comment-more-options",children:(0,_.jsx)(a.hU,{accessibilityLabel:eB._('More', 'comment.button.more', 'see more options for comment'),icon:"ellipsis",iconColor:"gray",onClick:tT,size:"xs"})}):(0,_.jsx)(a.xu,{"data-test-id":"comment-more-options",children:(0,_.jsx)(a.iP,{onTap:tT,children:(0,_.jsx)(a.JO,{accessibilityLabel:eB._('More', 'comment.button.more', 'see more options for comment'),color:eY?"light":"dark",icon:"ellipsis",size:12})})}))]})})]})]}),w&&(0,_.jsxs)(l.Fragment,{children:[tm&&!(L||f)&&(0,_.jsx)(a.xu,{marginTop:3,children:(0,_.jsx)(A.Z,{clientTrackingParams:eW,commentWarningModalState:tL,dismissCommentWarningModal:tE,initialTags:x.tags,initialText:"aggregatedcomment"===x.type?x.text:x.details,isEditing:!0,objectType:q.o.aggregatedComment,onAddItem:tC,onCancelItem:tS(!1),postedPhoto:eN,showCommentComposer:!0,statusType:"textInFlightNested",viewParameter:ey})}),er===ew&&(0,_.jsx)(a.xu,{marginStart:12*!tI,marginTop:3,children:(0,_.jsx)(A.Z,{commentWarningModalState:tL,dismissCommentWarningModal:tE,initialTags:tI?[{offset:0,object_id:ev,length:tj.length,tag_type:1}]:[],initialText:tI?`${tj} `:"",isReplying:!0,objectType:q.o.aggregatedComment,onAddItem:tP,onCancelItem:()=>{O&&O()},showCommentComposer:!0,statusType:"textInFlightNested",viewParameter:ey})})]}),(eI>0||th)&&(0,_.jsx)(a.xu,{marginStart:w?12:10,marginTop:w?4:3,children:(0,_.jsx)(H,{aggregatedPinDataId:g,closeupAttributionId:p,closeupAttributionUsername:h,featuredCommentId:y,inCommentsImprovedDropdownExp:f,inCommentsPopover:L,isDesktop:w,isLoading:th,isORBACProfileManager:eh,isReadOnly:P,isVideo:C,openOverflowMenu:z,parentId:ew,parentType:x.type,pinId:eo,pinnerId:e_,reactionListCommentId:ex,replyingToCommentId:er,showReactionListForComment:ed,storyPinDataId:es,toggleEditComposer:em,toggleHelpful:eu,toggleLike:eg,toggleReplyComposer:O,viewParameter:ey})}),w&&e1&&(0,_.jsx)(en,{aggregatedPinDataId:g,anchor:eX.current,closeupAttributionId:p,comment:x,dismiss:e=>{tc(!1),e||(eG(!1),e$({component:14349,event_type:10128}))},inCommentsPopover:!!L,isOpen:td,isReply:tI,onEdit:tS(!0),onShowBlockUserModal:tA(!0),parentId:et,pinId:eo}),tv&&(0,_.jsx)(I.Z,{children:(0,_.jsx)(c.N,{children:(0,_.jsx)(ea,{aggregatedPinDataId:g,didItDataId:ew,onClose:e=>()=>{tf(!e)},pinId:eo??"",username:eL,users:[x.user]})})}),tb&&(0,_.jsx)(I.Z,{children:(0,_.jsx)(ei,{firstName:ef??"",onBlockUser:()=>{eQ((0,ee.Ge)({id:ev,orbacSubjectId:e7,blockSource:"comment",blockContext:ew,logContextEvent:e$})),e8(ev),e3(ev),e$({event_type:101,component:13712,element:87,view_type:220,aux_data:{creator_id:eV.isAuth?eV.id:null}}),e$({component:14349,event_type:9407}),tk(!1),ez(),eG(!1)},onClearModal:tA(!1)})}),!!eK&&tx&&(0,_.jsx)(E.Z,{onDismiss:()=>tz(tx),photo:eK})]})}var eo=i(351607),es=i(883379);function er(e){let t,i;(0,n.Z)("CommentThread","/app/packages/comment/CommentThread.tsx");let{aggregatedPinDataId:l,comments:o,commentsDisabled:s,commentsScrollContainerRef:r,featuredCommentId:d,gapSize:c=6,id:m,inCommentsImprovedDropdownExp:u,inCommentsPopover:g,isDesktop:p,isLoading:h=!1,isReadOnly:x,openOverflowMenu:y,toggleReplyComposer:v,parentId:f,parentType:b,replyingToCommentId:k,showingCloseupCommentModule:L,toggleEditComposer:w,toggleHelpful:I,toggleLike:P,userAvatarSize:C,isORBACProfileManager:T,isVideo:A,storyPinDataId:E,pinId:z,closeupAttributionId:R,closeupAttributionUsername:M,pinnerId:D,showReactionListForComment:Z,reactionListCommentId:F,viewParameter:O}=e,H=(0,S.Z)(),{closeupWithinMasonryEnabled:K}=(0,j.x4)(),N=(0,es.Z)({skipExpActivation:!0}),B=!!L&&!1;return(g?t="12px":K&&(t="8px"),i=E?"story":A?"video":"pin",s)?(0,_.jsx)(a.xu,{alignSelf:"center","data-test-id":"comments-disabled-label",marginTop:K?2:void 0,width:"100%",children:(0,_.jsx)(a.xv,{align:p?"start":"center",color:"subtle",children:H._('Comments are turned off for this Pin', 'commentThread.disabledState.message', 'Comments are turned off or disabled for this pin')})}):o.length>0?(0,_.jsxs)(a.xu,{ref:r,dangerouslySetInlineStyle:{__style:{gap:`${4*c}px 0`,overscrollBehavior:g?"none":"auto",scrollbarGutter:K?"stable":void 0,paddingTop:t,overflowX:N?"scroll":void 0}},"data-test-id":"aggregated-comment-list",direction:"column",display:"flex",id:m,maxHeight:K&&!g?722:"100%",overflow:K?"auto":void 0,width:"100%",children:[o.map((e,t)=>(0,_.jsx)(eo.Fw,{componentType:"pin"===b?13696:13697,impressionAuxFields:{commentId:e.id,pinId:z,pinOwnerUserId:R,pinType:i,parentId:f,parentType:b,commentType:"aggregatedComment"},impressionType:"Comment",loggingId:e.id,slotIndex:t,viewType:p?3:98,children:({impressionTrackerRef:i})=>{let n=t===o.length-1;return(0,_.jsx)(a.xu,{ref:i,dangerouslySetInlineStyle:{__style:{paddingBottom:g&&n?"24px":"0px"}},"data-test-id":"commentThread-comment",tabIndex:0,children:(0,_.jsx)(el,{aggregatedPinDataId:l,closeupAttributionId:R,closeupAttributionUsername:M,comment:e,featuredCommentId:d,inCommentsImprovedDropdownExp:u,inCommentsPopover:g,isDesktop:p,isORBACProfileManager:T,isReadOnly:x,isVideo:A,openOverflowMenu:y,parentId:f,parentType:b,pinId:z,pinnerId:D,reactionListCommentId:F,replyingToCommentId:k,showReactionListForComment:Z,showTopCommentHeading:B&&0===t,storyPinDataId:E,toggleEditComposer:w,toggleHelpful:I,toggleLike:P,toggleReplyComposer:v,userAvatarSize:C,viewParameter:O})})}},e.id)),h&&(0,_.jsx)(a.xH,{accessibilityLabel:H._('Comments loading', ' - ', ' -- '),show:h})]}):(0,_.jsx)(a.xu,{alignSelf:"center",width:"100%",children:(0,_.jsx)(a.xH,{accessibilityLabel:H._('Comments loading', ' - ', ' -- '),show:h})})}},624895:function(e,t,i){i.d(t,{Z:()=>r});var n=i(281098),a=i(667294),l=i(782259),o=i(785893);let s=(0,a.lazy)(()=>Promise.all([i.e("8907"),i.e("66979")]).then(i.bind(i,656379)));function r(e){return(0,n.Z)("InlineCommentComposer","/app/packages/comment/InlineCommentComposer.tsx"),(0,o.jsx)(l.Z,{fallback:null,children:(0,o.jsx)(s,{...e})})}},54424:function(e,t,i){i.d(t,{Z:()=>d});var n=i(281098),a=i(20256),l=i(762802),o=i(678213),s=i(19585),r=i(785893);function d({onDismiss:e,photo:t}){(0,n.Z)("MediaViewer","/app/packages/comment/MediaViewer.tsx");let i=(0,s.Z)(),{height:d,url:c,width:m}=t,u=Math.min(d??936,936),g="100vh",p=i._('Close media viewer', 'comments.photo.mediaViewer.close', 'Close media viewer overlay');return(0,r.jsxs)(a.mh,{zIndex:o.b7,children:[(0,r.jsx)(a.iP,{mouseCursor:"zoomOut",onTap:e,children:(0,r.jsxs)(a.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.8)"}},"data-test-id":"comment-media-viewer",display:"flex",height:g,justifyContent:"center",left:!0,position:"fixed",right:!0,top:!0,width:"100%",children:[(0,r.jsx)(a.xu,{left:!0,padding:5,position:"absolute",top:!0,children:(0,r.jsx)(a.hU,{accessibilityLabel:p,icon:"cancel",iconColor:"white",onClick:e,padding:3,size:"lg"})}),(0,r.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{margin:"0 84px"}},height:g,maxHeight:u,width:m,children:c&&(0,r.jsx)(a.Ee,{alt:c??"",fit:"contain",naturalHeight:d??1,naturalWidth:m??1,src:c},c)})]})}),(0,r.jsx)(l.Z,{onClose:e})]})}},545961:function(e,t,i){i.d(t,{Vb:()=>h,ZP:()=>x,mu:()=>_});var n=i(281098),a=i(667294),l=i(20256),o=i(767439),s=i(296691),r=i(436873),d=i(54424),c=i(19585),m=i(15667),u=i(647709),g=i(601686),p=i(785893);let h=150,_=346;function x({canEnlargePhoto:e,containerWidth:t,isSelectedPhoto:i,previewPhoto:x,removeSelectedPhoto:y}){(0,n.Z)("PhotoCommentPreview","/app/packages/comment/PhotoCommentPreview.tsx");let v=(0,c.Z)(),f=(0,u.HG)(),{isRTL:b}=(0,m.B)(),{setIsMediaViewerOpen:k}=(0,g.x4)(),[L,w]=(0,o.Z)(),[S,I]=(0,a.useState)(!1),[j,P]=(0,a.useState)(!1),[C,T]=(0,a.useState)(null),[A,E]=(0,a.useState)(s.WU),z=(0,r.Z)(x)?x?.url:x?.image_url;(0,a.useEffect)(()=>{(async()=>{z&&!(0,r.Z)(x)&&T(await new Promise((e,t)=>{let i=new Image;i.onload=()=>{e({width:i.width,height:i.height})},i.onerror=t,i.src=z}))})()},[z,x]);let R=(0,r.Z)(x)?x?.width:C?.width,M=(0,r.Z)(x)?x?.height:C?.height,D=R??0,Z=M??0,F=z??"",O=Math.min((t||(f?_:312))/D,(f?h:110)/Z,1),H=v._('Remove photo', 'photoCommentPreview.removePhoto', 'Icon to remove the selected photo from the comment composer'),K=v._('Photo', 'photoCommentPreview.previewPhoto', 'Photo previewed as part of a comment'),N=e=>{e?w():L(),k(!e),I(!e)};return(0,p.jsxs)(l.xu,{height:O*Z,marginTop:3*!!i,position:"relative",width:O*D,children:[(0,p.jsx)(l.iP,{disabled:!e,onMouseEnter:()=>P(!0),onMouseLeave:()=>P(!1),onTap:()=>N(S),children:(0,p.jsx)(l.zd,{rounding:2,children:F&&(0,p.jsx)(l.Ee,{alt:K,color:A,naturalHeight:Z,naturalWidth:D,onLoad:()=>{E(s.o),i&&URL.revokeObjectURL(F)},src:F,children:e&&(0,p.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{cursor:"zoom-in",backgroundColor:`rgba(17, 17, 17, ${.4*!!j})`}},height:"100%",width:"100%"})},K)})}),i&&(0,p.jsx)(l.xu,{alignItems:"center",display:"flex",height:24,justifyContent:"center",left:b,marginEnd:-3,marginTop:-3,position:"absolute",right:!b,top:!0,width:24,children:(0,p.jsx)(l.hU,{accessibilityLabel:H,bgColor:"lightGray",icon:"cancel",onClick:y,size:"xs"})}),S&&(0,p.jsx)(d.Z,{onDismiss:()=>N(S),photo:x})]})}},162321:function(e,t,i){i.d(t,{Z:()=>s});var n=i(281098),a=i(667294),l=i(20256),o=i(785893);let s=({inCommentFeedPreview:e,isFirstTaggedUserAuthor:t,lineHeight:i,marginBottom:s,marginEnd:r,shouldShowFirstNameOnly:d,size:c,tags:m,taggedUsers:u,text:g})=>{(0,n.Z)("TaggedText","/app/packages/comment/TaggedText.tsx");let p=(0,a.useRef)(null),h=(e,t)=>(0,o.jsx)(l.xv,{inline:!0,overflow:"normal",size:c,children:(0,o.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{lineHeight:i,overflowWrap:"anywhere",display:"inline"}},"data-test-id":"text-container",children:e})},t);return(0,o.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-wrap",wordWrap:"break-word",marginBottom:s}},children:(()=>{if(!m.length||!u||m.length!==u.length)return h(g,"1");let n=0,a=[];return m.forEach((i,s)=>{let r=g.substring(n,i.offset);n=i.offset+i.length;let m=g.substring(i.offset,n);a=a.concat(h(r,`${s}a`)).concat(((i,n,a,s)=>{let r=d||0===a&&t?u[a].first_name||u[a].username[0]:n;return(0,o.jsx)(l.xv,{color:i,inline:!0,overflow:"normal",size:c,weight:"bold",children:e?r:(0,o.jsx)(l.rU,{display:"inlineBlock",href:`/${u[a].username}`,underline:"hover",children:r})},s)})(i.color,m,s,`${s}b`))}),a=a.concat(h(g.substring(n),"2")),(0,o.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{lineHeight:i}},display:d?"flex":void 0,marginEnd:r??3,position:"relative",children:(0,o.jsx)(l.xv,{ref:p,inline:!0,lineClamp:e?1:void 0,size:c,children:a})})})()})}},296691:function(e,t,i){i.d(t,{A9:()=>h,F1:()=>w,Ff:()=>L,G5:()=>S,G_:()=>k,Gu:()=>b,LH:()=>s,Rv:()=>m,TJ:()=>g,Ty:()=>l,WU:()=>x,XU:()=>c,_q:()=>C,i$:()=>y,iB:()=>o,je:()=>r,mi:()=>I,o:()=>_,pW:()=>p,qJ:()=>T,sp:()=>j,uC:()=>d,xA:()=>u,yQ:()=>P,yW:()=>f,zs:()=>v});var n=i(20256),a=i(473728);let l=new n.Ry(3),o=48,s=56,r="sm",d=500,c=1,m=Object.freeze({TOP:0,REPLY_TO_TRIED:1,REPLY_TO_AGGREGATED:2}),u=Object.freeze({PHOTO:0,STICKER:1,PIN:2}),g="comment_featured_ids",p="did_it_featured_ids",h={NONE:"none",WARNING:"warning",BLOCK:"block"},_="transparent",x="#efefef",y=(e,t)=>e?(0,a.Z)(t.ngettext('{{ count }} Comment', '{{ count }} Comments', e, 'closeup.commentThread.heading.commentCount', 'Comment count on a Pin. count: number of comments'),{count:e.toString()}):t._('No comments yet', 'closeup.commentThread.heading.noComments', 'Prompt for user to comment on Pin'),v=(e,t,i,n)=>{let a=t.map(t=>({...t,offset:(t.offset||0)+(n?0:e.length+1),color:"shopping"}));return n?a:[{offset:0,length:e.length,color:i?"light":"dark"},...a]},f=e=>e._('Insight heading icon', 'closeupCommentModuleHeading.icon', 'Icon displayed in the comment module heading'),b=e=>e._('No comments yet', 'emptyCommentThread.noComments.heading', 'Text shown when there are no comments yet'),k=e=>e._('Post', 'commentComposer.button.post', 'Post new comment'),L=e=>e._('posted a photo', 'comment.preview.text.photo', 'Comment preview text for an image that a user posted'),w=e=>e._('posted a sticker', 'comment.preview.text.sticker', 'Comment preview text for a sticker that a user posted'),S=e=>e._('Select an emoji', 'emojitray.button.accessibilityLabel', 'Accessibility label for emoji tray button'),I=e=>e._('Select a photo', 'photoModal.button.accessibilityLabel', 'Accessibility label for photo modal button'),j=e=>e._('Select a sticker', 'stickerTray.button.accessibilityLabel', 'Accessibility label for sticker tray button'),P=e=>e._('Text editor', 'EditorWithMentions.container', 'Tappable area for the editor container'),C=e=>e._('Top Comment', 'closeupCommentModuleHeading.heading.topComment', 'Top Comment heading for the comment module'),T=e=>[S(e),I(e),k(e),j(e),P(e)]},436873:function(e,t,i){i.d(t,{Z:()=>n});let n=e=>e?.url!==void 0},607652:function(e,t,i){i.d(t,{Z:()=>d});var n,a=i(667294);i(167912);var l=i(415546),o=i(906498);let s=(void 0!==n||(n=i(673588)).hash&&"64a50a10a8f854ca82309453d98f41a7"!==n.hash&&console.error("The definition of 'useGetMainPinImage_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function r(e,t){return e&&t?`${e} ${t}w`:null}function d({pinKey:e}){let t=(0,l.Z)(s,e),{anyEnabled:i,group:n}=(0,o.Z)(),d=(0,a.useMemo)(()=>t?.imageSpec_736x||t?.imageSpec_564x||t?.imageSpec_orig||t?.imageSpec_474x||t?.imageSpec_236x,[t]),c=(0,a.useMemo)(()=>{if(!t)return;let e=[r(t.imageSpec_736x?.url,t.imageSpec_736x?.width),r(t.imageSpec_1200x?.url,t.imageSpec_1200x?.width),{enabled:null,enabled_564x:r(t.imageSpec_564x?.url,t.imageSpec_564x?.width),enabled_orig:r(t.imageSpec_orig?.url,t.imageSpec_orig?.width)}[n]].filter(Boolean);return e.length>1?e.join(", "):void 0},[t,n]),m=i?"100cqw":void 0;return(0,a.useMemo)(()=>({mainPinImage:{url:d?.url||"",height:d?.height||1,width:d?.width||1},srcSet:c,srcSizes:m}),[d,c,m])}},906498:function(e,t,i){i.d(t,{Z:()=>o});var n=i(274320),a=i(15667),l=i(647709);let o=({skipExpActivation:e=!1}={})=>{let{checkExperiment:t}=(0,n.r)(),i=(0,l.HG)(),{isAuthenticated:o}=(0,a.B)();return o&&i?t("closeup_dweb_adaptive_images",{dangerouslySkipActivation:e}):{anyEnabled:!1,group:""}}},636921:function(e,t,i){i.d(t,{Z:()=>d});var n=i(281098),a=i(20256),l=i(475498),o=i(19585),s=i(87853),r=i(785893);function d(){(0,n.Z)("useBlockToastMessage","/app/www/BlockedAccounts/useBlockToastMessage.tsx");let{showToast:e}=(0,s.dI)(),t=(0,o.Z)();return()=>{e(({hideToast:e})=>(0,r.jsx)(l.Z,{duration:5e3,onHide:e,text:t._('Blocked. To manage your block list, see social permissions in settings.', 'blockedAccounts.blockConfirmMessage', 'This message appears when a user block an account as confirmation message'),thumbnail:{icon:(0,r.jsx)(a.JO,{accessibilityLabel:t._('Success icon', 'blockedAccounts.blockConfirmMessage.icon', 'Icon displayed in the toast message as visual representation of a success message'),color:"default",icon:"check-circle-fill",size:12})}}))}}},502066:function(e,t,i){i.d(t,{G:()=>u,Kl:()=>g,vo:()=>m}),i(281098);var n=i(667294),a=i(729434),l=i(791948),o=i(914071),s=i(785893);let r=()=>i.e("83726").then(i.bind(i,3571)),{Provider:d,get:c}=(0,a.Z)("NativeEngagements");function m({children:e}){let[t,i]=(0,o.Z)(r,[]);(0,l.Z8)("NativeInteractionsResource",e=>{i({type:"FETCH_COMPLETE",payload:e})}),(0,l.my)("NativeInteractionsResource",e=>{i({type:"FETCH_MORE_COMPLETE",payload:e})});let a=(0,n.useMemo)(()=>({dispatch:i,nativeEngagements:t}),[i,t]);return(0,s.jsx)(d,{value:a,children:e})}function u(){let{dispatch:e}=c();return(0,n.useMemo)(()=>({nativeEngagementsHiddenForUser:t=>{e({type:"NATIVE_ENGAGEMENT_HIDDEN_FOR_USER",payload:{userId:t}})}}),[e])}function g(){let{nativeEngagements:e}=c();return e}},790427:function(e,t,i){i.d(t,{$8:()=>c,Dk:()=>d,Fk:()=>a,fS:()=>r,lI:()=>l,mS:()=>s,qW:()=>o});var n=i(20256);let a=new n.Ry(1),l=new n.Ry(3),o=2,s=new n.Ry(o),r=3,d=new n.Ry(100),c=new n.H3([d])},934603:function(e,t,i){i.d(t,{B:()=>w,Z:()=>I});var n,a=i(281098),l=i(667294),o=i(581722);i(167912);var s=i(616550),r=i(20256),d=i(315787),c=i(821342),m=i(415546),u=i(886981),g=i(647709),p=i(341742),h=i(448505),_=i(7872),x=i(105433),y=i(542092),v=i(716751),f=i(611134),b=i(32082),k=i(793698),L=i(785893);let w=({aggregatedPinDataId:e,featuredCommentIds:t,featuredDidItIds:i,isDesktop:n,isReversed:l=!1,noCache:o=!1,orbacSubjectId:s=""})=>((0,a.Z)("CommentThreadContainer","/app/www/comments/CommentThreadContainer.tsx"),{name:"UnifiedCommentsResource",options:{aggregated_pin_id:e,comment_featured_ids:t,did_it_featured_ids:i,page_size:n?10:25,redux_normalize_feed:!0,is_reversed:l,...s?{orbac_subject_id:s}:{}},noCache:o}),S=(void 0!==n||(n=i(316387)).hash&&"38e173ab2c3107ebc5b3da9f216fac98"!==n.hash&&console.error("The definition of 'CommentThreadContainer_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),I=({isReadOnly:e,pinKey:t,scrollContainer:i,showingCloseupCommentModule:n,viewParameter:I,toggleComposerForReply:j,openMwebOverflowMenu:P})=>{(0,a.Z)("CommentThreadContainer","/app/www/comments/CommentThreadContainer.tsx");let{comment_id:C}=(0,s.UO)(),T=(0,o.I0)(),A=(0,g.HG)(),E=(0,c.Z)(),z=(0,m.Z)(S,t),R=(z?.aggregatedPinData?.commentCount||0)+(z?.aggregatedPinData?.didItData?.imagesCount||0),M=z?.aggregatedPinData?.entityId,D=z?.closeupAttribution?.entityId,Z=z?.closeupAttribution?.username,F=z?.commentsDisabled,O=R>0&&!z?.commentsDisabled,H=!!z?.videos?.videoList,K=z?.entityId,N=z?.pinner?.entityId,B=z?.storyPinData?.entityId,V=(0,l.useRef)(O),U=(0,h.Z)(),W=(0,_.lJ)(E,U),G=(0,u.Z)(V.current&&M?w({aggregatedPinDataId:M,featuredCommentIds:C?[C]:[],isDesktop:A}):null),{removeUnauthCommentPinId:$,unauthCommentPinId:q}=(0,v.o)(),J=(0,x.lV)(),{toggleAggregatedCommentHelpful:Q,toggleAggregatedCommentLike:Y}=(0,x.nf)(),X=(0,k.dM)(),ee=(0,o.v9)(e=>(0,b.Z)(e,{aggregatedPinDataId:M,aggregatedComments:J,users:X})),[et,ei]=(0,l.useState)(void 0);(0,p.Z)(()=>{!A&&E.isAuth&&q&&K&&q===K&&$()}),(0,l.useEffect)(()=>{let e=()=>{let t=!!i&&i.scrollTop+i.clientHeight+10>=i.scrollHeight;G&&!G.isFetching&&(G.isAtEnd?i?.removeEventListener("scroll",e):t&&G.fetchMore())};return i?.addEventListener("scroll",e),()=>{i?.removeEventListener("scroll",e)}},[G,i]);let en=2*(!A&&!F);return(0,L.jsx)(l.Fragment,{children:(0,L.jsx)(r.xu,{display:"flex",height:A||F||0!==ee.length?void 0:"100%",marginTop:A?6:en,width:"100%",children:(0,L.jsx)(d.Z,{aggregatedPinDataId:M,closeupAttributionId:D,closeupAttributionUsername:Z,comments:ee,commentsDisabled:F,isDesktop:A,isReadOnly:e,isVideo:H,openOverflowMenu:P,parentId:M??"",parentType:y.o.pin,pinId:K,pinnerId:N,reactionListCommentId:et,showingCloseupCommentModule:n,showReactionListForComment:ei,storyPinDataId:B,toggleHelpful:(e,t,i)=>()=>{i?T((0,f.YH)({didItDataId:e,isMarkedHelpfulByMe:t,orbacSubjectId:W})):Q({aggregatedCommentId:e,isMarkedHelpfulByMe:t,orbacSubjectId:W})},toggleLike:(e,t,i)=>()=>{i?T((0,f.wH)({didItDataId:e,isLikedByMe:t,orbacSubjectId:W})):Y({aggregatedCommentId:e,isLikedByMe:t,orbacSubjectId:W})},toggleReplyComposer:j,userAvatarSize:"sm",viewParameter:I})})})}},716751:function(e,t,i){i.d(t,{o:()=>s,p:()=>r}),i(281098);var n=i(667294),a=i(729434),l=i(785893);let{Provider:o,get:s}=(0,a.Z)("Session");function r({children:e}){let[t,i]=(0,n.useState)(void 0),a=(0,n.useCallback)(()=>i(void 0),[]),s=(0,n.useMemo)(()=>({unauthCommentPinId:t,setUnauthCommentPinId:i,removeUnauthCommentPinId:a}),[t,a]);return(0,l.jsx)(o,{value:s,children:e})}},32082:function(e,t,i){i.d(t,{Z:()=>o});var n=i(442279),a=i(696323);let l={},o=(0,n.createSelector)((e,{aggregatedComments:t})=>t,({feeds:e},{aggregatedPinDataId:t})=>e[`${a.Z.UNIFIED_COMMENTS}:${t||""}`],({didItData:e})=>e,(e,{users:t})=>t??l,(e,t,i,n)=>{let a=new Set;return t?.map(({id:t,type:o})=>{if(a.has(t))return;a.add(t);let s="aggregatedcomment"===o.toLowerCase()?e[t]:i[t];if(!s)return;let r="user"in s&&("string"==typeof s.user?n[s.user]??l:s.user??l);return{...s,user:r??l}}).filter(e=>void 0!==e)||[]})},333651:function(e){e.exports="https://s.pinimg.com/webapp/commentHelpful-99007872.svg"},773655:function(e){e.exports="https://s.pinimg.com/webapp/commentLoved-7942dc4f.svg"}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/78946-fbed7b35cb6c941a.mjs.map