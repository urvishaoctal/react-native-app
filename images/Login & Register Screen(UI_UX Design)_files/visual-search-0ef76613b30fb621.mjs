(self.modernJsonp=self.modernJsonp||[]).push([["91533"],{345463:function(e,t,i){i.r(t),i.d(t,{default:()=>n});let a={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"MobileFlashlightPageFetchDataPinQuery",selections:[{alias:null,args:o=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MobileFlashlightPageFetchData_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"MobileFlashlightPageFetchDataPinQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"736x")'},{alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"7cd65bb908c0282c47af2a2dc30819668fdb6b1e8614019a84c0ea7e8c4cad07",metadata:{},name:"MobileFlashlightPageFetchDataPinQuery",operationKind:"query",text:null}};a.hash="a0953a7ea15ce447a2452bbeca8586ba";let n=a;var l,o,r,s=a.default||a;if("query"===s.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(s);else{let e=[s.params.name,s.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[e]=s}},807352:function(e,t,i){i.r(t),i.d(t,{default:()=>n});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MobileFlashlightPageFetchData_pin",selections:[{args:null,kind:"FragmentSpread",name:"MobileFlashlightPage_pin"}],type:"Pin",abstractKey:null};a.hash="df8cf9d2521b1a82156cc4ecd7b04884";let n=a},272636:function(e,t,i){i.r(t),i.d(t,{default:()=>n});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MobileFlashlightPage_pin",selections:[{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"736x")'},{alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"Pin",abstractKey:null};a.hash="a4c8c4488bd813d69ca9e96072e3d2d7";let n=a},189039:function(e,t,i){i.r(t),i.d(t,{default:()=>n});let a={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"StructuredFeedStoryModule_story",selections:[{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"containerType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null},{alias:null,args:null,concreteType:"StoryContentDynamicJustify",kind:"LinkedField",name:"dynamicJustifyContent",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"narrowView",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wideView",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:[{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"CarouselModule_story"},{args:null,kind:"FragmentSpread",name:"HeaderModule_story"}],type:"Story",abstractKey:null};a.hash="89000b08539b2d49298d8c3af31ee2f4";let n=a},573631:function(e,t,i){i.d(t,{G:()=>s,b:()=>d});var a=i(281098),n=i(667294),l=i(825332),o=i(785893);let r=(0,n.createContext)(!0);function s({children:e}){(0,a.Z)("InitialPageContext","/app/packages/InitialPageContext.tsx");let t=(0,l.TH)(),i=(0,n.useRef)(t).current===t;return(0,o.jsx)(r,{value:i,children:e})}function d(){return(0,a.Z)("InitialPageContext","/app/packages/InitialPageContext.tsx"),(0,n.useContext)(r)}},530848:function(e,t,i){i.d(t,{Z:()=>d});var a=i(281098),n=i(667294),l=i(20256),o=i(93966),r=i(785893);function s(){return(0,a.Z)("EmptyItemRep","/app/packages/StructuredFeed/ItemReps/utils/EmptyItemRep.tsx"),(0,r.jsx)(l.xu,{width:o.yF})}function d(){return(0,a.Z)("EmptyItemRepList","/app/packages/StructuredFeed/ItemReps/utils/EmptyItemRepList.tsx"),(0,r.jsx)(n.Fragment,{children:Array(12).fill(void 0).map((e,t)=>(0,r.jsx)(s,{},t))})}},730378:function(e,t,i){i.d(t,{Z:()=>s});var a=i(281098),n=i(20256),l=i(452918),o=i(785893);let r=new Map([["pin",4],["explorearticle",2]]);function s({children:e,itemType:t,overrideMargin:i}){return(0,a.Z)("StructuredFeedElementWrapper","/app/packages/StructuredFeed/ItemReps/utils/StructuredFeedElementWrapper.tsx"),(0,o.jsx)(n.xu,{marginBottom:i||r.get(t)||l.mT,children:e})}},793760:function(e,t,i){i.r(t),i.d(t,{default:()=>eo});var a,n=i(281098);i(167912);var l=i(20256),o=i(761578),r=i(415546),s=i(351607),d=i(431870),c=i(932088),u=i(93966),p=i(385292),h=i(733029),m=i(774937),g=i(452918),y=i(207729),x=i(785893);let _=()=>(0,x.jsx)(l.xu,{color:"secondary",height:u.yF,width:u.yF}),f={1:{itemRep:h.Z,deprecatedActionShape:"square",deprecatedGetActionImage:e=>e.images?.orig?.url||""},4:{itemRep:p.Z,deprecatedActionShape:"circle",deprecatedGetActionImage:e=>e.images?.orig?.url||""},2:{itemRep:m.Z,deprecatedActionShape:"circle",deprecatedGetActionImage:e=>e.image_large_url}};function w({auxData:e,componentFallback:t,showExpanded:i=!0,story:a,view:o,viewParameter:r}){(0,n.Z)("FreeformModule","/app/packages/StructuredFeed/ModuleReps/FreeformModule/FreeformModule.tsx");let s=(f[(a.display_options?.content_display||{}).model_type]||g.g5).itemRep||_,d=a.display_options?.content_display?.component_type??t;return(0,x.jsx)(l.xu,{marginBottom:2,children:(0,x.jsxs)(l.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[a.title&&(0,x.jsx)(y.Z,{showExpanded:i,storyKey:{type:"deprecated",data:a}}),(0,x.jsx)(l.kC,{gap:2,justifyContent:"center",wrap:!0,children:a.objects?.map(function(t,i){return(0,x.jsx)(s,{auxData:e,component:d,imagePlaceholderColor:"rgba(0, 0, 0, 0)",index:i,item:t,story:a,view:o,viewParameter:r},i)})})]})})}var b=i(667294),v=i(467925),S=i(757947),j=i(530848),k=i(730378),P=i(284660),C=i(342978),T=i(88828),I=i(647709);let F="rgba(0, 0, 0, 0)",Z={1:375},A=()=>(0,x.jsx)(l.xu,{color:"secondary",height:u.yF,width:u.yF}),E={1:{itemRep:h.Z,deprecatedActionShape:"square",deprecatedGetActionImage:e=>e.images?.orig?.url||""},4:{itemRep:p.Z,deprecatedActionShape:"circle",deprecatedGetActionImage:e=>e.images?.orig?.url||""},2:{itemRep:m.Z,deprecatedActionShape:"circle",deprecatedGetActionImage:e=>e.image_large_url}};function M({auxData:e,componentFallback:t,dangerouslySetActionUrl:i,dangerouslySetContentVisibleItemCount:a,disableHeader:n,dynamicItemWidth:o,initialSlotIndex:r=0,showExpanded:s,story:d,surface:c,view:p,viewParameter:h,width:m}){let _=(0,I.HG)(),f=d.display_options?.content_display||{},w=E[f.model_type]||g.g5,M=w.itemRep||A,{action:D}=d,R=i||d.action?.url||"",L=f.component_type??t,H=f.grid_layout?.rows,z="number"==typeof H?H:1,O=f.grid_layout?.cols,K="number"==typeof O?O:-1,N=-1===K,V=f.dynamic_item_width||{},B=V.narrow_view?Z[V.narrow_view]:"100%",U=a??f.content_visible_item_count?.web,W=U&&m&&o?(0,u.Wv)({defaultItemWidth:u.yF,contentVisibleItemCount:U,gap:u.oX,moduleWidth:"number"==typeof m?m:parseInt(m,10)}):u.yF,{containerRef:G,itemsToRender:$,actionItem:Y}=(0,T.Z)({items:d.objects||[],itemWidth:(0,P.Z)()?u.tG:W,itemGap:u.oX,actionItemType:D?"one":void 0,numRows:z}),q=Y&&w.deprecatedGetActionImage?w.deprecatedGetActionImage(Y):void 0,J=N?$:d.objects||[],{experimentalGutterBoints:X}=(0,v.Z)(),Q=J.map((t,i)=>(0,x.jsx)(k.Z,{itemType:"string"==typeof t.type?t.type:null,children:(0,x.jsx)(M,{auxData:e,component:L,imagePlaceholderColor:F,imageWidth:W,index:i,item:t,slotIndex:r+i,story:d,surface:c,view:p,viewParameter:h})},i)),ee=!!R&&!!D?.text&&q&&(0,x.jsx)(S.Z,{auxData:e,buttonText:D.text,component:L,contentIds:d.content_ids,element:179,imageWidth:W,previewImageSrc:q,shape:w.deprecatedActionShape,storyId:d.id,storyType:d.story_type,url:R,view:p,viewParameter:h});return(0,x.jsxs)(l.xu,{alignItems:"stretch",color:"default",direction:"column",display:"flex",justifyContent:"start",width:B,children:[d.title&&!n&&(0,x.jsx)(y.Z,{showExpanded:s,storyKey:{type:"deprecated",data:d}}),N?(0,x.jsxs)(C.Z,{containerRef:G,itemGap:u.oX,numRows:z,rowAlignment:"center",children:[Q,ee,z>1&&(0,x.jsx)(j.Z,{})]}):(0,x.jsxs)(b.Fragment,{children:[K>1?Array(z).fill(null).map((e,t)=>(0,x.jsx)(l.kC,{alignItems:"stretch",gap:X??(_?u.jC:u.D6),justifyContent:"start",width:"100%",wrap:K<=1,children:K>0&&Array(K).fill(null).map((e,i)=>{let a=Q[t*K+i];return(0,x.jsx)(l.kC.Item,{flex:"grow",children:a},i)})},J[t].id)):(0,x.jsx)(l.kC,{direction:"column",children:Q}),ee]})]})}function D({auxData:e,componentFallback:t,showExpanded:i=!0,story:a,view:n,viewParameter:o}){let r=(E[(a.display_options?.content_display||{}).model_type]||g.g5).itemRep||A,s=a.display_options?.content_display?.component_type??t,d=(0,P.Z)()?u.tG:u.yF;return(0,x.jsxs)(l.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[a.title&&(0,x.jsx)(y.Z,{showExpanded:i,storyKey:{type:"deprecated",data:a}}),(0,x.jsx)(l.Rk,{columnWidth:d,gutterWidth:u.oX,items:a.objects||[],layout:"flexible",renderItem:({data:t,itemIdx:i})=>(0,x.jsx)(r,{auxData:e,component:s,imagePlaceholderColor:F,index:i,item:t,story:a,view:n,viewParameter:o},i)})]})}function R(e){switch((0,n.Z)("GridSectionModule","/app/packages/StructuredFeed/ModuleReps/GridSectionModule/GridSectionModule.tsx"),e.story.display_options?.content_display?.pins_display){case 3:case 1:case 2:return(0,x.jsx)(D,{...e});default:return(0,x.jsx)(M,{...e})}}var L=i(956077),H=i(461951);function z({auxData:e,component:t,onImageLoad:i,story:a,view:o,viewParameter:r}){(0,n.Z)("SingleImageHero","/app/packages/StructuredFeed/ModuleReps/HeroModule/SingleImageHero.tsx");let{id:d,story_type:c,title:u="",description:p=""}=a,{hero_display_options:h,attribution_display_options:m}=a.display_options?.header_display||{},{image_style:g,dominant_color:y,width_height_ratio:_=1,image_url:f}=h||{},{text:w,subspan_text:v,attribution_action:S,icon:j}=m||{},{subspan_only:k}=S||{},P=(0,s.ZP)({loggingId:d,objectIdStr:d,impressionType:"Story",contextLogData:(0,b.useMemo)(()=>({story_id:d,story_type:c,...e}),[d,c,e]),slotIndex:0,viewParameter:r,viewType:o,componentType:t}),C="string"==typeof u?u:u?.format??"",T="string"==typeof p?p:p?.format??"";return(0,x.jsx)(l.xu,{ref:P,"data-test-id":"sf-single-image-hero",children:(0,x.jsxs)(l.kC,{direction:"column",children:[(0,x.jsxs)(l.xu,{overflow:"hidden",position:"relative",children:[(0,x.jsx)(l.xu,{dangerouslySetInlineStyle:1===g?{__style:{filter:"blur(4px)",transform:"scale(1.05)"}}:void 0,children:(0,x.jsx)(l.xu,{width:"100%",children:(0,x.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{aspectRatio:`${_} / 1`}},children:(0,x.jsx)(l.Ee,{alt:"",color:y||"#fff",fit:"cover",naturalHeight:1,naturalWidth:_||1,onLoad:i,role:"presentation",src:f||void 0,children:3===g?(0,x.jsxs)(b.Fragment,{children:[(0,x.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{background:H.OHS}},"data-test-id":"single-image-hero-gradient-overlay-top",height:"50%",left:!0,position:"absolute",right:!0,top:!0}),(0,x.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{background:H.AEu}},"data-test-id":"single-image-hero-gradient-overlay-bottom",height:"50%",left:!0,position:"absolute",right:!0})]}):null})})})}),(0,x.jsx)(l.xu,{bottom:!0,"data-test-id":"bottom-title",padding:4,position:"absolute",children:(0,x.jsx)(l.X6,{accessibilityLevel:1,color:"light",size:"600",children:C})})]}),(0,x.jsx)(l.xu,{marginTop:4,paddingX:4,children:(0,x.jsxs)(l.kC,{direction:"column",children:[(0,x.jsx)(l.xu,{children:(0,x.jsx)(l.xv,{size:"300",children:T})}),m&&(0,x.jsx)(l.xu,{"data-test-id":"single-image-hero-attribution-container",marginTop:3,children:(0,x.jsxs)(l.kC,{alignItems:"center",direction:"row",children:[1===j&&(0,x.jsx)(l.JO,{accessibilityLabel:"",color:"brandPrimary",dataTestId:"single-image-hero-pinterest-icon",icon:"pinterest",size:24}),2===j&&(0,x.jsx)(l.JO,{accessibilityLabel:"",dataTestId:"single-image-hero-info-circle-icon",icon:"info-circle",size:24}),3===j&&(0,x.jsx)(l.JO,{accessibilityLabel:"",dataTestId:"single-image-hero-arrow-up-right-icon",icon:"arrow-up-right",size:24}),(0,x.jsx)(l.xu,{marginStart:2*(0!==j),children:(()=>{if(!m||!w)return null;if(!S?.url)return(0,x.jsx)(l.xv,{size:"100",children:w});switch(k){case 1:{if(!v)return(0,x.jsx)(l.xv,{size:"100",children:w});let e=w.indexOf(v);if(-1===e)return(0,x.jsx)(l.xv,{size:"100",children:w});let t=w.substring(0,e),i=w.substring(e+v.length);return(0,x.jsxs)(l.xv,{size:"100",children:[t,(0,x.jsx)(l.xv,{inline:!0,size:"100",weight:"bold",children:(0,x.jsx)(l.rU,{display:"inline",href:S.url,underline:"none",children:v})}),i]})}case 2:return(0,x.jsx)(l.xv,{size:"100",children:(0,x.jsx)(l.rU,{href:S.url,children:w})});default:return(0,x.jsx)(l.xv,{size:"100",children:w})}})()})]})})]})})]})})}var O=i(825332),K=i(980787),N=i(744862),V=i(821342),B=i(19585),U=i(361055);let W=({actionText:e,actionUrl:t,articleId:i,author:a,authorAvatar:o,auxData:r,component:d,contentIds:c,coverImage:u,debug:p,index:h,isFullWidth:m=!1,onImageLoad:g,storyId:y,storyType:_,subtitle:f,title:w,view:v,viewParameter:S,width:j,windowWidth:k})=>{(0,n.Z)("Hero","/app/packages/StructuredFeed/ModuleReps/HeroModule/Hero.tsx");let P=(0,B.Z)(),C=(0,O.s0)(),{logContextEvent:T}=(0,K.u)(),[I,F]=(0,b.useState)(!1),Z=(0,V.Z)(),A=Z.isAuth?Z?.avatar_color_index:void 0,E=(0,s.ZP)({loggingId:i,objectIdStr:i,impressionType:"Article",contextLogData:{content_ids:c,story_id:y,story_type:_,article_id:i,...r},slotIndex:h,viewParameter:S,viewType:v,componentType:d});return(0,x.jsx)(l.xu,{"data-test-id":"sf-hero",children:(0,x.jsxs)(l.xu,{ref:E,height:"auto",onMouseEnter:()=>F(!0),onMouseLeave:()=>F(!1),width:j,children:[(0,x.jsx)(l.iP,{onTap:()=>{T({event_type:101,view_type:v,view_parameter:S,component:d,aux_data:{article_id:i,content_ids:c,story_id:y,story_type:_,...r}}),C(t)},children:(0,x.jsxs)(l.xu,{height:m?400:"35vw",maxHeight:500,overflow:"hidden",position:"relative",children:[(0,x.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{transition:"transform 0.4s",transform:I?"scale(1.5)":"scale(1)"}},height:"100%",width:"100%",children:(0,x.jsx)(l.Ee,{alt:P._('Cover image of this shopping spotlight', 'hero.heroCoverImage', 'alt text for an image previewing the contents of a spotlight article'),color:"#fff",fit:"cover",naturalHeight:400,naturalWidth:400,onLoad:g,src:u,children:(0,x.jsx)(l.xu,{color:"transparentDarkGray",display:"block",height:"100%",opacity:.3,width:"100%"})})}),(0,x.jsx)(l.xu,{bottom:!0,marginBottom:12*!!m,padding:6,position:"absolute",width:"100%",children:(0,x.jsxs)(l.kC,{direction:"column",height:"100%",justifyContent:"end",children:[(0,x.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{transition:"transform 0.4s",transform:I?"translateY(-20px)":"translateY(20px)"}},children:(0,x.jsx)(l.X6,{color:"light",size:k<=822?"700":k<1e3?"400":k<1100?"600":"700",children:w})}),(0,x.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{opacity:+!!I,transition:I?"opacity 0.4s ease-in":"opacity 0.4s ease-out"}},display:"block",height:I?"auto":20,overflow:"hidden",children:[(0,x.jsx)(l.xv,{color:"inverse",children:f}),a&&(0,x.jsx)(l.xu,{marginTop:4,children:(0,x.jsxs)(l.kC,{alignItems:"center",direction:"row",children:[(0,x.jsx)(N.qE,{color:A,name:a,size:"md",src:o})," ",(0,x.jsx)(l.xv,{color:"inverse",children:a})]})})]}),(0,x.jsx)(l.xu,{marginTop:4,width:"74px",children:(0,x.jsx)(l.zx,{color:"white",onClick:()=>{C(t)},size:"lg",text:e})})]})})]})}),void 0!==p&&(0,x.jsx)(U.Z,{data:p})]})})};var G=i(300685),$=i(458684),Y=i(828942);function q({auxData:e,onImageLoad:t,story:i,view:a,viewParameter:o,component:r,width:s}){(0,n.Z)("SingleImageHeroCarousel","/app/packages/StructuredFeed/ModuleReps/HeroModule/SingleImageHeroCarousel.tsx");let[d,c]=(0,b.useState)(0),u=(0,b.useRef)(null),p=i.objects?.slice(0,3)||[];return(0,x.jsxs)(l.xu,{ref:u,alignItems:"end",display:"flex",height:400,justifyContent:"center",position:"relative",width:s,children:[(0,x.jsx)(G.Z,{containerRef:u.current,id:i.id,index:d,slideWidth:s,children:p.map((n,l)=>(0,x.jsx)(W,{actionText:n.action?.text||"",actionUrl:n.action?.url||"",articleId:n.id,auxData:e,component:r,coverImage:n.cover_images&&n.cover_images[0].originals?.url||"",debug:n.debug,index:l,isFullWidth:!0,onImageLoad:t,storyId:i.id,storyType:i.story_type,subtitle:n.subtitle?.format||"",title:n.title?.format||"",view:a,viewParameter:o,width:s,windowWidth:s},n.id))}),(0,x.jsx)(l.xu,{display:"inlineBlock",height:"auto",paddingY:5,position:"absolute",width:"60%",children:(0,x.jsx)($.default,{addEllipsis:!0,backNode:(0,x.jsx)(Y.Z,{iconColor:"inverse",iconType:"back",showFab:!0}),carouselData:{index:d,entityId:"",carouselSlots:p.map(e=>({id:e.id,title:null}))},carouselIndex:d,forwardNode:(0,x.jsx)(Y.Z,{iconColor:"inverse",iconType:"forward",showFab:!0}),handleCarouselSwipe:e=>{c(e)},pinKey:null})})]})}function J({auxData:e,onImageLoad:t,story:i,view:a,viewParameter:l,component:o,width:r}){(0,n.Z)("SingleImageHeroDisplay","/app/packages/StructuredFeed/ModuleReps/HeroModule/SingleImageHeroDisplay.tsx");let s=i.objects&&i.objects.length>0,d=i.display_options?.header_display?.hero_display_options?.image_url;return!s&&d?(0,x.jsx)(z,{auxData:e,component:o,onImageLoad:t,story:i,view:a,viewParameter:l}):(0,x.jsx)(q,{auxData:e,component:o,onImageLoad:t,story:i,view:a,viewParameter:l,width:r})}function X({auxData:e,component:t,onImageLoad:i,story:a,view:o,viewParameter:r,windowWidth:s}){(0,n.Z)("TripleImageHeroDisplay","/app/packages/StructuredFeed/ModuleReps/HeroModule/TripleImageHeroDisplay.tsx");let d=a.objects?.slice(0,3)||[];return d.length<3?null:(0,x.jsxs)(b.Fragment,{children:[(0,x.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:d[0].dominant_colors[0]}},flex:"grow"}),d.map((n,l)=>(0,x.jsx)(W,{actionText:n.action?.text||"",actionUrl:n.action?.url||"",articleId:n.id,auxData:e,component:t,coverImage:n.cover_images&&n.cover_images[0].originals?.url||"",debug:n.debug,index:l,onImageLoad:i,storyId:a.id,storyType:a.story_type,subtitle:n.subtitle?.format||"",title:n.title?.format||"",view:o,viewParameter:r,width:500,windowWidth:s},n.id)),(0,x.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:d[2].dominant_colors[0]}},flex:"grow"})]})}function Q({auxData:e,component:t,pwtSurfaceContext:i,story:a,view:r,viewParameter:s}){(0,n.Z)("HeroModule","/app/packages/StructuredFeed/ModuleReps/HeroModule/HeroModule.tsx");let{width:d=0}=(0,o.Z)()||{},c=()=>{(0,L.Nx)("RenderHeroImages"),i&&i.markConstraintComplete("RenderHeroImages")},u=d>822&&(a.objects?.length??0)>=3?3:1;return(0,x.jsx)(b.Fragment,{children:(0,x.jsx)(l.kC,{alignItems:"stretch",direction:"row",justifyContent:"start",children:3===u?(0,x.jsx)(X,{auxData:e,component:t,onImageLoad:c,story:a,view:r,viewParameter:s,windowWidth:d}):(0,x.jsx)(J,{auxData:e,component:t,onImageLoad:c,story:a,view:r,viewParameter:s,width:d})})})}function ee({story:e}){(0,n.Z)("SingleImageUpsellModule","/app/packages/StructuredFeed/ModuleReps/SingleImageUpsellModule/SingleImageUpsellModule.tsx");let t=(0,O.s0)(),{user:i,custom_properties:a,action:o}=e||{},{full_name:r,username:s,image_medium_url:d,avatar_color_index:c}=i||{},p=r||e.title?.format||"",{url:h,text:m}=o||{},{image:g}=a||{};if(!h||!m)return null;let y=(0,x.jsxs)(l.xu,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:"100%",justifyContent:"center",padding:2,position:"relative",children:[s&&d&&(0,x.jsx)(l.xu,{left:!0,padding:2,position:"absolute",top:!0,children:(0,x.jsx)(N.qE,{color:c||void 0,name:s,size:"sm",src:d})}),p&&(0,x.jsx)(l.xv,{color:"inverse",weight:"bold",children:p})]});return(0,x.jsxs)(l.xu,{marginBottom:4,width:u.yF,children:[(0,x.jsx)(l.iP,{onTap:()=>t(h),children:(0,x.jsx)(l.zd,{height:u.yF,rounding:2,wash:!0,children:"string"==typeof g&&g?(0,x.jsx)(l.Ee,{alt:p,fit:"contain",naturalHeight:u.yF,naturalWidth:u.yF,src:g,children:y}):(0,x.jsx)(l.xu,{height:u.yF,width:u.yF,children:y})})}),(0,x.jsx)(l.xu,{marginTop:3,children:(0,x.jsx)(l.ZP,{fullWidth:!0,href:h,text:m})})]})}let et=new Set([101]);var ei=i(598579);let ea="UNKNOWN_CONTAINER_TYPE",en={2:"center",3:"end",1:"start"},el=(void 0!==a||(a=i(189039)).hash&&"89000b08539b2d49298d8c3af31ee2f4"!==a.hash&&console.error("The definition of 'StructuredFeedStoryModule_story' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);function eo(e){var t;(0,n.Z)("StructuredFeedStoryModule","/app/packages/StructuredFeed/ModuleReps/utils/StructuredFeedStoryModule.tsx");let{auxData:i,componentFallback:a,initialSlotIndex:u,view:p,viewParameter:h,width:m}=e,{story:g,storyKey:_,...f}=e,{width:b=0}=(0,o.Z)()||{},v=(0,r.Z)(el,_),S=v?.displayOptions?.contentDisplay?.componentType??a,j={...f,component:S},k=(0,s.ZP)({clientTrackingParams:v?.trackingParams,componentType:S,contextLogData:{story_id:v?.storyId,story_type:v?.storyType,content_ids:v?.contentIds,...i},impressionType:"Story",loggingId:v?.storyId,slotIndex:u||0,viewParameter:h,viewType:p}),P=b<=ei.$R?v?.displayOptions?.contentDisplay?.dynamicJustifyContent?.narrowView?en[v.displayOptions.contentDisplay.dynamicJustifyContent.narrowView]:"start":v?.displayOptions?.contentDisplay?.dynamicJustifyContent?.wideView?en[v.displayOptions.contentDisplay.dynamicJustifyContent.wideView]:"start",C=(()=>{switch(v?.containerType){case 90:case 139:return(0,x.jsx)(d.default,{...j,story:g,storyKey:v,width:m});case 88:return(0,x.jsx)(y.Z,{...j,storyKey:v});case 89:let{location:e,text:t,url:i}=v?.action||{};return(0,x.jsx)(c.Z,{location:e,text:t,url:i});case 91:return!!g&&(0,x.jsx)(R,{...j,story:g});case 101:return!!g&&(0,x.jsx)(Q,{...j,story:g});case 92:return!!g&&(0,x.jsx)(ee,{...j,story:g});case 131:return!!g&&(0,x.jsx)(w,{...j,story:g});default:return ea}})();return C===ea?null:(0,x.jsxs)(l.xu,{ref:k,"data-test-id":v?.storyType??"structured-feed-story-module",display:"flex",justifyContent:P,width:(t=v?.containerType,et.has(t))?void 0:m,children:[C,(0,x.jsx)(l.xu,{})]})}},524884:function(e,t,i){i.d(t,{Z:()=>n}),i(281098);var a=i(785893);let n=(0,a.jsx)("svg",{fill:"none",height:"5",viewBox:"0 0 37 5",width:"37",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("rect",{fill:"#E9E9E9",height:"5",rx:"2.5",width:"37"})})},291892:function(e,t,i){i.d(t,{Z:()=>r});var a=i(281098),n=i(667294),l=i(284778),o=i(785893);function r({alt:e,children:t,color:i,elementTiming:r,fetchPriority:s,isActive:d=!1,naturalHeight:c,naturalWidth:u,onLoad:p,src:h,fit:m="none",srcSet:g,...y}){(0,a.Z)("ImageWithPerfTiming","/app/packages/pwt-logger/ImageWithPerfTiming.tsx");let x=(0,n.useRef)(null),_=(0,n.useRef)(null);return(0,n.useEffect)(()=>{if(h!==x.current||d&&d!==_.current){x.current=h??null;let e=document.querySelector(`img[src="${h}"]`)||null;e?.complete&&p()}_.current=d},[h,p,d]),(0,o.jsx)(l.Z,{...y,alt:e,color:i,elementTiming:r,fetchPriority:s,fit:m,naturalHeight:c,naturalWidth:u,onLoad:p,src:h,srcSet:g,children:t})}},62937:function(e,t,i){i.d(t,{Z:()=>a});let a=(0,i(667294).createContext)("undefined"!=typeof window?window:null)},342978:function(e,t,i){i.d(t,{Z:()=>r});var a=i(281098),n=i(20256),l=i(785893);let o={center:{outer:"center",inner:"center"},left:{outer:"start",inner:"start"},right:{outer:"end",inner:"end"}};function r({children:e,itemGap:t,containerRef:i,numRows:r=1,rowAlignment:s="center"}){(0,a.Z)("StoryRow","/app/packages/ui/StoryRow.tsx");let d=o[s];return(0,l.jsx)(n.xu,{ref:i,width:"100%",children:(0,l.jsx)(n.kC,{alignItems:"center",justifyContent:d.outer,children:(0,l.jsx)(n.kC,{dataTestId:"story-row-items-container",gap:{row:Math.floor(t/4),column:0},justifyContent:d.inner,wrap:r>1,children:e})})})}},88828:function(e,t,i){i.d(t,{Z:()=>n});var a=i(667294);function n({items:e,itemWidth:t,itemGap:i,numRows:n=1,actionItemType:l}){let o,[r,s]=function(){let[e,t]=(0,a.useState)(0),i=(0,a.useRef)(null),n=(0,a.useCallback)(()=>{i.current&&t(i.current.clientWidth)},[i]);return(0,a.useEffect)(()=>(window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}),[n]),(0,a.useEffect)(n),[e,i]}(),d=Math.floor((r+i)/(t+i))*n||n,c=e.slice(0,d),u=[];switch(l){case"nextFour":if(d>=e.length){let e=c.pop();u=e?[e]:[]}else c.pop(),u=e.slice(d-1,d+3);break;case"one":o=d>e.length?e[Math.floor(e.length/2)]:c.pop()}return{containerRef:s,itemsToRender:c,actionItem:o,nextFourItems:u}}},244074:function(e,t,i){i.d(t,{Z:()=>n});var a=i(667294);let n=()=>{let e=(0,a.useRef)(!1);return(0,a.useEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}},357823:function(e,t,i){i.d(t,{Z:()=>d});var a=i(281098),n=i(20256),l=i(980787),o=i(525839),r=i(667294),s=i(785893);function d({auxData:e,enabled:t,onPull:i,refreshing:d,viewParameter:c}){(0,a.Z)("PullToRefresh","/app/www/Homefeed/PullMenu/PullToRefresh.tsx");let u=(0,o.ZP)(),{logContextEvent:p}=(0,l.u)(),h=4079===c,{position:m,startYRefCurrent:g,pullDistance:y}=function({enabled:e,onSelect:t,refreshing:i}){let a=(0,r.useRef)(null),[n,l]=(0,r.useState)(0),[o,s]=(0,r.useState)(!1),d=i?0:n/250,c=d>0,u=()=>{s(!1),l(0)};return(0,r.useEffect)(()=>{if(e){let e=e=>{window.scrollY<=0&&!i&&(a.current=e.touches[0].clientY)},o=e=>{if(a.current){let t=(e.touches[0].clientY-a.current)*.5;t>0&&(l(t),e.preventDefault())}},r=()=>{a.current&&(s(!0),t({pullDistance:n,position:d,resetState:u}),a.current=null)};return window.addEventListener("touchstart",e),window.addEventListener("touchmove",o,{passive:!1}),window.addEventListener("touchend",r),()=>{window.removeEventListener("touchstart",e),window.removeEventListener("touchmove",o,{passive:!1}),window.removeEventListener("touchend",r)}}},[e,t,n,i,d]),{pullDistance:n,hasStartPulling:c,position:d,startYRefCurrent:a.current,PULL_MENU_DISTANCE:250,isExecuted:o}}({enabled:t,onSelect:t=>{let{pullDistance:a,resetState:n}=t;a>=120&&(p({view_type:1,event_type:158,view_parameter:h?4079:92,aux_data:h?e:{}}),i()),n()},refreshing:d}),x=Math.min(m,1),_=u._('Pull to refresh', 'Pull down on grid to refresh items', 'Pull down on grid to refresh items');return(0,s.jsx)(n.xu,{children:t&&(0,s.jsx)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{opacity:x,transition:null===g?"all .3s ease-out":void 0}},display:"flex",height:120*m,justifyContent:"center",children:(0,s.jsx)(n.JO,{accessibilityLabel:_,icon:g&&y<120?"arrow-circle-down":"arrow-circle-up",size:40})})})}},130858:function(e,t,i){i.d(t,{Z:()=>r});var a=i(281098),n=i(20256),l=i(647709),o=i(785893);let r=()=>{(0,a.Z)("InitialFeedFetch","/app/www/InitialFeedFetch.tsx");let e=(0,l.HG)();return(0,o.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:e?{paddingTop:"0px",paddingBottom:"0px",marginTop:"0px",marginBottom:"0px"}:{paddingTop:"4px",paddingBottom:"4px",marginTop:"-4px",marginBottom:"-4px"}},"data-test-id":"initial-feed-fetch"})}},648200:function(e,t,i){i.d(t,{Z:()=>s});var a=i(281098),n=i(821342),l=i(647709),o=i(642859),r=i(785893);let s=({children:e})=>{(0,a.Z)("UnauthContextMenuControllerWrapper","/app/www/UnauthContextMenuControllerWrapper.tsx");let t=(0,l.HG)();return!(0,n.Z)().isAuth&&t?(0,r.jsx)(o.x,{children:e}):e}},903098:function(e,t,i){i.d(t,{Z:()=>Z});var a=i(281098),n=i(667294),l=i(20256),o=i(937805),r=i(525839),s=i(573631),d=i(291892),c=i(956077),u=i(15667),p=i(159527),h=i(647709),m=i(341742),g=i(35333),y=i(883379),x=i(785893);function _({children:e,isImagePinForUnauthOnTablet:t}){(0,a.Z)("ClickthroughOverlay","/app/www/closeup/duplo/ClickthroughOverlay.tsx");let{isAuthenticated:i}=(0,u.B)(),n=(0,y.Z)({skipExpActivation:!0});return(0,x.jsxs)(l.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{cursor:"pointer",width:t?"40vw":void 0}},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!t||void 0,top:!0,zIndex:i?void 0:g.eu,children:[(0,x.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000",borderRadius:n?void 0:"6px 6px 0 0",WebkitTransition:"opacity .04s linear",transition:"opacity .04s linear"}},left:!0,opacity:.4,position:"absolute",right:!0,top:!0}),e]})}var f=i(417162),w=i(274320),b=i(607001),v=i(941404),S=i(572227),j=i(741155),k=i(334536);function P({setShowClickthroughOverlay:e,isEligibleForPdp:t,isEligibleForDesktopSocialInviteOverlay:i,inviterFirstName:a}){let o=(0,r.ZP)(),s=(0,S.Z)(),d=(0,b.Z)(),c=(0,n.useRef)(null),u="desktop"===(0,h.ZP)(),p=a&&i,m=p&&(o._('Sign up to join {{ name }} on Pinterest', 'pin.closeup.wash.desktop.shareNotification', 'Clickthrough overlay for desktop users that a sender ({{ name }}) shared a Pin to them, name: username')).replace("{{ name }}",a),g=o._('Click to make the most out of this idea with a free account', 'web.unauth.plp.clickable_wash.header', 'Copy shown on hover to sign up for an account'),y=o._('Tap to make the most out of this idea with a free account', 'mweb.unauth.plp.clickable_wash.header', 'Pin clickable wash header text'),_=(0,j.Z)(),{checkExperiment:P}=(0,w.r)(),C=(0,f.g)();return(0,x.jsx)(l.iP,{onMouseEnter:()=>{p&&(0,v.My)("dweb.main_pin.social.wash.view"),(0,v.My)("dweb.pin.wash.view")},onMouseLeave:()=>{p?s({action:"dismiss",item:"main-pin-social-wash"}):s({action:"dismiss",item:"main-pin-wash"})},onTap:({event:e})=>{u&&(e.preventDefault(),s({action:"click",item:"pin-image"}),i&&a&&s({action:"click",item:"main-pin-social-wash"}),s({action:"click",item:"main-pin-image-signup-modal"}),P("migration_upsell_manager_redux").anyEnabled||P("migration_upsell_manager_redux_dweb").anyEnabled||P("migration_upsell_manager_redux_mweb").anyEnabled?_((0,k.QA)()):["enabled_all_improved","enabled_all","enabled_pin_wash"].includes(P("dweb_signup_to_login_modal_q2_push").group)?C?.showDesktopSignupModal({signupFlow:{type:"login"},attributionLabel:"click_closeup",container:"pinWash",reason:"UPSELL_LOGIN_OR_SIGNUP"}):d({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_closeup",desktopOptions:{modalType:"signup",modalOptions:{source:"defaultSource",container:"pinWash"}}}),t&&s({action:"click",item:"pdp-pin-image"}))},children:(0,x.jsxs)(l.xu,{zIndex:new l.Ry(2),children:[(0,x.jsx)(l.xu,{ref:c,alignItems:"center",bottom:!0,"data-test-id":"main-pin-hover-overlay",direction:"column",display:"flex",height:"100%",justifyContent:i?"center":void 0,left:!0,position:"absolute",right:!0,top:!0,width:"100%",children:(0,x.jsx)(l.xu,{alignItems:"center",direction:"column",display:"flex",maxWidth:240,paddingY:10,children:(0,x.jsx)(l.xu,{marginTop:8,children:(0,x.jsx)(l.X6,{align:"center",color:"light",size:p?"600":"400",children:u?m||g:y})})})}),!u&&(0,x.jsx)(l.xu,{marginEnd:4,marginTop:4,position:"absolute",right:!0,top:!0,children:(0,x.jsx)(l.hU,{accessibilityLabel:o._('Close pin clickable wash', 'mweb.unauth.plp.clickable_wash.close_button', 'Close button'),icon:"cancel",iconColor:"white",onClick:({event:t})=>{t.stopPropagation(),e&&(e(!1),s({action:"dismiss",item:"main-pin-hover-overlay"}))},size:"md"})})]})})}var C=i(326113),T=i(867552),I=i(603316),F=i(756334);let Z=e=>{(0,a.Z)("CloseupImage","/app/www/closeup/duplo/CloseupImage.tsx");let t=(0,r.ZP)(),{alt:i,clickthroughOverlayOptions:g,color:f,isFlashlightPage:w,naturalHeight:b,naturalWidth:v,placeholder:S,pwtElementTimingId:j,pwtSurfaceContext:k,setShowClickthroughOverlay:Z,showSpinner:A,src:E,stickyFooter:M,isEligibleForPdp:D}=e,R=!(0,s.b)(),{isAuthenticated:L}=(0,u.B)(),H=(0,h.ZP)(),z=(0,n.useRef)(null),O=(0,y.Z)({skipExpActivation:!0}),K=(0,n.useRef)(!1),{mWebCloseupRedesignEnabled:N}=(0,o.Z)(),[V,B]=(0,n.useState)(!R||!!E&&!!S&&S===E),U=(0,n.useRef)(""),W=()=>{(0,c.Nx)("PinPageMainImageRendered"),k&&k.markConstraintComplete("PinPageMainImageRendered"),K.current||((0,I.nP)("mweb.closeup.closeup_image.load"),K.current=!0)};(0,n.useEffect)(()=>{let e=new Image;e.onload=()=>B(!0),e.src=E},[]);let G=(0,n.useRef)((0,T.u)()?.setHasScrolledPastMainContent);(0,n.useEffect)(()=>{let e=(0,p.Z)(()=>{if(z.current){let t=window.scrollY>z.current.offsetTop+z.current.offsetHeight;G.current?.(t),t&&window.removeEventListener("scroll",e)}},10);window.addEventListener("scroll",e)},[]),(0,m.Z)(()=>{E||(0,I.nP)("mweb.closeup.closeup_image.no_image_url"),(0===b||0===v)&&(0,I.nP)("mweb.closeup.closeup_image.invalid_dimensions")});let $=!w&&"tablet"===H,Y=R?(0,x.jsx)(d.Z,{alt:i,color:f,elementTiming:j,naturalHeight:b,naturalWidth:v,onLoad:W,src:S}):null,q=C.Hg;return(w||"phone"===H||O)&&(q="100%"),(0,x.jsx)(F.Z,{metricName:"CloseupImage",children:(0,x.jsxs)(l.xu,{ref:z,"data-test-id":"pin-closeup-image",maxHeight:"100%",maxWidth:"tablet"===H?C.g6:void 0,minHeight:"auto",overflow:M?void 0:"hidden",position:"relative",rounding:6*(!w&&"phone"!==H),width:q,children:[!L&&g&&(0,x.jsx)(_,{isImagePinForUnauthOnTablet:!1,children:(0,x.jsx)(P,{inviterFirstName:U.current,isEligibleForPdp:D,setShowClickthroughOverlay:Z})}),Y&&($?(0,x.jsx)(l.xu,{overflow:"hidden",rounding:6,children:Y}):Y),(0,x.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{opacity:+!!V,transition:V&&"desktop"!==H?"opacity .5s ease-in-out":void 0,backgroundColor:f}},left:!0,overflow:$?"hidden":void 0,position:R?"absolute":"relative",right:!0,rounding:$?6:5,top:!0,children:R?(0,x.jsx)(l.Ee,{alt:i,fetchPriority:N?"high":void 0,naturalHeight:b,naturalWidth:v,role:N?"img":void 0,src:E}):(0,x.jsx)(d.Z,{alt:i,color:f,elementTiming:j,fetchPriority:N?"high":void 0,naturalHeight:b,naturalWidth:v,onLoad:W,src:E})}),A&&(0,x.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{opacity:+!V,transition:V?"opacity .5s ease-in-out":void 0}},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,top:!0,children:!V&&(0,x.jsx)(l.kC,{alignItems:"center",justifyContent:"start",children:(0,x.jsx)(l.xH,{accessibilityLabel:t._('Loading image', 'Loading higher resolution image', 'Loading higher resolution image'),show:!0})})}),M]})})}},348268:function(e,t,i){i.d(t,{G9:()=>r,SY:()=>d,kk:()=>o,mb:()=>c,s:()=>s});var a=i(281098),n=i(93966),l=i(625453);let o=({isDesktop:e})=>{(0,a.Z)("feedUtils","/app/www/feedUtils.tsx");let t=(0,l.Z)({isDesktop:e});return t?-t:0},r=-2,s=({trafficSource:e,deviceType:t,experimentalGutter:i})=>{(0,a.Z)("feedUtils","/app/www/feedUtils.tsx");let l=i??4*n.jC;return"desktop"===t?l:"board"===e?4:void 0},d=({deviceType:e,customMWebColumnWidth:t,experimentalColumnWidth:i})=>{(0,a.Z)("feedUtils","/app/www/feedUtils.tsx");let l=i??n.yF;return"desktop"===e?l:t||200},c=({gutterWidth:e,itemWidth:t,className:i,minColumns:l=n.yc,maxColumns:o=n.g5})=>{(0,a.Z)("feedUtils","/app/www/feedUtils.tsx");let r=t+e;return Array.from({length:o+1-l},(e,t)=>t+l).map(t=>({minWidth:t===l?0:t*r,maxWidth:t===o?null:(t+1)*r-1,styles:`
      .${i} {
        max-width: ${t*r-e}px;
      }
      `})).map(({minWidth:e,maxWidth:t,styles:i})=>`
    @media (min-width: ${e}px) ${t?`and (max-width: ${t}px)`:""} {
      ${i}
    }
  `).join("")}},326113:function(e,t,i){i.d(t,{$K:()=>o,Hg:()=>n,g6:()=>l,w6:()=>a});let a=(e,t)=>Array.from({length:t-e},(t,i)=>i+e),n=508,l=600;function o(e){return null!=e}},79293:function(e,t,i){i.d(t,{Z:()=>g});var a=i(281098),n=i(667294),l=i(20256),o=i(93966),r=i(369416),s=i(647709),d=i(640168),c=i(785893);let u="PinGridSkeletonLoader__tall",p="PinGridSkeletonLoader__short",h=({size:e})=>(0,c.jsx)(l.xu,{padding:1,children:(0,c.jsx)("div",{className:"tall"===e?u:p})}),m=({children:e})=>(0,c.jsx)(l.kC,{direction:"column",gap:{row:0,column:2},children:e}),g=({partialViewportWidth:e})=>{(0,a.Z)("PinGridSkeletonLoader","/app/www/loader/PinGridSkeletonLoader.tsx");let t="desktop"===(0,s.ZP)(),i=t?o.yF:o.tG;return(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(r.Z,{unsafeCSS:[{name:u,height:250},{name:p,height:150}].map(({name:e,height:t})=>(0,d.Z)({name:e,width:i,height:t})).join("")}),(0,c.jsx)(l.xu,{"data-test-id":"pin-grid-skeleton-loader",marginEnd:o.qG,marginStart:o.qG,children:t?(0,c.jsxs)(l.kC,{direction:"row",gap:{row:o.jC,column:0},children:[(0,c.jsx)(m,{children:(0,c.jsx)(h,{size:"tall"})}),(0,c.jsx)(m,{children:(0,c.jsx)(h,{size:"short"})}),(0,c.jsx)(m,{children:(0,c.jsx)(h,{size:"tall"})}),!e&&(0,c.jsx)(m,{children:(0,c.jsx)(h,{size:"short"})})]}):(0,c.jsxs)(l.kC,{direction:"row",justifyContent:"center",overflow:"hidden",children:[(0,c.jsxs)(m,{children:[(0,c.jsx)(h,{size:"tall"}),(0,c.jsx)(h,{size:"short"}),(0,c.jsx)(h,{size:"tall"})]}),(0,c.jsxs)(m,{children:[(0,c.jsx)(h,{size:"short"}),(0,c.jsx)(h,{size:"tall"}),(0,c.jsx)(h,{size:"short"}),(0,c.jsx)(h,{size:"tall"})]})]})})]})}},640168:function(e,t,i){i.d(t,{Z:()=>a});let a=({name:e,width:t,height:i})=>{let a=`${t}${"number"==typeof t?"px":""}`,n=`${i}${"number"==typeof i?"px":""}`,l="number"==typeof t?t:236;return`
.${e} {
  -webkit-animation-duration: 1s;
  -webkit-animation-fill-mode: forwards;
  -webkit-animation-iteration-count: infinite;
  -webkit-animation-name: ${e}_placeHolderShimmer;
  -webkit-animation-timing-function: linear;
  border-radius: 16px;
  background: #f6f7f9;
  background-image: linear-gradient(to right, #f6f7f9 0%, #e9ebee 20%, #f6f7f9 40%, #f6f7f9 100%);
  background-repeat: no-repeat;
  background-size: ${l} ${n};
  width: ${a};
  height: ${n};
}

@keyframes ${e}_placeHolderShimmer{
  0% {
      background-position: -${l}px 0;
  }
  100% {
      background-position: ${l}px 0;
  }
}
`}},80245:function(e,t,i){i.d(t,{By:()=>c,IT:()=>d,N6:()=>n,br:()=>l,jq:()=>r,lU:()=>s,tq:()=>o});var a=i(686319);let n=(e,t)=>({type:"UPDATE_CURRENT_SEARCH",payload:{query:e,scope:t}}),l=(e,t)=>({type:"UPDATE_RECENT_SEARCHES",payload:{query:e,scope:t}}),o=e=>({type:"UPDATE_RECENT_SEARCHES_BATCH",payload:{data:e}}),r=(e,t,i)=>({type:"UPDATE_TYPEAHEAD_CACHE",payload:{items:e,term:t,recent_queries_tags:i}}),s=(e,t,i)=>n=>{(0,a.Z)({url:"/v3/search/recent/",method:"DELETE",data:{vertical:e}}).then(t,i),n("PERSONAL"===e?{type:"CLEAR_RECENT_PERSONAL_SEARCHES"}:{type:"CLEAR_RECENT_SEARCHES"})},d=(e,t,i,n,l)=>o=>{i||(0,a.Z)({url:"/v3/search/recent/",method:"DELETE",data:{query:e,vertical:t}}).then(n,l),o("PERSONAL"===t?{type:"CLEAR_RECENT_PERSONAL_SEARCH",payload:{query:e}}:{type:"CLEAR_RECENT_SEARCH",payload:{query:e}})},c=e=>t=>{t({type:"RELOAD_VISUAL_SEARCH_ANNOTATIONS",payload:{pinId:e}})}},32228:function(e,t,i){i.d(t,{Z:()=>p});var a=i(281098),n=i(667294),l=i(20256),o=i(748130),r=i(816358),s=i(809295),d=i(949044),c=i(974705),u=i(785893);function p({oneBarModules:e,showIndicator:t,setProductFiltersModalIsOpen:i,showProductFilters:p=!1}){(0,a.Z)("OneBar","/app/www/search/OneBar.tsx");let h=(0,n.useRef)(null),m=(0,n.useRef)(null),[g,y]=(0,n.useState)(0);(0,n.useEffect)(()=>{setTimeout(()=>{m.current?.scrollTo({top:0,left:g,behavior:"smooth"})},1e3)},[g]);let x=new s.ZP;(0,n.useEffect)(()=>{let e=h.current;return e&&r.Z.addObstruction("top",e),()=>{e&&r.Z.removeObstruction("top",e)}});let _=e.map(e=>(0,d.Z)(c.Z,!0)(e));return(0,u.jsx)(l.xu,{ref:h,color:"default","data-root-margin":"search-one-bar",height:54,overflow:"hidden",children:(0,u.jsx)(l.xu,{ref:m,"data-test-id":"mweb-onebar-search",height:64,overflow:"auto",children:(0,u.jsx)(l.kC,{gap:1,maxWidth:"100%",children:_.map((e,a)=>(0,u.jsx)(o.Z,{hasProductFiltersApplied:t,impressionsFramework:x,index:a,module:e,oneBarModulesKey:null,onFilterButtonClick:()=>{p&&i?.(!0)},setLatestSelectedGuideX:y,showMWebProductFilters:p},`OneBarModule-${e.id||""}`))})})})}},94207:function(e,t,i){i.d(t,{Nu:()=>l,q:()=>n,r:()=>o,z5:()=>a});let a=["board_shop_tool_module","shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2","search_story_separator","search_story_landing_page_header"],n="checklist_education_feed_card",l=["#CFFFCA","#D7EDFF","#DAD4FF","#DAFFF6","#FFE2EB","#FFE4C1","#FFFD92"],o={"#d7edff":"01","#002966":"01","#cfffca":"02","#ffe0e0":"04","#800000":"04","#dafff6":"06","#fffd92":"07","#c3f9c2":"07","#005f3e":"07","#ffe4c1":"08","#842000":"08","#ffe2eb":"09","#e9e4ff":"10","#400387":"10","#dad4ff":"10","#efefef":"11"}},88410:function(e,t,i){i.d(t,{Z:()=>e$});var a,n,l,o=i(281098),r=i(821342),s=i(647709),d=i(630894),c=i(667294);i(167912);var u=i(616550),p=i(20256),h=i(415546),m=i(801082),g=i(525839),y=i(255957),x=i(886981),_=i(634737),f=i(169053),w=i(581722),b=i(825332),v=i(761578),S=i(390843),j=i(369416),k=i(914061),P=i(274320),C=i(123998),T=i(351222),I=i(378888),F=i(341742),Z=i(359829),A=i(144633),E=i(85363),M=i(611304),D=i(551651),R=i(762525),L=i(80245),H=i(521009),z=i(503246),O=i(524884),K=i(19585),N=i(816358),V=i(675973),B=i(15667),U=i(32937),W=i(941404),G=i(572227),$=i(958742),Y=i(785893);function q(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let J={baseStyles:{transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",transformOrigin:"bottom",touchAction:"none"}};class X extends c.Component{constructor(...e){super(...e),q(this,"state",{currentDistanceFromTop:this.props.maxDistanceFromTop?this.props.maxDistanceFromTop:-1,headerHeight:this.props.headerHeight||0,isAtTop:!1,scrollDirection:0,shouldAnimate:!1,startY:0,canScrollOnChildren:!1}),q(this,"onTouchStart",e=>{let{clientY:t}=e.touches[0];this.setState({startY:t,shouldAnimate:!1,scrollDirection:0})}),q(this,"onTouchMove",e=>{let{clientY:t}=e.touches[0],{startY:i,currentDistanceFromTop:a}=this.state,{canMoveModal:n,maxDistanceFromTop:l}=this.props,o=t-i;n&&void 0!==l&&(o>0&&a>=0&&a<l&&window.scrollY<=0||o<0&&a<=l&&a>=0)&&this.setModalPosition(t)}),q(this,"onTouchEnd",()=>{let{entryPoint:e,minDistanceFromTop:t,canMoveModal:i}=this.props;this.props.shouldSnapToEnds&&2===this.state.scrollDirection?(this.header&&N.Z.removeObstruction("top",this.header),this.setState({canScrollOnChildren:!1,currentDistanceFromTop:this.props.maxDistanceFromTop,shouldAnimate:!0,isAtTop:!1}),e&&(0,W.My)(`mweb.${e}.snap_to_bottom`)):this.props.shouldSnapToEnds&&1===this.state.scrollDirection&&(this.state.isAtTop?this.setState({currentDistanceFromTop:0,shouldAnimate:!0}):this.setState({canScrollOnChildren:!!i,currentDistanceFromTop:t||0,shouldAnimate:!0,isAtTop:!0}),this.header&&N.Z.addObstruction("top",this.header),e&&(0,W.My)(`mweb.${e}.sliding_modal.snap_to_top`))}),q(this,"handleHandleMove",e=>{let{clientY:t}=e.touches[0],{canMoveModal:i,maxDistanceFromTop:a,minDistanceFromTop:n}=this.props,{startY:l,currentDistanceFromTop:o}=this.state;i&&o<=(n||0)&&t-l>0&&(e.stopPropagation(),this.setState({canScrollOnChildren:!1,currentDistanceFromTop:a,isAtTop:!1,scrollDirection:0,shouldAnimate:!0,startY:0}))}),q(this,"handleHeaderTouch",()=>{let{maxDistanceFromTop:e,minDistanceFromTop:t,entryPoint:i,canMoveModal:a}=this.props,{currentDistanceFromTop:n,scrollDirection:l}=this.state;0===l&&(n===e?(this.setState({canScrollOnChildren:!!a,currentDistanceFromTop:t||0,shouldAnimate:!0,isAtTop:!0}),(0,W.My)(`mweb.${i}.sliding_modal.header_touch.snap_to_top`)):e&&(this.setState({canScrollOnChildren:!1,currentDistanceFromTop:e,shouldAnimate:!0,isAtTop:!1}),(0,W.My)(`mweb.${i}.sliding_modal.header_touch.snap_to_bottom`)))}),q(this,"handleCloseIconTouch",e=>{let{currentDistanceFromTop:t}=this.state,{onDismiss:i,logContextEvent:a,maxDistanceFromTop:n,viewParameter:l,viewType:o}=this.props;e.stopPropagation(),i&&(a({aux_data:{commerce_data:JSON.stringify({snapped_top:0===t})},element:75,event_type:102,view_parameter:l,view_type:o}),this.setState({currentDistanceFromTop:n,startY:0,scrollDirection:0},()=>i(e)))}),q(this,"getModalStyles",()=>{let{shouldSnapToEnds:e}=this.props,{currentDistanceFromTop:t,shouldAnimate:i,canScrollOnChildren:a}=this.state,{baseStyles:n}=J;return{...n,animation:"modalReveal 0.3s ease-out both",position:a?"absolute":"fixed",top:t>-1?t:void 0,bottom:0,width:"100vw",...e&&i?{transitionDuration:"500ms",transitionProperty:"transform, opacity, top"}:Object.freeze({})}}),q(this,"setModalPosition",e=>{let{startY:t,currentDistanceFromTop:i}=this.state,{maxDistanceFromTop:a,snapToEndThreshold:n,entryPoint:l}=this.props;if(a){let o=e-t,r=Math.floor("CloseupShop"===l||"CloseUpMainPinDrawer"===l?Math.max(0,i+o):Math.min(a,Math.max(0,i+o))),s=0;if(void 0!==n&&n>=0){let e=Math.floor(n*a),t=Math.floor((1-n)*a);o<0?s=r>t?2:1:o>0&&(s=r>e?2:1)}this.setState({startY:e,currentDistanceFromTop:r,scrollDirection:s})}})}componentDidMount(){let{isOpen:e}=this.props;e&&N.Z.pause()}componentDidUpdate(e,t){let{domainFilters:i,priceFilters:a,cropSource:n,isOpen:l,logContextEvent:o,maxDistanceFromTop:r,setHasDraggedDrawerToFullScreen:s,minDistanceFromTop:d,entryPoint:c}=this.props,{currentDistanceFromTop:u}=this.state;l&&!e.isOpen?N.Z.pause():!l&&e.isOpen&&N.Z.resume(),"CloseUpMainPinDrawer"===c&&r<e.maxDistanceFromTop&&u>r&&this.handleHeaderTouch(),t.currentDistanceFromTop!==(e.minDistanceFromTop||0)&&u===(d||0)&&s&&s(!0),i&&a&&(!(0,z.ZP)(i,e.domainFilters)||!(0,z.ZP)(a,e.priceFilters))&&o({event_type:13,view_parameter:"related_products"===(0,$.Z)(n)?3455:3456,view_type:72,element:11735})}componentWillUnmount(){let{isOpen:e}=this.props;this.header&&N.Z.removeObstruction("top",this.header),e&&N.Z.resume()}render(){let{children:e,headerChildren:t,heading:i,isAuth:a,isInHSObjLevelOneBarExp:n,isOpen:l,isRTL:o,mobileAccessibilityCloseIconLabel:r,mobileHideCloseIcon:s,noDivider:d,showHandle:c}=this.props,{headerHeight:u,canScrollOnChildren:h}=this.state,m=h||!a||n?"0":"32px 32px 0 0";return l?(0,Y.jsx)(U.Z,{children:(0,Y.jsx)(p.xu,{"aria-label":i,role:"dialog",children:(0,Y.jsx)(p.xu,{color:"default",dangerouslySetInlineStyle:{__style:{...this.getModalStyles(),borderRadius:m}},"data-test-id":"sliding-modal-events-handler",onTouchEnd:this.onTouchEnd,onTouchMove:this.onTouchMove,onTouchStart:this.onTouchStart,children:(0,Y.jsxs)(p.iP,{accessibilityLabel:this.props.i18n._('View all search results', 'SlidingModal.Header.a11yLabel', 'Accessibility label for header of search results in flashlight'),onTap:this.handleHeaderTouch,children:[(0,Y.jsxs)(p.Le,{top:u||0,children:[c&&(0,Y.jsx)(p.xu,{color:"default",dangerouslySetInlineStyle:{__style:{padding:"8px 0 24px 0",borderRadius:m}},"data-test-id":"slidingModalHandle",display:"flex",justifyContent:"center",onTouchMove:this.handleHandleMove,children:O.Z}),n&&(0,Y.jsxs)(p.xu,{alignItems:"center",color:"default",display:this.state.isAtTop?"flex":"none",height:60,justifyContent:"center",opacity:+!!this.state.isAtTop,position:"relative",children:[(0,Y.jsx)(p.xu,{alignItems:"center",display:"flex",left:!0,marginStart:2,padding:3,position:"absolute",children:(0,Y.jsx)(p.JO,{accessibilityLabel:this.props.i18n._('Close sliding modal', 'slidingModal.hybridSearch.closeModal', 'Accessibility label for close icon on top of slider modal'),color:"default",icon:"arrow-down",size:"20"})}),(0,Y.jsx)(p.kC,{alignItems:"stretch",flex:"grow",justifyContent:"center",children:(0,Y.jsx)(p.xv,{size:"300",weight:"bold",children:this.props.i18n._('More like this', 'slidingModal.hybridSearch.moreLikeThis', 'top of slider modal to show similar pins with hybrid search')})})]}),!s&&(0,Y.jsxs)(p.xu,{ref:e=>{this.header=e},color:"default",rounding:2,children:[(0,Y.jsxs)(p.kC,{alignItems:"center",flex:"grow",justifyContent:"start",children:[(0,Y.jsx)(p.kC,{alignItems:"center",justifyContent:"start",children:(0,Y.jsx)(p.hU,{accessibilityLabel:r||"Close visual search results",dataTestId:"close-visual-search-results",icon:"arrow-back",iconColor:"gray",onClick:({event:e})=>this.handleCloseIconTouch(e),padding:5,size:"lg"})}),(0,Y.jsx)(p.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:function({filterIconShown:e,isRTL:t}){let i=t?"marginRight":"marginLeft",a=t?"marginLeft":"marginRight";return e?{[i]:38,[a]:50,marginTop:15,marginBottom:15}:{[i]:-10,[a]:50,marginTop:15,marginBottom:15}}({isRTL:o})},"data-test-id":"slidingModalHeader",display:"flex",flex:"grow",justifyContent:"center",children:(0,Y.jsx)(p.X6,{accessibilityLevel:2,align:"center",size:"400",children:i})})]}),t||null,!d&&(0,Y.jsx)(p.iz,{})]})]}),(0,Y.jsx)(p.xu,{overflow:h?"auto":"visible",children:e})]})})})}):null}}function Q(e){(0,o.Z)("SlidingModal","/app/www/SlidingModal.tsx");let t=(0,K.Z)(),i=(0,H.Z)(),{isRTL:a}=(0,B.B)(),n=(0,G.Z)(),{isAuth:l}=(0,r.Z)(),{checkExperiment:s}=(0,V.Z)(),d=l&&s("web_search_hybrid_object_level_onebar",{dangerouslySkipActivation:!0}).anyEnabled;return(0,Y.jsx)(X,{...e,i18n:t,isAuth:l,isInHSObjLevelOneBarExp:d,isRTL:a,logContextEvent:i,trackInteraction:n})}var ee=i(667835),et=i(588836);function ei({handleBackClick:e,viewParameter:t,viewType:i}){(0,o.Z)("MobileVisualSearchBackButton","/app/www/VisualSearch/mobile/MobileVisualSearchBackButton.tsx");let{checkExperiment:a}=(0,P.r)(),n=(0,ee.vs)(),{isAuth:l}=(0,r.Z)(),s=l&&a("web_search_hybrid_object_level_onebar",{dangerouslySkipActivation:!0}).anyEnabled;return(0,Y.jsx)(p.xu,{"data-test-id":"cancelButton",left:!0,margin:2,position:"fixed",right:!0,top:!0,width:"fit-content",children:(0,Y.jsx)(et.Z,{bgColor:s?"white":"transparent",color:n||s?"darkGray":"white",disableRedirect:!0,icon:"cancel",isVisualSearch:!0,onTouch:e,padding:3,size:"lg",viewParameter:t,viewType:i})})}var ea=i(93966),en=i(751961),el=i(845421),eo=i(474147),er=i(425140),es=i(980787),ed=i(793760);function ec(){(0,o.Z)("useCarouselScollDetection","/app/www/VisualSearch/mobile/useCarouselScollDetection.tsx");let[e,t]=(0,c.useState)(0),[i,a]=(0,c.useState)(0),[n,l]=(0,c.useState)(!1),[r,s]=(0,c.useState)(!1),[d,u]=(0,c.useState)(void 0);function p(){s(!1),l(!1),u(void 0)}function h(e,t){"vertical"!==t&&e.stopPropagation()}return{onCarouselTouchStart:function(e){let{clientX:i,clientY:n}=e.touches[0];t(i),a(n),p()},onCarouselTouchMove:function(t){let{clientX:a,clientY:o}=t.touches[0],c=Math.abs(a-e);Math.abs(o-i)>10&&l(!0),c>10&&s(!0),r&&n?u(e=>e||"vertical"):r?u(e=>e||"horizontal"):n?u(e=>e||"vertical"):u(void 0),h(t,d)},onCarouselTouchEnd:function(e){h(e,d),p()}}}function eu({data:e,pinId:t,surfaceType:i,viewParameter:a,viewType:n}){(0,o.Z)("MobileVisualSearchCarousel","/app/www/VisualSearch/mobile/Feed/MobileVisualSearchCarousel.tsx");let l=(0,g.ZP)(),{logContextEvent:r}=(0,es.u)(),{width:s}=(0,v.Z)()||{},{onCarouselTouchStart:d,onCarouselTouchMove:c,onCarouselTouchEnd:u}=ec(),h=(e?.results||[]).find(e=>"story"===e.type),{url:m=`/pin/${t}`,text:y=""}=h?.action||{},x=l._('Shop similar', 'mobileFlashlight.productUpsellTitle', 'Shop similar products from the image.');function _(){r({component:14339,element:179,event_type:102,view_parameter:a,view_type:n})}return h&&"stl"!==i?(0,Y.jsxs)(p.xu,{marginBottom:-6,children:[(0,Y.jsxs)(p.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",marginBottom:2,paddingX:4,children:[(0,Y.jsx)(p.Tg,{href:m,onTap:({event:e})=>{e.stopPropagation(),_()},tapStyle:"compress",children:(0,Y.jsx)(p.X6,{accessibilityLevel:2,size:"400",children:x})}),(0,Y.jsx)(p.I_,{accessibilityLabel:y||l._('See more', 'headerModule.headerModuleActionButton.iconButton', 'An right arrow icon button to show more similar pins to the user in a new page'),bgColor:"transparent",dataTestId:"product-upsell-action-button",href:m,icon:"arrow-forward",iconColor:"darkGray",onClick:_,size:"sm"})]}),(0,Y.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{touchAction:"pan-x",overflowY:"hidden"}},onTouchEnd:u,onTouchMove:c,onTouchStart:d,children:(0,Y.jsx)(ed.default,{component:14339,disableHeader:!0,story:h,storyKey:h?{type:"deprecated",data:h}:null,surface:"ShoppingDynamicHeightGrid",view:n,viewParameter:a,width:s})})]}):null}var ep=i(780879),eh=i(949044),em=i(974705),eg=i(288910),ey=i(32228);function ex({auxData:e}){(0,o.Z)("MobileVisualSearchOneBar","/app/www/VisualSearch/mobile/Feed/MobileVisualSearchOneBar.tsx");let{onCarouselTouchStart:t,onCarouselTouchMove:i,onCarouselTouchEnd:a}=ec(),n=e?.metadata?.one_bar_modules,l=(0,eh.Z)(em.Z,!0)(n);return l&&l.length>0?(0,Y.jsx)(eg.v,{children:(0,Y.jsx)(ep.f,{children:(0,Y.jsx)(p.xu,{marginBottom:4,onTouchEnd:a,onTouchMove:i,onTouchStart:t,paddingX:2,children:(0,Y.jsx)(p.iP,{onTap:({event:e})=>e.stopPropagation(),children:(0,Y.jsx)(ey.Z,{oneBarModules:l})})})})}):null}function e_({auxData:e,isShopTheLookFeed:t,pinId:i,searchResourceOptions:a,surfaceType:n,viewParameter:l,viewType:r}){(0,o.Z)("MobileVisualSearchFeed","/app/www/VisualSearch/mobile/Feed/MobileVisualSearchFeed.tsx");let s=(0,g.ZP)(),{auxData:d,data:u,fetchMore:h,isAtEnd:m,isFetching:y,isLoaded:_}=(0,x.Z)({name:"VisualSearchFlashlightUnifiedResource",options:a}),f=(u?.results||[]).flatMap(e=>"pin"===e.type?e:[]),w=s._('Image search', 'mobileFlashlight.organicFeedTitle', 'Search results from the image.'),b=s._('Shop the look', 'mobileFlashlight.shopTheLookFeedTitle', 'Shop the look for similar products from the cropped image.');return _?(0,Y.jsxs)(c.Fragment,{children:[(0,Y.jsx)(ex,{auxData:d}),(0,Y.jsx)(eu,{data:u,pinId:i,surfaceType:n,viewParameter:l,viewType:r}),(0,Y.jsx)(p.xu,{"data-test-id":t?"shop-the-look-feed-title":"organic-feed-title",marginBottom:3,paddingX:4,children:(0,Y.jsx)(p.X6,{accessibilityLevel:2,size:"400",children:t?b:w})}),(0,Y.jsx)(p.xu,{color:"default",dangerouslySetInlineStyle:{__style:{touchAction:"pan-y"}},"data-test-id":t?"shop-the-look-feed":"organic-feed",paddingX:ea.D6,children:(0,Y.jsx)(er.Z,{feedItems:f,feedKey:(0,eo.J)("VisualSearchFlashlightUnifiedResource",a)??"",pagination:{loadNext:h||(()=>void 0),hasNext:!m,isLoadingNext:y||!1,refetch:()=>void 0},renderFeedItem:(i,a)=>(0,Y.jsx)(en.Z,{children:(0,Y.jsx)(el.Z,{auxData:e,componentType:0,duploQueryRef:null,pinId:i.id??"",slotIndex:a,trackingParams:i.tracking_params||void 0,trafficSource:t?"shop_feed":void 0,viewParameter:l,viewType:r})})})})]}):(0,Y.jsx)(p.xH,{accessibilityLabel:s._('Loading visual search results', 'mobileFlashlightPage.loadingSpinner', 'Spinner for loading the visual search result'),show:!0})}function ef({isShopTheLookFeed:e,searchResourceOptions:t,viewParameter:i,viewType:a}){(0,o.Z)("UnauthMobileVisualSearchFeed","/app/www/VisualSearch/mobile/Feed/UnauthMobileVisualSearchFeed.tsx");let{data:n,fetchMore:l,isAtEnd:r,isFetching:s}=(0,x.Z)(e?{name:"VisualSearchFlashlightUnifiedResource",options:t}:{name:"VisualLiveSearchResource",options:t});return(0,Y.jsx)(p.xu,{color:"default",paddingX:ea.D6,children:(0,Y.jsx)(er.Z,{feedItems:n?.results??[],feedKey:(0,eo.J)("VisualLiveSearchResource",t)??"",pagination:{loadNext:l||(()=>void 0),hasNext:!r,isLoadingNext:s||!1,refetch:()=>void 0},renderFeedItem:(e,t)=>(0,Y.jsx)(en.Z,{children:(0,Y.jsx)(el.Z,{componentType:0,duploQueryRef:null,pinId:e.id??"",slotIndex:t,trackingParams:e.tracking_params,trafficSource:"flashlight",viewParameter:i,viewType:a})})})})}var ew=i(326113);function eb(){return Math.min(ew.g6,window.innerWidth)}function ev(e,t){return Math.floor(eb()/t*e)}var eS=i(244074),ej=i(976892),ek=i(47239),eP=i(615440),eC=i(743222),eT=i(903098);function eI({pinDominantColor:e,url:t,closeupImageWidth:i,closeupImageHeight:a}){(0,o.Z)("CropperCloseupImage","/app/www/VisualSearch/mobile/CropperCloseupImage.tsx");let n=(0,g.ZP)();return(0,Y.jsx)(eT.Z,{alt:n._('Pin image', 'flashlight.cropper.closeupImage', 'Pin closeup image'),color:e,isFlashlightPage:!0,naturalHeight:a,naturalWidth:i,placeholder:t,pwtElementTimingId:"cropper-closeup-image",showSpinner:!1,src:t})}let eF=e=>{(0,o.Z)("CropperHandle","/app/www/VisualSearch/mobile/CropperHandle.tsx");let{alt:t,src:i,top:a,left:n}=e;return(0,Y.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{top:a,left:n}},height:24,position:"absolute",width:24,children:(0,Y.jsx)(p.Ee,{alt:t,color:"transparent",naturalHeight:24,naturalWidth:24,src:i})})},eZ={backgroundColor:"#000000",opacity:"0.4"};function eA({closeupImageUrl:e,closeupImageDims:t,cropArea:{x:i,y:a,w:n,h:l},disableBorder:r,disableHandles:s,handleBackClick:d,onTouchEnd:c,onTouchMove:u,onTouchStart:h,pinDominantColor:m,showBackButton:y,viewParameter:x}){(0,o.Z)("Cropper","/app/www/VisualSearch/mobile/Cropper.tsx");let _=(0,g.ZP)(),{closeupImageWidth:f,closeupImageHeight:w}=t,b=Math.floor(w*a),v=Math.floor(f*i),S=Math.floor(w*l),j=Math.floor(f*n),k=v+j,P=b+S;return(0,Y.jsxs)(p.xu,{"data-test-id":"cropper-container",onTouchEnd:c,onTouchMove:u,onTouchStart:h,position:"relative",children:[(0,Y.jsx)(eI,{closeupImageHeight:w,closeupImageWidth:f,pinDominantColor:m,url:e??""}),(0,Y.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:eZ},height:b,left:!0,position:"absolute",top:!0,width:"100%"}),(0,Y.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{...eZ,top:b}},height:S,left:!0,position:"absolute",width:v}),(0,Y.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{...eZ,top:b,left:k}},height:S,position:"absolute",right:!0}),(0,Y.jsx)(p.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{...eZ,top:P}},left:!0,position:"absolute",width:"100%"}),!s&&(0,Y.jsxs)(p.xu,{"data-test-id":"CropperHandles",children:[(0,Y.jsx)(eF,{alt:_._('Top left cropper handle', 'flashlight.cropper.topLeftHandle', 'top left handle for cropping image'),left:v-9,src:eP,top:b-9}),(0,Y.jsx)(eF,{alt:_._('Top right cropper handle', 'flashlight.cropper.topRightHandle', 'top right handle for cropping image'),left:k-15,src:eC,top:b-9}),(0,Y.jsx)(eF,{alt:_._('Bottom left cropper handle', 'flashlight.cropper.bottomLeftHandle', 'bottom left handle for cropping image'),left:v-9,src:ej,top:P-15}),(0,Y.jsx)(eF,{alt:_._('Bottom right cropper handle', 'flashlight.Cropper.BottomLeftHandle', 'bottom right handle for cropping image'),left:k-15,src:ek,top:P-15})]}),(0,Y.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{top:b-2,left:v-2,border:r?void 0:"2px solid #ffffff"}},"data-test-id":"CroppedArea",height:S+4,position:"absolute",rounding:2,width:j+4}),y&&(0,Y.jsx)(ei,{handleBackClick:d,viewParameter:x,viewType:427})]})}var eE=i(556872);function eM({auxData:e,onClick:t,shouldLogDotRender:i,showNoHalo:a,style:n,viewParameter:l,x:r,y:s}){(0,o.Z)("Dot","/app/www/VisualSearch/mobile/Dot.tsx");let d=(0,g.ZP)(),c=(0,H.Z)();return(0,F.Z)(()=>{i&&c({aux_data:e,element:1221,event_type:120,view_parameter:l,view_type:72})}),(0,Y.jsx)("div",{"aria-label":d._('Select a specific item on image', 'dot.accessibilityLabel', 'Accessibility label for <Dot /> component'),"data-test-id":"dot",onClick:t,onKeyPress:t,role:"button",style:{position:"absolute",top:s-16,left:r-16,outline:"none",...n},tabIndex:0,children:(0,Y.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:a?void 0:"rgba(0, 0, 0, 0.1)",width:32,height:32,border:"none",borderRadius:32,cursor:t?"pointer":"default"}},children:(0,Y.jsx)(p.xu,{alignItems:"center",color:"light",dangerouslySetInlineStyle:{__style:{boxShadow:"none",width:16,height:16,border:"none",borderRadius:16,top:8,left:8}},display:"flex",justifyContent:"center",padding:0,position:"absolute"})})})}var eD=i(450808);let eR="flashlightDotPop",eL=(0,eD.Ll)([`
  ${eR} {
      0% {
          opacity: 0;
          transform: scale(0);
      }

      100% {
          opacity: 1;
          transform: scale(1);
      }
  }
`,`labelReveal {
    0% {
      transform: scale(0, 1)
    }

    100% {
      transform: scale(1, 1)
    }
  }
`]);function eH({closeupImageTop:e,imageHeight:t,imageTop:i,imageWidth:a,onDotTap:n,pinId:l,pinImageSignature:r,setCropArea:s,shouldLogDotRender:d,showNoHalo:u,viewParameter:p,visualObjects:h,visualObjectToHide:m}){(0,o.Z)("Dots","/app/www/VisualSearch/mobile/Dots.tsx");let g=(0,H.Z)();return(0,Y.jsxs)(c.Fragment,{children:[(0,Y.jsx)(j.Z,{unsafeCSS:eL}),h.map((o,c)=>{if(c===m)return null;let{x:y=0,y:x=0,w:_=0,h:f=0}=o,w={x:y,y:x,h:f,w:_},b=(0,eE.Z)({cropArea:{x:y,y:x,w:_,h:f},scaledWidth:a,scaledHeight:t}),v=Math.floor(b.x+b.w/2),S=Math.floor(b.y+i+b.h/2),j=(e=>{let t=parseFloat((.1*e).toFixed(2));return{animation:`${eR} 0.3s ease-out ${t}s both`}})(c),k={pin_id:l,image_signature:r,visual_objects:JSON.stringify([w]),commerce_data:JSON.stringify({entrypoint:"flashlight",pin_is_stela:"false"})};return(0,Y.jsx)(eM,{auxData:k,onClick:function(){g({aux_data:k,element:1221,event_type:102,view_parameter:p,view_type:72}),n({cropArea:w,cropSource:4,visualObjects:h}),s?.(w)},shouldLogDotRender:d,showNoHalo:u,style:j,viewParameter:p,x:v,y:S-e},JSON.stringify(w))})]})}function ez({closeupImageUrl:e,closeupImageDims:t,cropArea:i,handleBackClick:a,handleChangeCloseupImageTop:n,handleCropperChange:l,headerHeight:s,pinDominantColor:d,pinId:u,pinImageSignature:h,showBackButton:m,viewParameter:g,visualObjects:y,visualObjectToHide:x}){(0,o.Z)("VisualSearch","/app/www/VisualSearch/mobile/VisualSearch.tsx");let _=(0,H.Z)(),{isAuth:f}=(0,r.Z)(),w=(0,c.useRef)(null),[b,v]=(0,c.useState)(0),[S,j]=(0,c.useState)(0),[k,P]=(0,c.useState)(10),[C,T]=(0,c.useState)(i),{current:I}=(0,eS.Z)(),{x:F,y:Z,w:A,h:E}=C,{closeupImageTop:M,closeupImageMinTop:D,closeupImageWidth:R,closeupImageHeight:L,minCropperWidthRatio:z,minCropperHeightRatio:O}=t,K=s||0;return(0,Y.jsx)(p.kC,{justifyContent:"center",width:"100vw",children:(0,Y.jsxs)(p.xu,{ref:w,dangerouslySetInlineStyle:{__style:{top:M,touchAction:"none"}},maxWidth:ew.g6,overflow:"hidden",position:"fixed",width:"100%",children:[(0,Y.jsx)(eA,{closeupImageDims:t,closeupImageUrl:e,cropArea:C,handleBackClick:a,onTouchEnd:()=>{[10,0].includes(k)||(_({event_type:1===k?7603:7604,view_parameter:g,view_type:72}),l({cropArea:C,cropSource:6,visualObjects:y}))},onTouchMove:e=>{let{clientX:t,clientY:i}=e.touches[0];if(v(t),j(i),10===k&&P(((e,t)=>{let i=t-M,a=e-(w.current?w.current.getBoundingClientRect().left:0),n=L*Z,l=L*(Z+E),o=R*F,r=R*(A+F);if(i>n+12&&i<l-12&&a>o+12&&a<r-12)return 1;if(a<=o+12&&a>=o-12&&i>=n+15&&i<=l-15)return 2;if(a<=r+12&&a>=r-12&&i>=n+15&&i<=l-15)return 3;if(a<=r-15&&a>=o+15&&i>=n-12&&i<=n+12)return 4;if(a<=r-15&&a>=o+15&&i>=l-12&&i<=l+12)return 5;if(a<=o-9+24&&a>=o-12&&i>=n-12&&i<=n+24-9)return 6;if(a<=r+12&&a>=r-15&&i>=n-12&&i<=n+24-9)return 7;else if(a<=o-9+24&&a>=o-12&&i>=l-15&&i<=l+12)return 8;else if(a<=r+12&&a>=r-15&&i>=l-15&&i<=l+12)return 9;else return 0})(t,i)),null!=z&&null!=O&&null!=D){let e=i-S,a=(t-b)/R,l=e/L,o=Math.min(F+A-z,Math.max(0,F+a)),r=A+(F-o),s=Math.min(Z+E-O,Math.max(0,Z+l)),d=E+(Z-s),c=Math.min(1-F,Math.max(z,A+a)),u=Math.min(1-Z,Math.max(O,E+l));switch(k){case 0:n(Math.floor(Math.max(D,Math.min(K,M+e))));break;case 1:T(e=>({...e,x:Math.max(0,Math.min(1-A,F+a)),y:Math.max(0,Math.min(1-E,Z+l))}));break;case 2:T(e=>({...e,x:o,w:r}));break;case 3:T(e=>({...e,w:c}));break;case 4:T(e=>({...e,y:s,h:d}));break;case 5:T(e=>({...e,h:u}));break;case 6:T({x:o,w:r,y:s,h:d});break;case 7:T(e=>({...e,w:c,y:s,h:d}));break;case 8:T(e=>({...e,h:u,x:o,w:r}));break;case 9:T(e=>({...e,h:u,w:c}))}}},onTouchStart:e=>{let{clientX:t,clientY:i}=e.touches[0];v(t),j(i),P(10)},pinDominantColor:d,showBackButton:m,viewParameter:g}),!!y.length&&0!==L&&0!==R&&(0,Y.jsx)(p.xu,{"data-test-id":"FlashlightDots",children:(0,Y.jsx)(eH,{closeupImageTop:M,imageHeight:L,imageTop:M,imageWidth:R,onDotTap:l,pinId:u,pinImageSignature:h,setCropArea:T,shouldLogDotRender:!I,showNoHalo:f,viewParameter:g,visualObjects:y,visualObjectToHide:x})})]})})}let eO=`
  html, body {
    overscroll-behavior: none;
  }
`,eK=(void 0!==a||(a=i(272636)).hash&&"a4c8c4488bd813d69ca9e96072e3d2d7"!==a.hash&&console.error("The definition of 'MobileFlashlightPage_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);function eN({pinKey:e}){(0,o.Z)("MobileFlashlightPage","/app/www/VisualSearch/mobile/MobileFlashlightPage.tsx");let t=(0,g.ZP)(),i=(0,w.I0)(),a=(0,b.s0)(),{previous:n}=(0,S.ou)(),l=(0,b.TH)(),{isAuth:d}=(0,r.Z)(),{width:u}=(0,v.Z)()||{},m=(0,s.ZP)(),y=(0,h.Z)(eK,e),{checkExperiment:x}=(0,P.r)(),_=d&&x("web_search_hybrid_object_level_onebar",{dangerouslySkipActivation:!0}).anyEnabled,f=(0,I.mB)(l.search),{cropSource:H,filters:z,hybrid_search_param:O,journey_depth:K,search_query:N,source_module_id:V,x:B,y:U,h:W,w:G,surfaceType:$,requestParams:q}=f,J=$||"flashlight",X=!d&&(0,T.x9)(m)||void 0,[ee,et]=(0,c.useState)(()=>{var e,t,i;let a,n,l=function({headerHeight:e,pinImageHeight:t,pinImageWidth:i}){let a=0,n=0,l=0;return t&&i&&(a=eb(),n=ev(t,i),l=Math.min(Math.floor(.6*window.innerHeight),ev(t,i))),{closeupImageWidth:a,closeupImageHeight:n,closeupImageMinTop:l-n,closeupImageTop:e||0,minCropperWidthRatio:a?50/a:0,minCropperHeightRatio:n?50/n:0,modalTop:l}}({headerHeight:X,pinImageHeight:y.imageSpec_736x?.height,pinImageWidth:y.imageSpec_736x?.width}),{closeupImageHeight:o,modalTop:r}=l,s=(e=Number(W),t=Number(U),i=X||0,a=e?Number(e):.4,n=t?Number(t):.1,o>0&&r>0&&(e||(a=(r-2*r*.1-i)/o),t||(n=.1*r/o)),{h:a,y:n});return{closeupImageDims:l,x:B?Number(B):.1,w:G?Number(G):.8,y:s.y,h:s.h}}),[ea,en]=(0,c.useState)(()=>(0,A.Z)(Number(H))||(B&&U&&W&&G?6:5)),el={x:ee.x,y:ee.y,w:ee.w,h:ee.h},eo="stl"===J&&4===ea,er=function({cropSource:e,surfaceType:t,isProductPage:i,queryEntrypoint:a}){return a||("stl"===t&&4===e?"shop_the_look_module":i?"feed_module":null)}({cropSource:ea,isProductPage:!1,surfaceType:J,queryEntrypoint:f.entrypoint}),es={pin_id:y?.entityId,crop:el,crop_source:ea,is_shopping:eo,entry_source:eo?"shopping":"flashlight",entrypoint:er,filters:z,hybrid_search_param:O,journey_depth:parseInt(K,10)||void 0,search_query:N,source_module_id:V},ed=(y.visualObjects??[]).filter(e=>e.isStela).map(M.Z),[ec,eu]=(0,c.useState)((0,Z.Z)(ed,el)),{isCropAreaOnDotArea:ep,indexToHide:eh}=ec,{closeupImageWidth:em,modalTop:eg}=ee.closeupImageDims,ey=y?.imageSpec_736x?.url??"",ex=!u||u-60<em&&d,ew=!ex&&d,eS=d?60*!_:X,ej=t._('Visual search', 'Visual search results', 'Visual search results'),{auxData:ek,viewType:eP,viewParameter:eC}=function({cropSource:e,isAuth:t,isCropAreaOnDotArea:i,isProductPage:a,surfaceType:n}){let l=t||"stl"===n,o=4===e||i,r=a?"product":"stl"===n?o?"product":"organic":t&&o?"unified":"organic";return{auxData:(()=>{let e=e=>({commerce_data:JSON.stringify({is_product_only_feed:e})});return"product"===r?e(!0):"unified"===r||l?e(!1):void 0})(),viewType:"product"===r?427:72,viewParameter:"organic"===r?3050:3462}}({cropSource:ea,isAuth:d,isCropAreaOnDotArea:ep,isProductPage:!1,surfaceType:J}),eT=e=>i({type:"SET_FLASHLIGHT_CROP_SOURCE",payload:{cropSource:e}});function eI(){if(0===n.length)return void a(`/pin/${y.entityId}/`,{replace:!0});a(-1)}return((0,F.Z)(()=>{eT(ea)}),0===eg)?null:(0,Y.jsxs)(c.Fragment,{children:[(0,Y.jsx)(j.Z,{unsafeCSS:eO}),(0,Y.jsx)(D.Z,{auxData:ek,viewParameter:eC,viewType:eP,children:(0,Y.jsx)(C.Z,{view:eP,children:(0,Y.jsxs)(k.default,{hasFixedHeader:!0,hasGutter:!1,children:[(0,Y.jsx)(R.Z,{text:t._('Visual Search Page', 'flashlight.accessibilityhiddenheading.fullpage', 'accessibility label for flashlight page')}),(0,Y.jsx)(p.xu,{color:"dark",height:"100vh",width:"100vw"}),(0,Y.jsx)(ez,{closeupImageDims:ee.closeupImageDims,closeupImageUrl:ey,cropArea:el,handleBackClick:eI,handleChangeCloseupImageTop:function(e){et(t=>({...t,closeupImageDims:{...t.closeupImageDims,closeupImageTop:e}}))},handleCropperChange:function({cropArea:e,cropSource:t,visualObjects:n}){let l;eT(t),l=y.entityId,i((0,L.By)(l)),eu((0,Z.Z)(n,e)),en(t),et(t=>({...t,...e})),a((0,E.Z)({cropArea:e,cropSource:t,isProductPage:!1,pinId:y.entityId,requestParams:q,surfaceType:J}),{replace:!0})},headerHeight:X,pinDominantColor:y.dominantColor||"#efefef",pinId:y.entityId,pinImageSignature:y.imageSignature,showBackButton:ex,viewParameter:eC,visualObjects:ed,visualObjectToHide:eh}),ew&&(0,Y.jsx)(ei,{handleBackClick:eI,viewParameter:eC,viewType:eP}),(0,Y.jsx)(Q,{canMoveModal:!0,cropSource:ea,entryPoint:"flashlight",headerHeight:X,heading:ej,isOpen:!0,location:l,maxDistanceFromTop:eg||0,minDistanceFromTop:eS,mobileAccessibilityCloseIconLabel:t._('Close visual search results', 'close visual search results and go back to pin', 'close visual search results and go back to pin'),mobileHideCloseIcon:d,noBorder:!0,noDivider:!0,noMaskOnBackground:!0,onDismiss:eI,pinId:y.entityId,shouldSnapToEnds:!0,showHandle:d,snapToEndThreshold:.3,viewParameter:eC,viewType:eP,children:d?(0,Y.jsx)(e_,{auxData:ek,isShopTheLookFeed:eo,pinId:y.entityId,searchResourceOptions:es,surfaceType:J,viewParameter:eC,viewType:eP}):(0,Y.jsx)(ef,{isShopTheLookFeed:eo,searchResourceOptions:es,viewParameter:eC,viewType:eP})})]})})})]})}let eV=(void 0!==n||(n=i(807352)).hash&&"df8cf9d2521b1a82156cc4ecd7b04884"!==n.hash&&console.error("The definition of 'MobileFlashlightPageFetchData_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),eB=(void 0!==l||(l=i(345463)).hash&&"a0953a7ea15ce447a2452bbeca8586ba"!==l.hash&&console.error("The definition of 'MobileFlashlightPageFetchDataPinQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l);function eU(){let e=(0,u.$B)(),{pinId:t}=(0,_.Z)(e.params.id||""),i=(0,m.Z)({strategy:"LEGACY",query:eB,variables:{pinId:t},useGetLegacyData:({pinId:e})=>{let{data:t}=(0,x.Z)({name:"PinResource",options:{id:e,field_set_key:"detailed",fetch_visual_search_objects:!0,is_mobile_fork:!0}}),i=(0,f.S6)()(e);return t??i}}),a=i?.v3GetPinQuery?.__typename==="V3GetPin"?i.v3GetPinQuery.data:null,n=(0,h.Z)(eV,a);return n?(0,Y.jsx)(eN,{pinKey:n}):null}function eW(){(0,o.Z)("MobileFlashlightPageFetchData","/app/www/VisualSearch/mobile/MobileFlashlightPageFetchData.tsx");let e=(0,g.ZP)();return(0,Y.jsx)(y.Z,{measureGridVisuallyComplete:!0,surface:"visual_search",children:(0,Y.jsx)(c.Suspense,{fallback:(0,Y.jsx)(p.xH,{accessibilityLabel:e._('Loading Pin data', 'mobileFlashlightPage.loadingPinData', 'accessibility label for pin loading spinner'),show:!0}),children:(0,Y.jsx)(eU,{})})})}var eG=i(290003);let e$=function(){(0,o.Z)("VisualSearchPage","/app/www/pages/VisualSearchPage.tsx");let e=(0,s.HG)(),t=(0,r.Z)();return e?t.isAuth?(0,Y.jsx)(d.Z,{}):(0,Y.jsx)(eG.Z,{}):(0,Y.jsx)(eW,{})}},113481:function(e,t,i){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/pin/[id]/visual-search",function(){return i(88410).Z}])},976892:function(e){e.exports="https://s.pinimg.com/webapp/handle_bottom_left-d4d98c77.svg"},47239:function(e){e.exports="https://s.pinimg.com/webapp/handle_bottom_right-ccae4564.svg"},615440:function(e){e.exports="https://s.pinimg.com/webapp/handle_top_left-68937c82.svg"},743222:function(e){e.exports="https://s.pinimg.com/webapp/handle_top_right-4d7ae997.svg"}},function(e){e.O(0,["16369","25418","33171","33913","35108","36849","38457","39176","42985","44459","47707","49793","60471","6325","64154","66986","67243","68347","71416","80976","85724","89999","90542","99324"],function(){return e(e.s=113481)}),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/pin/[id]/visual-search-0ef76613b30fb621.mjs.map