(self.modernJsonp=self.modernJsonp||[]).push([["95068"],{289032:function(e,t,s){s.d(t,{Z:()=>o});function o(e,t,s){let o,i,a,n=!!s?.leading,r=s?.trailing!==!1,l=s?.maxWait?Math.max(s.maxWait,t):void 0,c=null,d=0;function h(t){let s=o;return o=void 0,d=t,s&&(i=e(...s)),i}function u(e){let s=e-(a??0),o=e-d;return void 0===a||s>=t||s<0||void 0!==l&&o>=l}function g(){let e=Date.now();u(e)?(c=null,r&&o)?h(e):o=void 0:c=setTimeout(g,function(e){let s=e-(a??0),o=e-d,i=t-s;return void 0!==l?Math.min(i,l-o):i}(e))}function m(){null!==c&&clearTimeout(c),c=setTimeout(g,t)}function p(...e){let s=Date.now(),r=u(s);if(o=e,a=s,r){if(null===c)return d=s,c=setTimeout(g,t),n?h(s):i;else if(void 0!==l)return m(),h(s)}return null===c&&m(),i}return p.flush=function(){if(null!==c&&o){let e=Date.now();return clearTimeout(c),c=null,h(e)}return i},p.cancel=function(){null!==c&&clearTimeout(c),d=0,o=void 0,a=void 0,c=null},p}},971323:function(e,t,s){s.d(t,{Kz:()=>o,ZP:()=>a,mM:()=>i});let o=`
input[type="password"]::-ms-reveal  {
    display: none;
}
`,i={margin:"0 auto 22px",width:"270px"},a=`
.Tooltip_message:before, .Tooltip_message:after {
  border-style: solid;
  content: '';
  display: block;
  margin-top: -8px;
  position: absolute;
  right: 100%;
  top: 17px;
  width: 0;
}
.Tooltip_message:before {
  border-color: transparent rgba(0,0,0,0.48);
  border-width: 8px 10px 8px 0;
}
.Tooltip_message:after {
  border-color: transparent #fff;
  border-width: 8px 10px 8px 0;
  margin-right: -1px;
}
.Tooltip_mobileMessage:before, .Tooltip_message:after {
  border-style: solid;
  display: block;
  margin-top: -8px;
  position: absolute;
  right: 100%;
  top: 17px;
  width: 0;
}
.Tooltip_mobileMessage:before {
  border-color: transparent rgba(0,0,0,0.48);
  border-width: 8px 10px 8px 0;
}
.Tooltip_mobileMessage:after {
  border-color: transparent #fff;
  border-width: 8px 10px 8px 0;
  margin-right: -1px;
}
.Tooltip_wrapper {
  position: absolute;
  left: calc(100% + 12px);
  z-index: 1;
}
.Tooltip_mobileWrapper {
  margin-top: 7px;
  z-index: 1;
}

.TermsOfService__light a {
  color: rgba(255,255,255,0.9);
}
`},461951:function(e,t,s){s.d(t,{$9u:()=>Q,$wd:()=>E,AEu:()=>A,AMH:()=>W,AmI:()=>G,Apc:()=>ep,BJZ:()=>eo,ByL:()=>q,C9x:()=>R,CkT:()=>J,EFb:()=>el,Ecf:()=>es,EvS:()=>k,FCL:()=>ed,G4W:()=>x,Gh8:()=>L,GnN:()=>eb,Hgl:()=>e_,Klx:()=>Z,KtD:()=>$,LZO:()=>d,N$$:()=>eg,NKq:()=>K,OHS:()=>S,QO3:()=>c,RdP:()=>ea,Ryt:()=>j,Tp5:()=>ef,Twt:()=>g,UON:()=>ev,UTl:()=>C,V9q:()=>eu,Vrx:()=>ew,Wmm:()=>o,Wyp:()=>p,XSG:()=>l,XgG:()=>O,YmI:()=>M,_HG:()=>n,_dC:()=>P,a85:()=>y,b2_:()=>b,bcf:()=>_,cYF:()=>ei,cpp:()=>f,cxq:()=>z,d40:()=>en,etl:()=>h,fcC:()=>I,hWn:()=>et,hio:()=>u,ilB:()=>m,jKP:()=>T,k29:()=>D,kWh:()=>H,klq:()=>V,lbE:()=>w,lwx:()=>ec,nTo:()=>F,o6z:()=>ee,oVm:()=>X,qiK:()=>i,qqC:()=>r,r1i:()=>U,rEw:()=>v,saV:()=>er,v6B:()=>eh,vvv:()=>em,xW7:()=>N,z6F:()=>B,zsO:()=>a,zuj:()=>Y});let o="var(--sema-color-background-default)",i="var(--sema-color-background-primary)",a="var(--sema-color-background-secondary)",n="var(--sema-color-background-tertiary)",r="var(--sema-color-background-selected)",l="var(--sema-color-background-education)",c="var(--sema-color-background-elevation)",d="var(--sema-color-background-scrim)",h="var(--sema-color-background-inverse)",u="var(--sema-color-background-light)",g="var(--sema-color-background-dark)",m="var(--sema-color-background-disabled)",p="var(--sema-color-background-transparent)",_="var(--sema-color-background-info-default)",b="var(--sema-color-background-info-weak)",f="var(--sema-color-background-recommendation-default)",v="var(--sema-color-background-recommendation-weak)",w="var(--sema-color-background-success-default)",x="var(--sema-color-background-success-weak)",y="var(--sema-color-background-warning-default)",P="var(--sema-color-background-warning-weak)",k="var(--sema-color-background-error-default)",E="var(--sema-color-background-error-weak)",A="var(--sema-color-background-gradient-darken-bottom-weak)",S="var(--sema-color-background-gradient-darken-top-weak)",C="var(--sema-color-border-decorative)",j="var(--sema-color-border-interactive)",z="var(--sema-color-border-disabled)",T="var(--sema-color-border-error)",L="var(--sema-color-border-education)",B="var(--sema-color-border-inverse)",I="var(--sema-color-border-transparent)",F="var(--sema-color-border-focus-outer-default)",O="var(--sema-color-text-default)",R="var(--sema-color-text-subtle)",M="var(--sema-color-text-inverse)",Z="var(--sema-color-icon-primary)",V="var(--sema-color-dataviz-10)",H="var(--sema-color-dataviz-11)",U="var(--sema-color-dataviz-12)",D="var(--sema-color-dataviz-01)",W="var(--sema-color-dataviz-02)",N="var(--sema-color-dataviz-03)",G="var(--sema-color-dataviz-04)",q="var(--sema-color-dataviz-05)",Y="var(--sema-color-dataviz-06)",J="var(--sema-color-dataviz-07)",K="var(--sema-color-dataviz-08)",X="var(--sema-color-dataviz-09)",$="var(--sema-color-hover-background-default)",Q="var(--sema-color-hover-border-decorative)",ee="var(--sema-color-hover-border-error)",et="var(--sema-color-pressed-background-default)",es="var(--sema-elevation-shadow-floating)",eo="var(--sema-font-size-body-100)",ei="var(--sema-font-family-body-SM)",ea="var(--sema-rounding-200)",en="var(--sema-rounding-300)",er="var(--sema-rounding-400)",el="var(--sema-rounding-pill)",ec="var(--sema-space-0)",ed="var(--sema-space-25)",eh="var(--sema-space-50)",eu="var(--sema-space-100)",eg="var(--sema-space-200)",em="var(--sema-space-300)",ep="var(--sema-space-400)",e_="var(--sema-space-500)",eb="var(--sema-space-800)",ef="var(--sema-space-1000)",ev="var(--sema-space-1200)",ew="var(--sema-space-1400)"},744862:function(e,t,s){s.d(t,{u_:()=>r.ZP,qE:()=>n,FN:()=>l.Z}),s(281098);var o=s(20256),i=s(785893);function a({accessibilityLabel:e,color:t,name:s,outline:a,size:n,src:r,verified:l}){return(0,i.jsx)(o.qE,{accessibilityLabel:e,color:t,name:s,outline:a,size:n,src:r?.includes("images/user/default")&&s?void 0:r,verified:l})}a.displayName="Avatar";let n=a;var r=s(982166),l=s(475498)},809295:function(e,t,s){function o(e,t,s){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var o=s.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:o+"")in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}s.d(t,{Z3:()=>h,ZP:()=>g,LU:()=>u});let i=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,a={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},n={},r={background:"#FF8A8A",transform:"scale(.98)"},l={init:e=>({transform:`scale(${n[e]?.8:.99})`,transition:"transform .2s ease-in-out",background:"#8E8E8E"}),[a.enter]:{background:"#A0DCC8",transform:"scale(.99)"},[a.exit]:r,[a.stopped]:r,[a.paused]:r,[a.resumed]:{background:"#0FA573",transform:"scale(.99)"}};class c{constructor(e){o(this,"lastIntersectionChange",null),o(this,"setMutationObserver",e=>(this.mutationObserver=e,this)),o(this,"startMutationObserver",e=>{this.mutationObserver&&this.mutationObserver.observe(this.node,e)}),o(this,"stopMutationObserver",()=>{this.mutationObserver&&this.mutationObserver.disconnect()}),o(this,"handleIntersectionVisibilityChange",(e,t)=>{this.lastIntersectionChange=e,[{type:1,isVisible:e=>{let t=e.rootBounds?.bottom??window.innerHeight;return e.isIntersecting&&e.boundingClientRect.top>=143&&e.boundingClientRect.top<t},isHidden:e=>{let t=e.rootBounds?.bottom??window.innerHeight;return!e.isIntersecting||e.boundingClientRect.top<143||e.boundingClientRect.top>=t}},{type:50,isVisible:e=>e.intersectionRatio>=.5,isHidden:e=>e.intersectionRatio<.5},{type:80,isVisible:e=>e.intersectionRatio>=.8,isHidden:e=>e.intersectionRatio<.8},{type:2,isVisible:e=>{let t=e.rootBounds?.bottom??window.innerHeight;return e.isIntersecting&&e.boundingClientRect.bottom<=t&&e.boundingClientRect.bottom>=143},isHidden:e=>{let t=e.rootBounds?.bottom??window.innerHeight;return!e.isIntersecting||e.boundingClientRect.bottom<143||e.boundingClientRect.bottom>t}}].forEach(({type:s,isVisible:o,isHidden:i})=>{o(e)?this.lastLoggedVisibleEvent[s]||(this.addVisibleEvent(s,t),this.lastLoggedVisibleEvent[s]=!0):i(e)&&this.lastLoggedVisibleEvent[s]&&(this.addHiddenEvent(s,t),this.lastLoggedVisibleEvent[s]=!1)})}),o(this,"handleIntersectionChange",e=>{let t=e.intersectionRatio>0||e.isIntersecting,s=Date.now();this.handleIntersectionVisibilityChange(e,s),t&&!this.inViewport?(this.startTime=s,this.pinCellWidth=this.node.offsetWidth,this.pinCellHeight=this.node.offsetHeight,this._debug(a.enter,{startTime:s,node:this.node}),this.enterCallbacks.forEach(e=>e())):!t&&this.inViewport&&(this._debug(a.exit,!0),this.exitCallbacks.forEach(e=>e(this.toJSON()))),this.inViewport=t}),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=e,this.startTime=0,this.debugId="",this.pinCellWidth=0,this.pinCellHeight=0,this.visibleEvents=new Map,this.hiddenEvents=new Map,this.lastLoggedVisibleEvent={1:!1,50:!1,80:!1,2:!1}}addVisibleEvent(e,t){let s=this.visibleEvents.get(e)||[];s.push(1e6*t),this.visibleEvents.set(e,s)}addHiddenEvent(e,t){let s=this.hiddenEvents.get(e)||[];s.push(1e6*t),this.hiddenEvents.set(e,s)}hasVisibleEvent(e){return this.visibleEvents.has(e)}hasHiddenEvent(e){return this.hiddenEvents.has(e)}onEnterViewport(e){return this.enterCallbacks.push(e),this}onExitViewport(e){return this.exitCallbacks.push(e),this}setDebugId(e){return this.debugId=e,i&&Object.assign(this.node.style,l.init(e)),this}pause(){return this.inViewport&&(this.addHiddenEvent(102,Date.now()),this._debug(a.paused,!0),this.exitCallbacks.forEach(e=>e(this.toJSON()))),this}resume(){if(this.inViewport){let e=Date.now();this._debug(a.resumed,{startTime:e}),this.startTime=e,this.addVisibleEvent(102,e),Object.keys(this.lastLoggedVisibleEvent).forEach(e=>{this.lastLoggedVisibleEvent[e]=!1}),this.lastIntersectionChange&&this.handleIntersectionVisibilityChange(this.lastIntersectionChange,e)}return this}stop(e){return this.inViewport&&(this._debug(a.stopped,!0),this.exitCallbacks.forEach(t=>t(this.toJSON(e)))),this}toJSON(e=""){return{startTime:1e6*this.startTime,endTime:1e6*Date.now(),forcedExit:e,pinCellWidth:this.pinCellWidth,pinCellHeight:this.pinCellHeight,visibleEvents:this.visibleEvents,hiddenEvents:this.hiddenEvents}}toDebugJSON(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:`${(Date.now()-this.startTime)/1e3} seconds`,pinCellWidth:this.pinCellWidth,pinCellHeight:this.pinCellHeight}}_debug(e,t){if(i)switch(window.console.log(`ðŸ“Œ ${e} -- ${this.debugId}`),!0===t&&window.console.log(this.toDebugJSON()),"object"==typeof t&&window.console.log(t),l[e]&&Object.assign(this.node.style,l[e]),e){case a.flushed:case a.paused:case a.exit:n[this.debugId]=!0}}}function d(e,t,s){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var o=s.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:o+"")in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}let h=!0,u=!1;class g{constructor(){d(this,"_delegateChange",e=>{e.forEach(e=>{let t=this.activeImpressions.get(e.target);t&&t.handleIntersectionChange(e)})}),d(this,"_handleMutations",(e,t)=>{let s=this.mutationObservers.get(t);s&&s.offsetHeight<1&&s&&this.stop(s,"removed")}),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=u,this.observer=new window.IntersectionObserver(this._delegateChange),window.Cypress&&!window.activeImpressions&&(window.activeImpressions=new Map),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}setExperimentStatus(e){this.inExperiment!==e&&(this.inExperiment=e)}stop(e,t=""){let s=this.activeImpressions.get(e);s&&(s.stop(t),s.mutationObserver&&this.mutationObservers.delete(s.mutationObserver),s.stopMutationObserver(),this.activeImpressions.delete(e),window.activeImpressions?.delete(e),this.observer?.unobserve(e))}start(e){let t=this.activeImpressions.get(e);if(!t){t=new c(e),this.activeImpressions.set(e,t),window.activeImpressions?.set(e,t),this.observer?.observe(e);let s=(e,t)=>this._handleMutations(e,t);t.setMutationObserver(new window.MutationObserver(s)),t.mutationObserver&&this.mutationObservers.set(t.mutationObserver,e),t.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})}return t}pause(e=h){this.paused||(Array.from(this.activeImpressions.values()).forEach(e=>e.pause()),this.paused=!0,this.pausePriority===u&&(this.pausePriority=e))}resume(e=h){(e!==u||this.pausePriority!==h)&&this.paused&&(Array.from(this.activeImpressions.values()).forEach(e=>e.resume()),this.paused=!1,this.pausePriority=u)}addObstruction(e,t){"top"===e?this.topObstructions.add(t):"bottom"===e&&this.bottomObstructions.add(t),this._calculateRootMargins()}removeObstruction(e,t){"top"===e?this.topObstructions.delete(t):"bottom"===e&&this.bottomObstructions.delete(t),this._calculateRootMargins()}updateObstructions(){this._calculateRootMargins()}_calculateRootMargins(){let e=Array.from(this.topObstructions).reduce((e,t)=>{let{bottom:s}=t.getBoundingClientRect();return s>e?s:e},0),t=window.innerHeight-Array.from(this.bottomObstructions).reduce((e,t)=>{let{top:s}=t.getBoundingClientRect();return s<e?s:e},window.innerHeight);if(e!==this.topHeight||t!==this.bottomHeight){let s={rootMargin:`${-e}px 0px ${-t}px`,threshold:[0,.5,.8,1]};this.observer?.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,s),Array.from(this.activeImpressions.values()).forEach(e=>this.observer?.observe(e.node)),this.topHeight=e,this.bottomHeight=t}}}},816358:function(e,t,s){s.d(t,{Z:()=>o});let o=new(s(809295)).ZP},49832:function(e,t,s){s.d(t,{Z:()=>a});var o=s(552381),i=s(378888);function a(e,t,s=""){if(!(t&&t.search))return"";let{message:n}=(0,i.mB)(t.search),r=(0,i.mB)(t.search).username||s,l="true"===(0,i.mB)(t.search).multiple_accounts;return(0,o.Z)({i18n:e,message:n,multipleAccounts:l,username:r})}},552381:function(e,t,s){s.d(t,{Z:()=>c});var o=s(281098),i=s(20256),a=s(302148),n=s(482698),r=s(785893);function l(e,t,s){return(0,r.jsx)(i.xv,{align:s||"center",children:(0,a.nk)(e,{username:(0,r.jsx)(i.xv,{inline:!0,weight:"bold",children:t})})})}function c({i18n:e,message:t,multipleAccounts:s,username:i=""}){switch((0,o.Z)("getManageAccountToastTextWithOptions","/app/packages/manageAccountToast/getManageAccountToastTextWithOptions.tsx"),t){case n.R:return e._('Your account has been deleted. We\'re sad to see you go', 'unauthLoginPage.accountDeletedToast.message', 'Confirmation message after a user has successfully deleted their account');case n.j2:if(s)return l(e._('An email has been sent with final steps to delete your account, {{username}} and its linked accounts', 'accountDeletedEmailToast.message.multipleAccounts', 'Confirmation message after a user has successfully requested multiple accounts deletion'),i);return l(e._('An email has been sent with final steps to delete your account, {{username}}', 'accountDeletedEmailToast.message.singleAccount', 'Confirmation message after a user has successfully requested a single account deletion'),i);case n.Di:return l(s?e._('The account, {{username}}, and its associated linked accounts have been deactivated', 'unauthLoginPage.deactivatedToast.message.multipleAccounts', 'Confirmation message after a user has successfully deactivated multiple accounts'):e._('The account, {{username}}, has been deactivated', 'unauthLoginPage.deactivatedToast.message.singleAccount', 'Confirmation message after a user has successfully deactivated a single account'),i);case n.aU:return l(e._('Success! You\'ve unlinked this business account. You are currently in {{username}}.', 'authHomeFeedPage.unlinkAccountToast.message', 'Confirmation message after a user has successfully unlinked business account'),i,"start");case n.pN:return l(e._('You\'ve switched into and are currently in the account {{username}}', 'accountSettings.switchAccountToAccountChanges', 'Confirmation message after a user has successfully switched accounts and got redirected to Account Changes'),i,"start");case n.iu:return e._('Your account is now a personal account', 'unauthLoginPage.unlinkAccountToast.personal.message', 'Confirmation message after a user has successfully converted the lba to a personal account');case n.E2:return e._('Your account is now a business account', 'unauthLoginPage.unlinkAccountToast.business.message', 'Confirmation message after a user has successfully converted the lba to a business account');case n.Eh:return e._('Your Linked Business Account was deleted', 'unauthLoginPage.unlinkAccountToast.business.message', 'Confirmation message after a user has successfully deleted their linked business account');default:return""}}},793698:function(e,t,s){s.d(t,{LO:()=>h,cm:()=>d,dM:()=>l,kY:()=>u,mN:()=>c}),s(281098);var o=s(581722),i=s(729434),a=s(821342),n=s(785893);let{Provider:r,get:l}=(0,i.Z)("Users");function c(){let e=l();return t=>e[t]}function d(){let e=l();return(t,s=!1)=>{let o=Object.keys(e).find(s=>e[s].username===t);if(o||!s)return e[o??""]}}function h(){let e=(0,a.Z)();return l()[e.isAuth?e.id:""]}function u({children:e}){let t=(0,o.v9)(({users:e})=>e,o.wU);return(0,n.jsx)(r,{value:t,children:e})}},557786:function(e,t,s){s.r(t),s.d(t,{default:()=>g});var o=s(281098),i=s(20256),a=s(980787),n=s(525839),r=s(302148),l=s(941404),c=s(341742),d=s(278566),h=s(785893);let u={textAlign:"start"};function g(){(0,o.Z)("QRCodeLoginAppErrorBanner","/app/www/login/duplo/QRCodeLoginAppErrorBanner.tsx");let e=(0,n.ZP)(),{logContextEvent:t}=(0,a.u)(),s=(0,r.XB)({text:e._('<strong id=\'1\'>Get the app</strong> to log in with QR code', 'mweb.qr_code_login_app_error.banner.text', 'Text for QR code login app error banner'),jsxReplacements:{1:({innerHtmlStrings:e})=>(0,h.jsx)(i.xv,{inline:!0,underline:!0,children:e})}});return(0,c.Z)(()=>{(0,l.My)("mweb.qr_code_login_app_error.banner.view"),t({event_type:13,component:15429})}),(0,h.jsx)(i.xu,{children:(0,h.jsx)(d.Z,{app_upsell_type:"qr-code-login-app-error-banner",componentType:15430,children:({handleOpenApp:o})=>(0,h.jsx)(i.iP,{onTap:()=>{(0,l.My)("mweb.qr_code_login_app_error.banner.tap"),t({event_type:102,component:15429}),o()},children:(0,h.jsxs)(i.xu,{alignItems:"center",color:"infoWeak",direction:"row",display:"flex",paddingX:4,paddingY:4,rounding:4,children:[(0,h.jsx)(i.xu,{marginEnd:4,children:(0,h.jsx)(i.JO,{accessibilityLabel:e._('Pinterest', 'proPartnerHeader.partnerBadge.pinterestIcon', 'Pinterest icon'),color:"info",icon:"pinterest",size:20})}),(0,h.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:u},children:(0,h.jsx)(i.xv,{inline:!0,children:s})})]})})})})}},321069:function(e,t,s){s.d(t,{Z:()=>ec});var o=s(667294),i=s(581722),a=s(825332),n=s(20256),r=s(111330),l=s(521009),c=s(289032),d=s(702644),h=s(863181),u=s(686319),g=s(801406),m=s(744862),p=s(475498),_=s(525839),b=s(302148),f=s(482698),v=s(49832),w=s(2420),x=s(425102),y=s(16503),P=s(709252),k=s(274320),E=s(60059),A=s(15667),S=s(753143),C=s(941404),j=s(349188),z=s(87853),T=s(378888),L=s(341742),B=s(664897),I=s(640924),F=s(984126),O=s(747129),R=s(281098),M=s(971323),Z=s(957858),V=s(369416),H=s(572227),U=s(647709),D=s(14531),W=s(785893);function N(e,t,s){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var o=s.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:o+"")in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class G extends o.PureComponent{constructor(...e){super(...e),N(this,"state",{emailFieldElement:null,shouldShowEmailSuggestion:!1}),N(this,"handleChangeEmail",({value:e})=>{let{handleChangeEmail:t}=this.props;if(this.state.shouldShowEmailSuggestion)this.setState({shouldShowEmailSuggestion:!1});else if(e.endsWith("@")){let e=this.emailInputRef;this.setState({shouldShowEmailSuggestion:!0,emailFieldElement:e})}t&&t({value:e})}),N(this,"handlePasswordFocus",()=>{(0,C.NC)("focus_password")}),N(this,"handleEmailSuggestionClick",e=>{let{trackInteraction:t}=this.props;t&&t({action:"click",item:"email-suggestions",within:"login-page"}),this.setState({shouldShowEmailSuggestion:!1}),this.handleChangeEmail({value:e})}),N(this,"passwordReset",e=>{(0,C.NC)("click_forget_password"),this.props.handlePasswordReset&&this.props.handlePasswordReset(e)}),N(this,"handleLoginClick",()=>{(0,C.EX)({event:"start",provider:"email"}),(0,C.NC)("press_login_continue"),this.props.onLoginClick&&this.props.onLoginClick()}),N(this,"handleSignupClick",()=>{let{onSignUpClick:e}=this.props;e&&e()})}componentDidMount(){this.handleChangeEmail({value:this.props.email})}render(){let{email:e,handleChangePassword:t,hideEmailField:s,hideLoginBtn:i,hidePasswordField:a,i18n:r,passwordValidationError:l,emailValidationError:c,emailLoginOnlyForRecoverAccount:d,validateEmailOnBlur:h,validatePasswordOnBlur:u,isSIWAError:g,isValid:m,isSsoFlow:p,onSubmit:_,password:b,requestContext:f,shouldShowSignUpButton:v,showEmailAsText:w,onForgetPasswordForFacebookRecover:x}=this.props,{emailFieldElement:y,shouldShowEmailSuggestion:P}=this.state,k=g&&l,E=r._('Log in', 'Label for log in button', 'Label for log in button'),A=!a;return p&&(E=r._('Continue with SSO', 'login.sso.continue_button.text', 'Label for continue with SSO button'),A=!1),(0,W.jsx)(n.xu,{marginBottom:3,marginTop:3,children:(0,W.jsxs)("form",{autoCapitalize:"none",autoCorrect:"off",onSubmit:_,children:[!s&&w&&(0,W.jsx)(n.xu,{marginBottom:5,children:(0,W.jsx)(n.xv,{align:"center",children:e})}),!s&&!w&&(0,W.jsxs)(o.Fragment,{children:[P?(0,W.jsx)(D.Z,{email:e,emailFieldElement:y,handleEmailSuggestionClick:this.handleEmailSuggestionClick,showUsername:!0}):null,(0,W.jsx)(n.xu,{marginTop:1,children:(0,W.jsx)(n.nv,{ref:e=>{this.emailInputRef=e},errorMessage:c,id:"email",onBlur:h,onChange:this.handleChangeEmail,placeholder:r._('Email', 'Prompt for user to enter in email on the mobile web login page', 'Prompt for user to enter in email on the mobile web login page'),size:"lg",type:"email",value:e})})]}),A?(0,W.jsxs)(n.xu,{children:[(0,W.jsxs)(n.xu,{marginTop:2,position:"relative",children:[f.userAgent.browserName?.includes("Edge")&&(0,W.jsx)(V.Z,{unsafeCSS:M.Kz}),(0,W.jsx)(n.nv,{autoComplete:"on",errorMessage:l,id:"password",onBlur:u,onChange:t,onFocus:this.handlePasswordFocus,placeholder:r._('Password', 'Prompt for user to enter in password on the mobile web login page', 'Prompt for user to enter in password on the mobile web login page'),size:"lg",type:"password",value:b})]}),d?(0,W.jsx)(n.xu,{"data-test-id":"reset-password",marginTop:2,children:(0,W.jsx)(n.iP,{onTap:()=>{x?.(this.props.email)},children:(0,W.jsx)(n.xv,{inline:!0,size:"100",weight:"bold",children:r._('Forgot your password', 'pass_word_reset_page.fb_multi_auth_login.send_forgot_password_email', 'Link for fb multi-auth user to reset their email if they are eligible for email password sign-in')})})}):(0,W.jsx)(n.xu,{"data-test-id":"reset-password",marginTop:2,children:(0,W.jsx)(n.xv,{inline:!0,size:"100",weight:"bold",children:(0,W.jsx)(n.rU,{display:"inlineBlock",href:"/password/reset",onClick:({event:e})=>this.passwordReset(e),tapStyle:"none",underline:"hover",children:k?r._('Reset your password', 'Heading displayed when email is entered on the password reset page', 'Heading displayed when email is entered on the password reset page'):r._('Forgot your password?', 'Link to the password reset page', 'Link to the password reset page')})})})]}):null,v&&(0,W.jsx)(n.xu,{marginTop:3,children:(0,W.jsx)(n.zx,{color:"red",fullWidth:!0,onClick:this.handleSignupClick,text:r._('Sign up with this email', 'Label for sign up button', 'Label for sign up button'),type:"submit"})}),!i&&(0,W.jsx)(n.xu,{"data-test-id":"log-in-button",marginTop:4,children:(0,W.jsx)(Z.Z,{color:"red",disabled:!m||v,fullWidth:!0,onClick:this.handleLoginClick,size:"md",text:E,type:"submit"},!m||v?"disabled":"enabled")})]})})}}let q=function(e){let t=(0,_.ZP)(),s=(0,U.ml)(),o=(0,H.Z)(),i=(0,l.Z)(),a=(0,A.B)();return(0,W.jsx)(G,{...e,i18n:t,isPhoneDevice:s,logContextEvent:i,requestContext:a,trackInteraction:o})};var Y=s(982166),J=s(524393);function K({onDismiss:e}){(0,R.Z)("LoginAssistanceGoogleModal","/app/www/login/duplo/LoginAssistanceGoogleModal.tsx");let t=(0,_.ZP)();(0,o.useEffect)(()=>{(0,C.My)("unauth.mweb.login_assistance_google_modal.view")},[]);let s=t._('Having trouble logging in?', 'mweb.accountRecovery.loginAssistance.googleModal.heading', 'Modal heading for users who failed to login through password and are connected through Google');return(0,W.jsxs)(Y.ZP,{accessibilityModalLabel:s,heading:(0,W.jsxs)(n.xu,{children:[(0,W.jsx)(n.xu,{left:!0,marginStart:6,marginTop:-10,position:"absolute",children:(0,W.jsx)(n.hU,{accessibilityLabel:t._('Dismiss modal button', 'dismiss button accessibilityLabel', 'accessibilityLabel.dismiss.link_modal'),bgColor:"transparent",icon:"cancel",onClick:()=>{e()},size:"sm"})}),(0,W.jsx)(n.xu,{display:"flex",justifyContent:"center",marginBottom:4,marginTop:10,children:(0,W.jsx)(n.JO,{accessibilityLabel:t._('Pinterest logo', 'Accessibility label for Pinterest icon', 'Accessibility label for Pinterest icon'),color:"brandPrimary",icon:"pinterest",size:32})}),(0,W.jsx)(n.X6,{accessibilityLevel:1,align:"center",size:"400",children:s})]}),isOpen:!0,onDismiss:e,children:[(0,W.jsx)(n.xu,{marginBottom:4,marginTop:4,paddingX:12,children:(0,W.jsx)(n.xv,{align:"center",children:t._('Looks like your account is connected to Google. Log in with Google to get back into your account.', 'mweb.accountRecovery.loginAssistance.googleModal.text', 'Modal text for users who failed to login through password and are connected through Google')})}),(0,W.jsx)(n.xu,{marginBottom:8,paddingX:14,children:(0,W.jsx)(J.Z,{google:!0})})]})}var X=s(879016),$=s(557786),Q=s(611282);let ee=function({href:e,state:t,onClick:s,children:o}){let{state:i}=(0,a.TH)(),r=(0,Q.Z)({href:{pathname:e,state:{...i,...t}}});return(0,W.jsx)(n.rU,{href:e,onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),s(),r({event:e})},children:o})};var et=s(743865),es=s(793698),eo=s(588836),ei=s(677839),ea=s(371551);function en(e,t,s){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var o=s.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:o+"")in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}let er=e=>(0,T.mB)(e.search).next||e.state&&e.state.next||"/";class el extends o.PureComponent{constructor(...e){let t;super(...e),en(this,"state",{apiErrorCode:0,email:(t=this.props.location).state&&t.state.email||"",isLoading:!1,isValid:!1,isSsoFlow:!1,password:"",recaptchaV3Token:"default",emailValidationError:"",passwordValidationError:"",optOutFromPersonalizedForm:!1,shouldShowSignUpButton:!1,hasKeychainErrorShown:!0,showLoginRateLimitedModal:!1,showLoginAssistanceGoogleModal:!1,shouldHideFBButtonForSignup:!1,isSsoEmail:!1,exchangeCodeToTokenUrl:"",existingUserSso:!1,existingUserIsSso:!1,ssoAuthorizationUri:"",showInfoBanner:!1,infoBannerMessage:"",showQRAppErrorBanner:!1}),en(this,"clearPersonalizedLoginFromEmail",e=>{let{navigate:t,location:s}=this.props;if(s.state&&s.state.userInfo){let{userInfo:o,...i}=s.state;t(e?"/":"/login",{replace:!0,state:i})}}),en(this,"onLoginClick",()=>{this.trackButtonTap(30),this.props.emailLoginOnlyForRecoverAccount&&this.props.logContextEvent({event_type:15392,component:15214,element:30})}),en(this,"onSignUpClick",()=>{let{navigate:e,location:t,isAppFactoryOAuth:s,attributionLabel:o,trackConversionUpsell:i}=this.props;this.trackButtonTap(31),i({eventType:14688,component:14215,upsellReason:o,incrementUpsellReasonCounter:!1}),e("/signup/step1/",{state:{email:this.state.email,password:this.state.password,isSignUpFromLoginError:!0,...t.state,isAppFactoryOAuth:s,attributionLabel:o}})}),en(this,"trackButtonTap",e=>{let{isAuthenticated:t,isLimitedLoginUser:s,logContextEvent:o,trackConversionUpsell:i}=this.props;o({view_type:9,element:e,event_type:102,aux_data:{...t?{login_state:s?x.Z.LIMITED:x.Z.DEFAULT}:{}}}),i({eventType:14689,element:e})}),en(this,"handleNotYouClick",()=>{this.clearPersonalizedLoginFromEmail(),this.trackButtonTap(10879),this.setState({email:"",optOutFromPersonalizedForm:!0}),(0,C.NC)("click_change_signin_account")}),en(this,"handleNoAccountClick",()=>{let{attributionLabel:e,trackConversionUpsell:t}=this.props;this.clearPersonalizedLoginFromEmail(!0),this.trackButtonTap(10880),t({eventType:14688,component:14215,upsellReason:e,incrementUpsellReasonCounter:!1,viewType:10,viewParameter:47}),(0,C.NC)("click_toggle_signup")}),en(this,"handlePasswordReset",()=>{let{navigate:e,logContextEvent:t,attributionLabel:s}=this.props,{email:o}=this.state;this.trackButtonTap(10881);let i=(0,I.a3)(o,this.emailValidators());o&&!i&&(t({event_type:51,view_type:9,view_parameter:63}),(0,u.Z)({url:"/v3/users/forgot_password/",method:"POST",data:{username_or_email:o,type:"reset"}}).then(()=>{e("/password/reset/sent/",{replace:!0,state:{destinationEmail:o,fromLogin:!0,attributionLabel:s}}),this.setState({apiErrorCode:0})}))}),en(this,"validateEmail",async({showTooltip:e})=>{let{email:t}=this.state,s=(0,I.a3)(t,this.emailValidators()),o=!s&&!this.state.passwordValidationError;o&&this.checkIfUserIsSso({isEmailPasswordValid:o}),e||o?this.setState({emailValidationError:s,isValid:o}):this.setState({isValid:o})}),en(this,"checkIfUserIsSso",async({hasInitialEmail:e,isEmailPasswordValid:t})=>{let{email:s}=this.state,{verifySsoUser:o}=this.props,i=t??this.state.isValid,{isSso:a,existingUser:n,existingUserIsSso:r,authorizationUri:l,exchangeCodeToTokenUrl:c}=await o(s),d=!!(a&&(!n||r));this.setState({exchangeCodeToTokenUrl:c??"",isSsoEmail:a,isSsoFlow:d,existingUserSso:!!n,existingUserIsSso:!!r,ssoAuthorizationUri:l??"",isValid:!!d&&!!e||i})}),en(this,"debouncedCheckIfSsoUser",(0,c.Z)(async()=>{let{email:e}=this.state;(0,I.a3)(e,this.emailValidators())||this.checkIfUserIsSso({hasInitialEmail:!1})},300)),en(this,"validatePassword",e=>{let{password:t}=this.state,s=(0,I.a3)(t,[(0,I.aH)({message:this.props.i18n._('The password you entered is incorrect.', 'Password validation error', 'Password validation error')})]),o=!s&&!this.state.emailValidationError;e||o?this.setState({passwordValidationError:s,isValid:o}):this.setState({isValid:o})}),en(this,"validateEmailOnBlur",()=>{setTimeout(()=>{this.validateEmail({showTooltip:!0})},0)}),en(this,"validatePasswordOnBlur",()=>{let{password:e}=this.state;e&&setTimeout(()=>{this.validatePassword(!0)},0)}),en(this,"emailValidators",()=>[(0,I.GT)({message:this.props.i18n._('Not a valid email.', 'Email field validation error message', 'Email field validation error message')}),(0,I.aH)({message:this.props.i18n._('You missed a spot! Don\'t forget to add your email.', 'Email validation error', 'Email validation error')})]),en(this,"getSoftBannedErrorMsg",()=>{let{i18n:e}=this.props;return(0,W.jsx)(n.xv,{color:"error",size:"200",children:(0,b.nk)(e._('We noticed some strange activity on your account. {{ resetPasswordLink }} or log in with Facebook or Google to get back into your account.', 'duplo.loginForm.softBanned.errorMessage', 'Error message when user is soft banned, resetPasswordLink: link to reset password flow with text \'Reset your password\''),{resetPasswordLink:(0,W.jsx)(n.xu,{display:"inlineBlock",children:(0,W.jsx)(n.iP,{onTap:this.handlePasswordReset,children:(0,W.jsx)(n.xv,{inline:!0,underline:!0,children:e._('Reset your password', 'duplo.loginForm.SoftBanned.passwordReset', 'Link text for password reset')},"err_reset_link")})})})},"err_text")}),en(this,"handleChangeEmail",({value:e})=>{this.setState({email:e,shouldShowSignUpButton:!1,hasKeychainErrorShown:!0,isSsoEmail:!1,isSsoFlow:!1,showInfoBanner:!1},()=>{this.validateEmail({}),this.debouncedCheckIfSsoUser()})}),en(this,"handleChangePassword",({value:e})=>this.setState({password:e,hasKeychainErrorShown:!0},this.validatePassword)),en(this,"handleLoginFailure",e=>{if(e.isArkoseChallengeRequired)return void this.setState({isLoading:!1});let{showToast:t,i18n:s,checkExperiment:o}=this.props,{email:i}=this.state,a=e.api_error_code===w.yV||e.api_error_code===w.$j,n={},r=e.api_error_code===w.oP||e.message?{passwordValidationError:e.message}:{};if(a)r={passwordValidationError:this.getSoftBannedErrorMsg()};else if(e.api_error_code===w.q1){(0,C.My)("unauth.mweb.login_form.error.invalid_password_google_user");let e=o("mweb_unauth_assist_google_connected_users",{dangerouslySkipActivation:!0}).group.includes("banner");e&&(n={showInfoBanner:!0,infoBannerMessage:s._('Looks like your account is connected to Google. Use Google button to log in', 'mweb.unauth.loginForm.badPassword.googleConnected.bannerMessage', 'A banner message that directs the user to login using the Google sign-in button')}),r={passwordValidationError:s._('The password you entered is incorrect.', 'mweb.unauth.loginForm.badPassword.googleConnected.passwordError', 'An error message under the password input field warning the user that they inputted a bad password'),showLoginAssistanceGoogleModal:!e}}else e.api_error_code===w.nY&&e.message?(t(({hideToast:t})=>(0,W.jsx)(p.Z,{onHide:t,text:e.message||""})),r={}):e.api_error_code===w.hU?r=i?{emailValidationError:e.message,shouldShowSignUpButton:!0}:{emailValidationError:e.message}:w.ik.includes(e.api_error_code)&&(r={emailValidationError:"",showLoginRateLimitedModal:!0});this.setState({isLoading:!1,apiErrorCode:e.api_error_code||0,...r,...n}),(0,E.rY)(e=>this.setState({recaptchaV3Token:e}),()=>{},E.xW)}),en(this,"handleLogin",e=>{let{fingerprintData:t}=this.props;t.current.submitTriggeredTime||(t.current.submitTriggeredTime=performance.now()),e&&e.preventDefault();let{navigate:s,location:o,login:i,showToast:a,isAuthenticated:n,isLimitedLoginUser:r,isSwitchAccount:l,noImmediateRedirect:c,attributionLabel:d}=this.props,{email:h,password:u,recaptchaV3Token:g}=this.state,{authenticateWithSso:m}=this.props,{isSsoEmail:_,exchangeCodeToTokenUrl:b,existingUserSso:f,existingUserIsSso:v,ssoAuthorizationUri:w}=this.state;if(_){if(!f)return void this.props.navigate("/signup/step1/",{state:{email:this.state.email,isSignUpFromLoginError:!1,...o.state,attributionLabel:d}});else if(v){this.trackButtonTap(14367),m({callbacks:{success:e=>{let{authCode:t,state:a}=e;h&&t&&(this.setState({isLoading:!0}),i({sso_user_email:h,sso_auth_code:t,sso_state:a},s,er(o),{isSwitchAccount:l,recaptchaV3Token:g,noImmediateRedirect:c},{event_type:7534,view_type:9,view_parameter:63,aux_data:{...n?{login_state:r?x.Z.LIMITED:x.Z.DEFAULT}:{},signup_login_method:y.Z.SSO,upsell_reason:d}}).catch(e=>{(0,C.My)("unauth.mweb.login.sso.login.error",{code:e.api_error_code,message:e.message}),this.handleLoginFailure(e)}))},error:e=>{(0,C.My)("unauth.mweb.login.sso.autheticateWithSso.error",{code:e.api_error_code,message:e.message}),this.setState({isLoading:!1}),e.message&&a(({hideToast:t})=>(0,W.jsx)(p.Z,{onHide:t,text:e.message||""}))}},exchangeCodeToTokenUrl:b,isLogin:!0,modalUrl:w??""});return}}i({username_or_email:h,password:u},s,er(o),{isSwitchAccount:l,recaptchaV3Token:g,noImmediateRedirect:c,fingerprintData:t},{event_type:7534,view_type:9,view_parameter:63,aux_data:{...n?{login_state:r?x.Z.LIMITED:x.Z.DEFAULT}:{},signup_login_method:y.Z.EMAIL,upsell_reason:d}}).catch(e=>this.handleLoginFailure(e)),this.setState({isLoading:!0})}),en(this,"handleLoginTouch",e=>{"Facebook"===e?(0,C.My)("unauth_mweb.facebook_connect.manual.attempt"):"Google"===e&&(0,C.My)("unauth_mweb.google_connect.manual.attempt")}),en(this,"handleDisableFBSignup",()=>{this.setState({shouldHideFBButtonForSignup:!0}),this.props.navigate("/login/")}),en(this,"renderPersonalizedLogin",e=>{let{isAppFactoryOAuth:t,location:s,noImmediateRedirect:i,attributionLabel:a,checkExperiment:r,emailLoginOnlyForRecoverAccount:l,onForgetPasswordForFacebookRecover:c,lookedupEmail:d}=this.props,{emailValidationError:h,passwordValidationError:u,isSsoFlow:g,isValid:p,password:_,shouldShowSignUpButton:f}=this.state,{connectedToFacebook:v,connectedToGoogle:w,email:x,firstName:y,hasPassword:P,avatarSrc:k}={connectedToFacebook:e.connected_to_facebook,connectedToGoogle:e.connected_to_google||!!e.gplus_url,email:e.email,firstName:e.first_name,hasPassword:e.has_password,avatarSrc:e.image_medium_url||e.medium_image_url||""},E=!!s.state&&!!s.state.userInfo,A=!P&&!v&&!w,S=P||A,C=w||A,j=S&&(v||A||C)&&!g,z=y?(0,b.nk)(this.props.i18n._('Welcome back, {{name}}!', 'Heading on personalized login page, followed by user\'s name', 'Heading on personalized login page, followed by user\'s name'),{name:y}):this.props.i18n._('Welcome back!', 'Welcome message on user login page', 'Welcome message on user login page'),T=()=>S&&(0,W.jsx)(q,{email:(x??"")||(d??""),emailLoginOnlyForRecoverAccount:l,emailValidationError:h,handleChangeEmail:this.handleChangeEmail,handleChangePassword:this.handleChangePassword,handlePasswordReset:this.handlePasswordReset,hideEmailField:!1,isSsoFlow:g,isValid:p,onForgetPasswordForFacebookRecover:c,onLoginClick:this.onLoginClick,onSignUpClick:this.onSignUpClick,onSubmit:this.handleLogin,password:_,passwordValidationError:u,shouldShowSignUpButton:f,showEmailAsText:!0,validateEmailOnBlur:this.validateEmailOnBlur,validatePasswordOnBlur:this.validatePasswordOnBlur}),L=()=>(0,W.jsx)(J.Z,{attributionLabel:a,disableFBSignup:this.handleDisableFBSignup,facebook:!r("mweb_unauth_fb_login_account_recovery_flow").anyEnabled&&!r("mweb_unauth_remove_fb_autologin_and_manual_login_ucan").anyEnabled&&!r("mweb_unauth_fb_manual_login_dep_row").anyEnabled&&!this.state.shouldHideFBButtonForSignup,google:C,line:A,next:er(s),noImmediateRedirect:i,onFacebookTouch:()=>this.handleLoginTouch("Facebook")});return(0,W.jsxs)(o.Fragment,{children:[E&&(0,W.jsx)(eo.Z,{}),(0,W.jsxs)(o.Fragment,{children:[(0,W.jsxs)(n.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",marginBottom:S?-3:5,marginTop:5,children:[(0,W.jsx)(n.kC,{alignItems:"stretch",justifyContent:"center",children:(0,W.jsx)(n.X6,{accessibilityLevel:1,overflow:"normal",size:"400",children:z})}),(0,W.jsx)(n.xu,{marginBottom:3,marginTop:3,children:(0,W.jsx)(m.qE,{name:y||"",size:"lg",src:k})}),!S&&(0,W.jsx)(n.xu,{children:(0,W.jsx)(n.xv,{align:"center",children:x})})]}),(0,W.jsxs)(n.xu,{marginBottom:6,marginEnd:"auto",marginStart:"auto",marginTop:3,maxWidth:400,children:[T(),j&&(0,W.jsx)(n.xu,{marginBottom:3,marginTop:3,children:(0,W.jsx)(n.xv,{align:"center",size:"100",weight:"bold",children:this.props.i18n._('OR', 'Separator for email login button and social login button', 'Separator for email login button and social login button')})}),!g&&L()]})]}),(0,W.jsxs)(n.xu,{alignItems:"center",direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginTop:2,children:[(0,W.jsxs)(n.xu,{alignItems:"start","data-test-id":"login-switch-account",direction:"row",display:"flex",justifyContent:"center",wrap:!0,children:[(0,W.jsx)(n.xu,{marginEnd:1,children:(0,W.jsx)(n.xv,{align:"center",inline:!0,children:this.props.i18n._('Not you?', 'Short message on the bottom of the login modal that prompts a user to log in to a different account', 'Short message on the bottom of the login modal that prompts a user to log in to a different account')})}),(0,W.jsx)(n.xv,{color:"default",inline:!0,weight:"bold",children:(0,W.jsx)(ee,{href:`/login/${s.search||""}`,onClick:this.handleNotYouClick,children:this.props.i18n._('Log in with a different account', 'Short message on the bottom of the login modal that prompts a user to log in to a different account', 'Short message on the bottom of the login modal that prompts a user to log in to a different account')})})]}),(0,W.jsxs)(n.xu,{display:"flex",justifyContent:"center",marginTop:4,children:[(0,W.jsx)(n.xu,{"data-test-id":"signup-modal-personalized",marginEnd:1,children:(0,W.jsx)(n.xv,{children:this.props.i18n._('No Account?', 'Prompt for signing up', 'Prompt for signing up')})}),(0,W.jsx)(n.xv,{color:"default",weight:"bold",children:(0,W.jsx)(ee,{href:"/signup/step1/",onClick:this.handleNoAccountClick,state:{...s.state,isAppFactoryOAuth:t,attributionLabel:a},children:this.props.i18n._('Sign up', 'Prompt for signing up', 'Prompt for signing up')})})]})]})]})}),en(this,"renderLoginButtons",e=>{if(this.state.isSsoFlow)return null;let{isAppFactoryOAuth:t,isBeforeHydration:s,location:o,noImmediateRedirect:i,attributionLabel:a,checkExperiment:l}=this.props,c=(0,S.M0)().getItem(r.TB),d=l("mweb_unauth_fb_login_account_recovery_flow").anyEnabled||l("mweb_unauth_remove_fb_autologin_and_manual_login_ucan").anyEnabled||l("mweb_unauth_fb_manual_login_dep_row").anyEnabled,h=(0,W.jsx)(J.Z,{apple:!s&&!!c||t,attributionLabel:a,disableFBSignup:this.handleDisableFBSignup,facebook:!d&&!this.state.shouldHideFBButtonForSignup,google:!0,line:!0,next:er(o),noImmediateRedirect:i,onFacebookTouch:()=>this.handleLoginTouch("Facebook")}),u=(0,W.jsx)(n.xu,{marginBottom:2*!!e,marginTop:2*!e,children:(0,W.jsx)(n.xv,{align:"center",size:"200",weight:"bold",children:this.props.i18n._('OR', 'Separator for email login button and social login button', 'Separator for email login button and social login button')})});return e?(0,W.jsxs)(n.xu,{children:[u,h]}):(0,W.jsxs)(n.xu,{children:[h,u]})}),en(this,"renderInfoBanner",()=>{let{infoBannerMessage:e}=this.state,{i18n:t}=this.props;return(0,W.jsxs)(n.xu,{alignItems:"center",color:"infoWeak",direction:"row",display:"flex",paddingX:4,paddingY:4,rounding:4,children:[(0,W.jsx)(n.xu,{marginEnd:4,children:(0,W.jsx)(n.JO,{accessibilityLabel:t._('Info icon on the login form info banner', 'mweb.unauth.loginForm.infoBanner.icon', 'Info icon on the login form info banner'),color:"info",icon:"info-circle",size:20})}),(0,W.jsx)(n.xv,{inline:!0,children:e})]})})}componentDidMount(){let{navigate:e,location:t,showToast:s}=this.props;if(t.state&&t.state.shouldShowAccountExistsToast&&(s(({hideToast:e})=>(0,W.jsx)(p.Z,{onHide:e,text:this.props.i18n._('Looks like you already have a Pinterest account. Please log in.', 'Toast showing that a user already has a Pinterest account and can login normally', 'Toast showing that a user already has a Pinterest account and can login normally')})),t.state)){let{shouldShowAccountExistsToast:s,...o}=t.state;e("/login/",{replace:!0,state:o})}(0,T.mB)(t.search).message===f.R&&s(({hideToast:e})=>(0,W.jsx)(p.Z,{duration:f.Jl,onHide:e,text:(0,v.Z)(this.props.i18n,t)}));let o=()=>{(0,E.rY)(e=>this.setState({recaptchaV3Token:e}),()=>{},E.xW)};if(o(),setInterval(o,E.yc),t.state&&t.state.keychainiOSAutologinError){let e=t.state.keychainiOSAutologinError,s=e.code,o=s===w.hU?{emailValidationError:e.message}:{passwordValidationError:e.message};this.setState({apiErrorCode:s,hasKeychainErrorShown:!1,...o})}t.state?.userInfo?.email&&this.checkIfUserIsSso({hasInitialEmail:!0})}static getDerivedStateFromProps(e,t){let{isAuthenticated:s,isLimitedLoginUser:o,location:i,loggedOutUserInfo:a,viewingUser:n,navigate:r}=e;return(0,T.mB)(i.search).show_qr_app_error?(r("/login/",{replace:!0}),{showQRAppErrorBanner:!0}):i.state&&i.state.userInfo?{email:i.state.userInfo.email}:s||!a||t.optOutFromPersonalizedForm?o&&n&&!t.optOutFromPersonalizedForm?{email:n.email}:null:{email:a.email}}render(){let{isLimitedLoginUser:e,location:t,loggedOutUserInfo:s,isAppFactoryOAuth:i,viewingUser:a,showPLPBanner:r,plpBannerPin:l,i18n:c,showKeychainError:u,attributionLabel:g,checkExperiment:m,emailLoginOnlyForRecoverAccount:p,onForgetPasswordForFacebookRecover:_,lookedupEmail:b,isLoadingFpSdks:f}=this.props,v=t.state&&t.state.shouldShowLoginBelow||!1,{apiErrorCode:x,email:y,emailValidationError:P,passwordValidationError:k,isLoading:E,isSsoFlow:A,isValid:S,optOutFromPersonalizedForm:C,password:j,shouldShowSignUpButton:z,hasKeychainErrorShown:L,showLoginRateLimitedModal:B,showLoginAssistanceGoogleModal:I,showInfoBanner:O,infoBannerMessage:R,showQRAppErrorBanner:M}=this.state,Z=e?a:s;t.state&&t.state.userInfo&&(Z=t.state.userInfo);let V=m("mweb_unauth_fb_login_account_recovery_flow").anyEnabled||m("mweb_unauth_remove_fb_autologin_and_manual_login_ucan").anyEnabled||m("mweb_unauth_fb_manual_login_dep_row").anyEnabled,H=x>0&&x===w.nf,U=(0,W.jsxs)(o.Fragment,{children:[(0,W.jsxs)(n.xu,{"data-test-id":"duplo-login-form",marginBottom:6,marginEnd:"auto",marginStart:"auto",marginTop:3,maxWidth:400,children:[!v&&!p&&this.renderLoginButtons(v),(0,W.jsx)(q,{email:y||(b??""),emailLoginOnlyForRecoverAccount:p??!1,emailValidationError:P,handleChangeEmail:this.handleChangeEmail,handleChangePassword:this.handleChangePassword,handlePasswordReset:this.handlePasswordReset,isSIWAError:H,isSsoFlow:A,isValid:S,onForgetPasswordForFacebookRecover:_,onLoginClick:this.onLoginClick,onSignUpClick:this.onSignUpClick,onSubmit:this.handleLogin,password:j,passwordValidationError:k,shouldShowSignUpButton:z,validateEmailOnBlur:this.validateEmailOnBlur,validatePasswordOnBlur:this.validatePasswordOnBlur}),v&&!p&&this.renderLoginButtons(v)]}),!p&&(0,W.jsxs)(n.xu,{alignItems:"center",direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginTop:2,children:[(0,W.jsxs)(n.kC,{alignItems:"stretch",justifyContent:"center",children:[(0,W.jsx)(n.xu,{"data-test-id":"signup-link",marginEnd:1,children:(0,W.jsx)(n.xv,{children:c._('No Account?', 'Prompt for signing up', 'Prompt for signing up')})}),(0,W.jsx)(n.xv,{color:"default",weight:"bold",children:(0,W.jsx)(ee,{href:"/signup/step1/",onClick:this.handleNoAccountClick,state:{email:y,isAppFactoryOAuth:i,next:(0,T.mB)(t.search).next,attributionLabel:g},children:c._('Sign up', 'Prompt for signing up', 'Prompt for signing up')})})]}),!i&&(0,W.jsx)(ei.Z,{})]})]});return u?(0,W.jsxs)(o.Fragment,{children:[(0,W.jsxs)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(230, 0, 35, 0.08)",transition:"transform 400ms ease-in-out",transform:L?"translateY(-120%)":"translateY(0%)"}},display:"flex",height:52,justifyContent:"center",children:[(0,W.jsx)(n.qb,{accessibilityLabel:c._('Workflow status problem accessibility label', 'mweb.unauth.keychain_autologin.login_page.error_message.icon', 'Accessibility label for error message icon'),type:"problem"}),(0,W.jsx)(n.xu,{marginStart:2,children:(0,W.jsx)(n.xv,{color:"default",children:c._('Oops! We couldn\'t log you in', 'mweb.unauth.keychain_autologin.login_page.error_message', 'Error message to let user know there was an issue logging them in')})})]}),(0,W.jsxs)(n.xu,{paddingX:4*!!r,children:[Z&&!C?this.renderPersonalizedLogin(Z):U,E&&(0,W.jsx)(F.Z,{})]})]}):(0,W.jsxs)(o.Fragment,{children:[B&&(0,W.jsx)(X.Z,{onDismiss:()=>this.setState({showLoginRateLimitedModal:!1})}),I&&(0,W.jsx)(K,{onDismiss:()=>this.setState({showLoginAssistanceGoogleModal:!1})}),this.state.shouldHideFBButtonForSignup&&(0,W.jsx)(h.Z,{}),!p&&V&&(0,W.jsx)(d.Z,{}),M&&(0,W.jsx)($.default,{}),O&&R&&this.renderInfoBanner(),r&&l&&!this.state.shouldHideFBButtonForSignup&&(0,W.jsx)(ea.Z,{pin:l}),(0,W.jsxs)(n.xu,{paddingX:4*!!r,children:[Z&&!C?this.renderPersonalizedLogin(Z):U,(E||f)&&(0,W.jsx)(F.Z,{})]})]})}}function ec(e){let t=(0,_.ZP)(),s=(0,a.s0)(),n=(0,a.TH)(),r=(0,i.I0)(),c=(0,et.f)(),{showToast:d}=(0,z.dI)(),{isAuthenticated:h,loggedOutUserInfo:u}=(0,i.v9)(e=>e.session),m=(0,es.LO)(),p=(0,l.Z)(),b=(0,B.Z)(),{trackConversionUpsell:f}=(0,j.Z)(),v=(0,A.B)(),{authenticateWithSso:w,verifySsoUser:x}=(0,P.ZP)(),{checkExperiment:y}=(0,k.r)(),E=(0,o.useRef)(performance.now()),S=(0,o.useRef)({sardineSessionKey:null,arkoseSessionToken:null,arkoseEnforcement:null,submitTriggeredTime:null,experimentGroup:"control"}),[C,T]=(0,o.useState)(!0);return(0,L.Z)(()=>{S.current=(0,g.y)(y),(0,g.D)({component:14212,fingerprintData:S,startTimeMs:E.current,logContextEvent:p,onFinished:()=>{T(!1)}})}),(0,W.jsx)(el,{...e,attributionLabel:n.state?.attributionLabel,authenticateWithSso:w,checkExperiment:y,dispatch:r,fingerprintData:S,i18n:t,isAuthenticated:h,isBeforeHydration:b,isLimitedLoginUser:(0,O.xT)(m),isLoadingFpSdks:C,location:n,logContextEvent:p,loggedOutUserInfo:u,login:c,navigate:s,requestContext:v,showToast:d,trackConversionUpsell:f,verifySsoUser:x,viewingUser:m})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/95068-0e853718a3940179.mjs.map