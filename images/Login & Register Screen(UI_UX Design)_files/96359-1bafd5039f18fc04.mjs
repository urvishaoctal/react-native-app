(self.modernJsonp=self.modernJsonp||[]).push([["96359"],{132901:function(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AnimatedVisualSearchButton_pin",selections:[{args:null,kind:"FragmentSpread",name:"useDuploGetStelaUrlWithLargestStelaObject_pin"}],type:"Pin",abstractKey:null};l.hash="5702754b7b1e87a0bb84f43e7472030c";let i=l},385990:function(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupDescriptionMediaAttribution_pin",selections:[{alias:null,args:null,concreteType:"MediaAttribution",kind:"LinkedField",name:"mediaAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"author",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"authorUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ccUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mediaType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"providerName",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};l.hash="91cf1b742f42f2f57e9e89991ad2eebd";let i=l},170687:function(e,n,a){var l;a.r(n),a.d(n,{default:()=>t});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupDescriptionPhotoAttribution_pin",selections:[{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[l={alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"authorUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"authorName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ccUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"providerName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="5dff28be2de95106e382c42d78ad1833";let t=i},989081:function(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupDescriptionTextContent_pin",selections:[{args:null,kind:"FragmentSpread",name:"CollapsibleDescription_pin"}],type:"Pin",abstractKey:null};l.hash="f37e1b73e206db5c55cd60f9da135e1e";let i=l},671743:function(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupDescriptionText_pin",selections:[{args:null,kind:"FragmentSpread",name:"CloseupDescriptionTextContent_pin"}],type:"Pin",abstractKey:null};l.hash="b4f48330d3cfef3a6198d0d824c5d6d5";let i=l},495512:function(e,n,a){var l,i,t;a.r(n),a.d(n,{default:()=>o});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupDescription_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[l={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"datePublished",storageKey:null}],storageKey:null}],storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},l,{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MediaAttribution",kind:"LinkedField",name:"mediaAttribution",plural:!1,selections:t,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinAdditionalNote",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoNoindexReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unauthOnPageDescription",storageKey:null},{alias:null,args:null,concreteType:"PinTranslations",kind:"LinkedField",name:"translations",plural:!1,selections:[i],storageKey:null},{args:null,kind:"FragmentSpread",name:"CloseupDescriptionPhotoAttribution_pin"},{args:null,kind:"FragmentSpread",name:"CloseupDescriptionMediaAttribution_pin"},{args:null,kind:"FragmentSpread",name:"CloseupDescriptionText_pin"}],type:"Pin",abstractKey:null};r.hash="df15ff9cbce793b72031772ef3c7cc27";let o=r},572912:function(e,n,a){var l;a.r(n),a.d(n,{default:()=>t});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupDetailsBasicsLayout_pin",selections:[{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"templateType",storageKey:null},{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:l=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"TextBlock",abstractKey:null},{kind:"InlineFragment",selections:l,type:"HeadingBlock",abstractKey:null},{kind:"InlineFragment",selections:l,type:"ParagraphBlock",abstractKey:null},{kind:"InlineFragment",selections:l,type:"LinkBlock",abstractKey:null},{kind:"InlineFragment",selections:l,type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:l,type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"heading",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="66ce59eb9fa2a37bf75972a3f30769af";let t=i},159358:function(e,n,a){var l;a.r(n),a.d(n,{default:()=>t});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupDetailsSourceUser_pin",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:l=[{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:l,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:l,storageKey:null}],type:"Pin",abstractKey:null};i.hash="3208f75a293572ec8af155f2a06cd2ef";let t=i},950037:function(e,n,a){var l,i,t,r,o,s,d,u;a.r(n),a.d(n,{default:()=>p});let c=(i=[l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],o={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"inStock",storageKey:null},{argumentDefinitions:[{kind:"RootArgument",name:"isAuth"},{kind:"RootArgument",name:"isDesktop"},{defaultValue:null,kind:"LocalArgument",name:"isUnauth"}],kind:"Fragment",metadata:null,name:"CloseupDetails_pin",selections:[{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasAffiliateProducts",storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"categoryType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:i,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:r=[t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:r,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"affiliateLink",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[o,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null},{alias:null,args:null,concreteType:"AggregatedDidItData",kind:"LinkedField",name:"didItData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imagesCount",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shipsToUserCountry",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[o,{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[s,d,{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null},u],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},{alias:null,args:null,concreteType:"ServingsSummary",kind:"LinkedField",name:"servingsSummary",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:i,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[o,{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[u,s,d],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupUnifiedAttribution",plural:!1,selections:i,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{args:null,kind:"FragmentSpread",name:"OfficialUserAttribution_pin"},{args:null,kind:"FragmentSpread",name:"VaseFullBleedModal_pin"},{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"ProductDescriptionDropdown_pin"}]},{args:null,kind:"FragmentSpread",name:"DuploShoppingModule_pin"},{args:null,kind:"FragmentSpread",name:"ShoppingModule_pin"},{args:null,kind:"FragmentSpread",name:"SavedInfo_pin"},{args:[{kind:"Variable",name:"shouldShowSeoDrawerOption",variableName:"isUnauth"}],kind:"FragmentSpread",name:"SeeMoreButton_pin"},{args:null,kind:"FragmentSpread",name:"useIsGroupBoard_pin"},{condition:"isDesktop",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"CommentThreadContainer_pin"}]},{condition:"isDesktop",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"PinFeedbackButton_pin"},{args:null,kind:"FragmentSpread",name:"UnifiedCommentModule_pin"}]},{args:null,kind:"FragmentSpread",name:"CloseupDescription_pin"},{args:null,kind:"FragmentSpread",name:"CloseupTitle_pin"},{args:null,kind:"FragmentSpread",name:"CloseupDetailsBasicsLayout_pin"},{args:null,kind:"FragmentSpread",name:"PinRecipeRating_pin"},{args:null,kind:"FragmentSpread",name:"PinRecipe_pin"},{condition:"isAuth",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"ProductDetails_pin"}]},{args:null,kind:"FragmentSpread",name:"PinActionBarVisitButton_pin"},{args:null,kind:"FragmentSpread",name:"UserRep_pin"},{args:null,kind:"FragmentSpread",name:"useReactionCountsFragment_pin"},{args:null,kind:"FragmentSpread",name:"CloseupDetailsSourceUser_pin"}],type:"Pin",abstractKey:null});c.hash="909121bc16a2dc50fe7e3276964cd27b";let p=c},212078:function(e,n,a){var l;a.r(n),a.d(n,{default:()=>t});let i={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isUnauth"}],kind:"Fragment",metadata:null,name:"CloseupFullDetail_pin",selections:[{args:null,kind:"FragmentSpread",name:"ImageViewer_pin"},{args:l=[{kind:"Variable",name:"isUnauth",variableName:"isUnauth"}],kind:"FragmentSpread",name:"PinActionBar_pin"},{args:[{kind:"Variable",name:"shouldShowSeoDrawerOption",variableName:"isUnauth"}],kind:"FragmentSpread",name:"PinContextMenuButton_pin"},{args:null,kind:"FragmentSpread",name:"CloseupModals_pin"},{args:l,kind:"FragmentSpread",name:"CloseupPinActionBar_pin"},{args:l,kind:"FragmentSpread",name:"UnauthCloseupRelatedPinsFeed_main_pin"}],type:"Pin",abstractKey:null};i.hash="830a363799e826550c7f1a06d1f2820d";let t=i},921115:function(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupInner_pin",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useCommerceData_pin"},{args:null,kind:"FragmentSpread",name:"CloseupPageViewAndTimeSpent_pin"},{args:null,kind:"FragmentSpread",name:"CloseupPageContainer_pin"},{args:null,kind:"FragmentSpread",name:"useClientTrackingParams_pin"}],type:"Pin",abstractKey:null};l.hash="76b302756e7c8285a4bdae0638448242";let i=l},565982:function(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupMainIframe_pin",selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null}],storageKey:null},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"736x")'}],type:"Pin",abstractKey:null};l.hash="040479189b5808c581351271292cad96";let i=l},684658:function(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[{kind:"RootArgument",name:"isAuth"},{defaultValue:null,kind:"LocalArgument",name:"isUnauth"}],kind:"Fragment",metadata:null,name:"CloseupMainPinDetail_pin",selections:[{args:null,kind:"FragmentSpread",name:"ProductCarousel_pin"},{args:null,kind:"FragmentSpread",name:"CloseupMainIframe_pin"},{args:[{kind:"Variable",name:"isUnauth",variableName:"isUnauth"}],kind:"FragmentSpread",name:"CloseupDetails_pin"},{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"LeafSnippet_pin"}]}],type:"Pin",abstractKey:null};l.hash="6eb3aa6fbf1cc1f0828a3a00fad8d439";let i=l},269307:function(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupMainPinImageInner_pin",selections:[{args:null,kind:"FragmentSpread",name:"MobileStickyFooter_pin"},{args:null,kind:"FragmentSpread",name:"UnauthPinRightClickMenu_pin"}],type:"Pin",abstractKey:null};l.hash="939dcf1664a036231c7a49c8afc0fac7";let i=l},584112:function(e,n,a){var l,i;a.r(n),a.d(n,{default:()=>r});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupMainPinImage_pin",selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoAltText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isHidden",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"connectionType",storageKey:null}],storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"136x136")'},{alias:null,args:null,concreteType:"Shuffle",kind:"LinkedField",name:"shuffle",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},l],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImageUrls_pin"},{args:null,kind:"FragmentSpread",name:"CloseupMainPinImageInner_pin"}],type:"Pin",abstractKey:null};t.hash="5d289d696a404b0d3af790f1ce18431f";let r=t},152716:function(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isDesktop"}],kind:"Fragment",metadata:null,name:"CloseupMainPinStoryPin_pin",selections:[{args:null,kind:"FragmentSpread",name:"CloseupStoryPinBlock_pin"},{args:null,kind:"FragmentSpread",name:"StoryPinCloseup_pin"},{condition:"isDesktop",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"StoryPinCloseupBodyOnMobile_pin"}]},{condition:"isDesktop",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"StoryPinCloseupBodyOnDesktop_pin"},{args:null,kind:"FragmentSpread",name:"StoryPinCloseupDetailsOnDesktop_pin"}]}],type:"Pin",abstractKey:null};l.hash="33567d57b67b5a49be2253f636baf23e";let i=l},259707:function(e,n,a){var l,i;a.r(n),a.d(n,{default:()=>r});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupMainPin_pin",selections:[{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i=[l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"utmLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"ad",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[l,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:"additionalImageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:i,storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:"additionalImageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:i,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"additionalImageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:i,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"additionalImageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:i,storageKey:'additionalImagesPerSpec(spec:"736x")'}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CloseupMainPinImage_pin"},{args:null,kind:"FragmentSpread",name:"CloseupVideo_pin"},{args:null,kind:"FragmentSpread",name:"useClickthrough_pin"}],type:"Pin",abstractKey:null};t.hash="293e350185d535dbeb8cb49a30d4f12e";let r=t},464778:function(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupPageContainer_pin",selections:[{args:null,kind:"FragmentSpread",name:"UnauthContextMenuController_pin"}],type:"Pin",abstractKey:null};l.hash="fe3ae48c7e040b2bea5919c1aeefabdf";let i=l},113037:function(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupPageViewAndTimeSpent_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null}],type:"Pin",abstractKey:null};l.hash="5b01543e9ace6cf2b437348f6b1a3a64";let i=l},397756:function(e,n,a){var l,i;a.r(n),a.d(n,{default:()=>r});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupPage_pin",selections:[{alias:null,args:null,concreteType:"AdData",kind:"LinkedField",name:"adData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"excludeFromGridRepTests",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoTitle",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"videoUrls",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"Closeup_pin"}],type:"Pin",abstractKey:null};t.hash="a3495f8715155a7c21d5d58fd44767f8";let r=t},759951:function(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isUnauth"}],kind:"Fragment",metadata:null,name:"CloseupPinActionBar_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null},{alias:null,args:null,concreteType:"AggregatedDidItData",kind:"LinkedField",name:"didItData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imagesCount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"SaveButtonContainer_pin"},{args:[{kind:"Variable",name:"shouldShowSeoDrawerOption",variableName:"isUnauth"}],kind:"FragmentSpread",name:"PinContextMenuButton_pin"},{args:null,kind:"FragmentSpread",name:"AnimatedSendButton_pin"}],type:"Pin",abstractKey:null};l.hash="e8f40258af46d83cd4ddd5e356f0c86a";let i=l},372508:function(e,n,a){a.r(n),a.d(n,{default:()=>i});let l=(t={defaultValue:null,kind:"LocalArgument",name:"isDesktop"},r={defaultValue:null,kind:"LocalArgument",name:"pinId"},o=[{kind:"Variable",name:"pin",variableName:"pinId"}],s={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},f=[d={alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},m={alias:null,args:null,concreteType:"BlockStyle",kind:"LinkedField",name:"blockStyle",plural:!1,selections:[u={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"xCoord",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"yCoord",storageKey:null}],storageKey:null},_,{alias:null,args:null,concreteType:"TextStyle",kind:"LinkedField",name:"style",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"alignment",storageKey:null},{alias:null,args:null,concreteType:"Font",kind:"LinkedField",name:"font",plural:!1,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"defaultSize",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"letterSpacing",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lineHeight",storageKey:null},y],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fontSize",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hexColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"highlightColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verticalAlignment",storageKey:null}],storageKey:null}],S={alias:"imageSpec_750x",args:k=[{kind:"Literal",name:"spec",value:"750x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:x=[u,y,c],storageKey:'images(spec:"750x")'},P={alias:"imageSpec_orig",args:b=[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:x,storageKey:'images(spec:"orig")'},v=[{kind:"Literal",name:"version",value:"V_HLSV3_MOBILE"}],C=[T={alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},y,c,u,w={alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"captionsUrls",storageKey:null}],E={alias:null,args:null,concreteType:"BlockStyle",kind:"LinkedField",name:"blockStyle",plural:!1,selections:[u,c,p,g,{alias:null,args:null,kind:"ScalarField",name:"rotation",storageKey:null}],storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"endTime",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"isRemoved",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"startTime",storageKey:null},L={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},B={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},O={alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},Z={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},N={alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},M={alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null},V={alias:"imageSpec_236x",args:U=[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:z=[y],storageKey:'images(spec:"236x")'},G={alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null},H=[s,K],Y={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},q=[{kind:"Literal",name:"spec",value:"1200x"}],$={alias:null,args:null,kind:"ScalarField",name:"shouldMute",storageKey:null},X={alias:null,args:null,concreteType:"MusicAttribute",kind:"LinkedField",name:"musicAttributions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"artist",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isrc",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailImageUrl",storageKey:null},W={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},Q={alias:null,args:null,kind:"ScalarField",name:"heading",storageKey:null},ee={kind:"InlineFragment",selections:J=[_],type:"TextBlock",abstractKey:null},en={kind:"InlineFragment",selections:J,type:"ParagraphBlock",abstractKey:null},ea={kind:"InlineFragment",selections:J,type:"HeadingBlock",abstractKey:null},el={kind:"InlineFragment",selections:J,type:"LinkBlock",abstractKey:null},ei={kind:"InlineFragment",selections:J,type:"StoryPinImageBlock",abstractKey:null},et={kind:"InlineFragment",selections:J,type:"StoryPinVideoBlock",abstractKey:null},er={alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null},eo={alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},es={alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},ed={alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},eu={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},ec={alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},ep={alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},eg=[B,K],em={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},e_={alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},eh={alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},ey={alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},ef={alias:null,args:null,kind:"ScalarField",name:"objectId",storageKey:null},ek={alias:null,args:null,kind:"ScalarField",name:"tagType",storageKey:null},eS=[B,eu,{alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},R,ec,er,K,ex={alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},L,ep],eb=[s],{fragment:{argumentDefinitions:[t,r],kind:"Fragment",metadata:null,name:"CloseupStoryPinQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[s,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[s,{args:[{kind:"Variable",name:"isDesktop",variableName:"isDesktop"}],kind:"FragmentSpread",name:"CloseupStoryPin_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[r,t],kind:"Operation",name:"CloseupStoryPinQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[s,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[s,{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:"pageId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"storyPageId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[s,{kind:"InlineFragment",selections:f,type:"ParagraphBlock",abstractKey:null},{kind:"InlineFragment",selections:f,type:"HeadingBlock",abstractKey:null},{kind:"InlineFragment",selections:[d,m,S,_,P],type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:[d,m,{alias:null,args:null,concreteType:"StoryPinVideoMetadataFormattedV2",kind:"LinkedField",name:"videoDataV2",plural:!1,selections:[{alias:null,args:v,concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:[w,u,T,y,c,I],storageKey:null}],storageKey:'videoList(version:"V_HLSV3_MOBILE")'},{alias:null,args:null,kind:"ScalarField",name:"seoViewCount",storageKey:null},{alias:"videoListMobile",args:v,concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:C,storageKey:null}],storageKey:'videoList(version:"V_HLSV3_MOBILE")'},{alias:"videoListEXP3",args:[{kind:"Literal",name:"version",value:"V_EXP3"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP3",plural:!1,selections:C,storageKey:null}],storageKey:'videoList(version:"V_EXP3")'},{alias:"videoListEXP4",args:[{kind:"Literal",name:"version",value:"V_EXP4"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP4",plural:!1,selections:C,storageKey:null}],storageKey:'videoList(version:"V_EXP4")'},{alias:"videoListEXP5",args:[{kind:"Literal",name:"version",value:"V_EXP5"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP5",plural:!1,selections:C,storageKey:null}],storageKey:'videoList(version:"V_EXP5")'},{alias:"videoListEXP6",args:[{kind:"Literal",name:"version",value:"V_EXP6"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP6",plural:!1,selections:C,storageKey:null}],storageKey:'videoList(version:"V_EXP6")'},{alias:"videoListEXP7",args:[{kind:"Literal",name:"version",value:"V_EXP7"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP7",plural:!1,selections:C,storageKey:null}],storageKey:'videoList(version:"V_EXP7")'},{alias:"videoList720P",args:[{kind:"Literal",name:"version",value:"V_720P"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:C,storageKey:null}],storageKey:'videoList(version:"V_720P")'}],storageKey:null},_],type:"StoryPinVideoBlock",abstractKey:null},{kind:"InlineFragment",selections:[d,E,F,j,A,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[L,R,D,K],storageKey:null}],type:"StoryPinMentionStickerBlock",abstractKey:null},{kind:"InlineFragment",selections:[d,{alias:null,args:null,kind:"ScalarField",name:"interactiveStickerType",storageKey:null},E,F,{alias:null,args:null,kind:"ScalarField",name:"errorMessage",storageKey:null},j,{alias:null,args:null,kind:"ScalarField",name:"isValid",storageKey:null},A,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"stickerData",plural:!1,selections:[s,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"boardId",storageKey:null}],type:"GenericInteractiveStickerStoryBoardData",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"questionCommentId",storageKey:null}],type:"GenericInteractiveStickerStoryQuestionData",abstractKey:null}],storageKey:null}],type:"StoryPinGenericInteractiveStickerBlock",abstractKey:null},{kind:"InlineFragment",selections:[d,E,F,j,A,{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"pin",plural:!1,selections:[B,O,Z,N,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[M,L,R,K],storageKey:null},V,K],storageKey:null}],type:"StoryPinVirtualTryOnMakeupStickerBlock",abstractKey:null},{kind:"InlineFragment",selections:[_,d],type:"TextBlock",abstractKey:null},{kind:"InlineFragment",selections:[_,d,{alias:null,args:null,kind:"ScalarField",name:"srcUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"canonicalUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"normalizedUrl",storageKey:null}],type:"LinkBlock",abstractKey:null},{kind:"InlineFragment",selections:[d,h,G,{alias:null,args:null,kind:"ScalarField",name:"unit",storageKey:null}],type:"IngredientBlock",abstractKey:null},{kind:"InlineFragment",selections:[d,h,G],type:"SupplyBlock",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"ad",plural:!1,selections:H,storageKey:null},{alias:"musicBlocks",args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[s,{kind:"InlineFragment",selections:[d,{alias:null,args:null,concreteType:"Audio",kind:"LinkedField",name:"audio",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"artistName",storageKey:null},W,K],storageKey:null}],type:"StoryPinMusicBlock",abstractKey:null}],storageKey:null},{alias:"videoBlocks",args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[s,{kind:"InlineFragment",selections:[d,{alias:null,args:null,concreteType:"StoryPinVideoMetadataFormattedV2",kind:"LinkedField",name:"videoDataV2",plural:!1,selections:[{alias:null,args:v,concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:[w,I],storageKey:null}],storageKey:'videoList(version:"V_HLSV3_MOBILE")'}],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null},Y,{alias:null,args:null,kind:"ScalarField",name:"dominantColorAdjusted",storageKey:null},S,{alias:"imageSpec_236x",args:U,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:x,storageKey:'images(spec:"236x")'},{alias:"imageSpec_1200x",args:q,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:x,storageKey:'images(spec:"1200x")'},P,{alias:"imageAdjustedSpec_750x",args:k,concreteType:"Thumbnails",kind:"LinkedField",name:"imagesAdjusted",plural:!1,selections:x,storageKey:'imagesAdjusted(spec:"750x")'},{alias:"imageAdjustedSpec_236x",args:U,concreteType:"Thumbnails",kind:"LinkedField",name:"imagesAdjusted",plural:!1,selections:x,storageKey:'imagesAdjusted(spec:"236x")'},{alias:"imageAdjustedSpec_1200x",args:q,concreteType:"Thumbnails",kind:"LinkedField",name:"imagesAdjusted",plural:!1,selections:x,storageKey:'imagesAdjusted(spec:"1200x")'},{alias:"imageAdjustedSpec_orig",args:b,concreteType:"Thumbnails",kind:"LinkedField",name:"imagesAdjusted",plural:!1,selections:x,storageKey:'imagesAdjusted(spec:"orig")'},$,{alias:null,args:null,kind:"ScalarField",name:"imageSignatureAdjusted",storageKey:null},{alias:null,args:null,concreteType:"PageStyle",kind:"LinkedField",name:"style",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinVideoMetadata",kind:"LinkedField",name:"video",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:[c,u,T,y],storageKey:null}],storageKey:null}],storageKey:null},X],storageKey:null},K,{alias:null,args:null,kind:"ScalarField",name:"hasProductPins",storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"canvasAspectRatio",storageKey:null},{alias:null,args:null,concreteType:"StoryPinRecipeMetadataField",kind:"LinkedField",name:"recipeData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"cookingTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"prepTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"servingSize",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templateType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"version",storageKey:null},{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[s,{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"categoryType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:[Q,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[s,{kind:"InlineFragment",selections:[Q,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[s,ee,en,ea,el,ei,et],storageKey:null}],type:"StoryPinListBlock",abstractKey:null},ee,ea,en,el,ei,et],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoAltText",storageKey:null},B,{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:z,storageKey:'images(spec:"736x")'},O,Z,N,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[M,L,R,K,er,eo,B,es,ed,eu,D,ec,ep],storageKey:null},V,{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:eg,storageKey:null},Y,{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[er,eo,B,es,L,ed,eu,D,ec,R,ep,K],storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:eg,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:[B,L,R,K],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},W,{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},em,{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"utmLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"linkUtmApplicableAndReplaced",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},e_,{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[eu,K,R],storageKey:null},K],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:H,storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:z,storageKey:'images(spec:"60x60")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:z,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:z,storageKey:'images(spec:"170x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:z,storageKey:'images(spec:"474x")'},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:z,storageKey:'images(spec:"564x")'},{alias:"imageSpec_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:z,storageKey:'images(spec:"600x315")'},{alias:"imageSpec_orig",args:b,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:z,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"descriptionLinks",plural:!0,selections:[eh,ey,em,ef,ek],storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"userMentionTags",plural:!0,selections:[eh,ey,ef,ek],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:eS,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupUnifiedAttribution",plural:!1,selections:eS,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:[R,eu,K],storageKey:null},X,$,K,{condition:"isDesktop",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:eb,storageKey:null},{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:eb,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:"imageSpec_750x",args:k,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:eb,storageKey:'images(spec:"750x")'},{alias:"imageSpec_236x",args:U,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:eb,storageKey:'images(spec:"236x")'},{alias:"imageSpec_1200x",args:q,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:eb,storageKey:'images(spec:"1200x")'},{alias:"imageSpec_orig",args:b,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:eb,storageKey:'images(spec:"orig")'}],type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"StoryPinVideoMetadataFormattedV2",kind:"LinkedField",name:"videoDataV2",plural:!1,selections:eb,storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasAffiliateProducts",storageKey:null},B],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[ex],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[s,h],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:eb,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"diets",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},{alias:null,args:null,concreteType:"ServingsSummary",kind:"LinkedField",name:"servingsSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"serves",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"summary",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null},h,{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[e_,{alias:null,args:null,concreteType:"ParsedIngredientMetadata",kind:"LinkedField",name:"ingredients",plural:!0,selections:[G,h],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null},{alias:null,args:null,concreteType:"AggregatedDidItData",kind:"LinkedField",name:"didItData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imagesCount",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:eb,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUserNote",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[B],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"method",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"affiliateLink",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:eb,storageKey:null},K],storageKey:null}]}],storageKey:null}],type:"V3GetPin",abstractKey:null},{kind:"TypeDiscriminator",abstractKey:"__isError"}],storageKey:null}]},params:{id:"c4a5075fb6b4a35bda9174e70aef6f73f01e0a14d11aa2f65690170b3a48f3d6",metadata:{},name:"CloseupStoryPinQuery",operationKind:"query",text:null}});l.hash="68777640da3d0c6def3ca77e2beb658c";let i=l;var t,r,o,s,d,u,c,p,g,m,_,h,y,f,k,x,S,b,P,v,w,T,I,C,E,F,j,A,L,R,D,K,B,O,Z,N,M,U,z,V,G,H,W,Y,q,$,X,Q,J,ee,en,ea,el,ei,et,er,eo,es,ed,eu,ec,ep,eg,em,e_,eh,ey,ef,ek,ex,eS,eb,eP=l.default||l;if("query"===eP.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(eP);else{let e=[eP.params.name,eP.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[e]=eP}},524828:function(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isDesktop"}],kind:"Fragment",metadata:null,name:"CloseupStoryPin_pin",selections:[{args:[{kind:"Variable",name:"isDesktop",variableName:"isDesktop"}],kind:"FragmentSpread",name:"CloseupMainPinStoryPin_pin"},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"Pin",abstractKey:null};l.hash="9e1a4f46d2a4802c801e9d0efc36a264";let i=l},47928:function(e,n,a){var l;a.r(n),a.d(n,{default:()=>t});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupTitle_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[l],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoNoindexReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unauthOnPageTitle",storageKey:null},{alias:null,args:null,concreteType:"PinTranslations",kind:"LinkedField",name:"translations",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedTitle",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="f850925693f9b8eb89176d6c10ae58ef";let t=i},768857:function(e,n,a){var l,i,t,r,o,s,d;a.r(n),a.d(n,{default:()=>c});let u=(i=[l={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],{argumentDefinitions:[{kind:"RootArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"Closeup_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"collaboratedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratorPermissions",storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:i,storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[t],storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isInstagramApi",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isV1IdeaPin",storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[r={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},t],storageKey:null}]}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[r,d={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:s=[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"UserWebsite",kind:"LinkedField",name:"linkUserWebsite",plural:!1,selections:[d],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[o,{alias:null,args:null,kind:"ScalarField",name:"websiteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPrimaryWebsiteVerified",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDirectToSiteAllowed",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[l,t],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"domainUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domainVerified",storageKey:null},l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,concreteType:"PinRecommendationReason",kind:"LinkedField",name:"recommendationReason",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reasonId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[o,{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:s,storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:s,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:s,storageKey:null},{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:s,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:i,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"thirdPartyPinOwner",plural:!1,selections:s,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"utmLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:i,storageKey:null},{args:null,kind:"FragmentSpread",name:"CloseupMainPin_pin"},{args:null,kind:"FragmentSpread",name:"usePinImageUrls_pin"},{args:null,kind:"FragmentSpread",name:"CloseupInner_pin"},{args:null,kind:"FragmentSpread",name:"useGetFeedbackType_pin"},{args:null,kind:"FragmentSpread",name:"ImageViewer_pin"},{kind:"ClientExtension",selections:[{alias:"nodeId",args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"Pin",abstractKey:null});u.hash="0ab8c40d2ec11c70904f89cd84ece93f";let c=u},220081:function(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CollapsibleDescription_pin",selections:[{args:null,kind:"FragmentSpread",name:"DescriptionBrokenByLineBreaks_pin"}],type:"Pin",abstractKey:null};l.hash="f4db80aa25522dc31fd92c6888dee781";let i=l},65965:function(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MobileStickyFooter_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"digitalMediaSourceType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isViewedByOwnerOrEmployeeOrPartnerOfBusiness",storageKey:null},{args:null,kind:"FragmentSpread",name:"AnimatedVisualSearchButton_pin"}],type:"Pin",abstractKey:null};l.hash="36895aea87fde0691d85469ce5884e26";let i=l},808060:function(e,n,a){var l;a.r(n),a.d(n,{default:()=>t});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"OfficialUserAttributionText_pin",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:l=[{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupUnifiedAttribution",plural:!1,selections:l,storageKey:null}],type:"Pin",abstractKey:null};i.hash="69e36f7a234f12a1123e838fc44343f7";let t=i},898418:function(e,n,a){var l,i;a.r(n),a.d(n,{default:()=>r});let t=(i=[l={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"OfficialUserAttribution_pin",selections:[l,{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupUnifiedAttribution",plural:!1,selections:i,storageKey:null},{args:null,kind:"FragmentSpread",name:"FollowButton_pin"},{args:null,kind:"FragmentSpread",name:"OfficialUserAttributionText_pin"}],type:"Pin",abstractKey:null});t.hash="a988d3633b518b52f6fe0932d6af2bdc";let r=t},389701:function(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isUnauth"}],kind:"Fragment",metadata:null,name:"PinActionBarInner_pin",selections:[{args:[{kind:"Variable",name:"shouldShowSeoDrawerOption",variableName:"isUnauth"}],kind:"FragmentSpread",name:"PinContextMenuButton_pin"},{args:null,kind:"FragmentSpread",name:"AnimatedSendButton_pin"},{args:null,kind:"FragmentSpread",name:"PinActionBarVisitButton_pin"},{args:null,kind:"FragmentSpread",name:"useDownloadImageUnauth_pin"}],type:"Pin",abstractKey:null};l.hash="445b8da18de0c5107af5d6b113ec0f45";let i=l},744910:function(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinActionBarVisitButton_pin",selections:[{args:null,kind:"FragmentSpread",name:"useClickthrough_pin"}],type:"Pin",abstractKey:null};l.hash="2ed8f79733cbeedba9e8a7ed03435228";let i=l},763551:function(e,n,a){var l;a.r(n),a.d(n,{default:()=>t});let i={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isUnauth"}],kind:"Fragment",metadata:null,name:"PinActionBar_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:l=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:l,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalReactionCount",storageKey:null},{args:[{kind:"Variable",name:"shouldShowSeoDrawerOption",variableName:"isUnauth"}],kind:"FragmentSpread",name:"PinContextMenuButton_pin"},{args:null,kind:"FragmentSpread",name:"SaveButtonContainer_pin"},{args:[{kind:"Variable",name:"isUnauth",variableName:"isUnauth"}],kind:"FragmentSpread",name:"PinActionBarInner_pin"}],type:"Pin",abstractKey:null};i.hash="0fdfa9dec88741f6a0d305339b3fd44b";let t=i},235237:function(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductCarousel_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isHidden",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinCarouselData_pin"},{args:null,kind:"FragmentSpread",name:"MobileStickyFooter_pin"}],type:"Pin",abstractKey:null};l.hash="c680e00cd7b9416b1b23b78e3d6e22db";let i=l},259818:function(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDescriptionDropdown_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null}],type:"Pin",abstractKey:null};l.hash="e4ec29e546b4d84af24bae98169500db";let i=l},226870:function(e,n,a){var l,i,t,r,o;a.r(n),a.d(n,{default:()=>d});let s=(i={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},r={alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inStock",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null},o=[l={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDetails_pin",selections:[l,{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingCount",storageKey:null}],storageKey:null},i,{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"userId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isMerchant",storageKey:null}],storageKey:null},t,r,{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[t,r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasAffiliateProducts",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:o,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"affiliateLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:o,storageKey:null},{args:null,kind:"FragmentSpread",name:"useStructuredDescription_pin"},{args:null,kind:"FragmentSpread",name:"CloseupDescriptionText_pin"},{args:null,kind:"FragmentSpread",name:"CloseupTitle_pin"},{args:null,kind:"FragmentSpread",name:"OfficialUserAttributionText_pin"}],type:"Pin",abstractKey:null});s.hash="eaf72f41199038fe34a2f9a746f65abe";let d=s},525516:function(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SaveButtonContainer_pin",selections:[{args:null,kind:"FragmentSpread",name:"SaveButtonPinCard_pin"}],type:"Pin",abstractKey:null};l.hash="865d58a2663c75bbb617f694de0d85d0";let i=l},194104:function(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SaveButtonPinCard_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null}],type:"Pin",abstractKey:null};l.hash="7f5632f86cee32cde1e56f7cde971e76";let i=l},712553:function(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthContextMenuController_pin",selections:[{args:null,kind:"FragmentSpread",name:"UnauthContextMenu_pin"}],type:"Pin",abstractKey:null};l.hash="dd5623c0c7ff2bcd752285dfed3e4aa7";let i=l},23017:function(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UserRep_pin",selections:[{args:null,kind:"FragmentSpread",name:"FollowButton_pin"}],type:"Pin",abstractKey:null};l.hash="3aa915f8ddd58c7ab54f435ed3309484";let i=l},823028:function(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseFullBleedModal_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};l.hash="2e464db34007ea4c1c0752bf62bbb542";let i=l},978256:function(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useDuploGetStelaUrlWithLargestStelaObject_pin",selections:[{alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};l.hash="0d094b9035d386e39d655dc504f34018";let i=l},850946:function(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useDuploGetStelaUrlWithLargestStelaObject_story",selections:[{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"requestParams",storageKey:null}],storageKey:null}],type:"Story",abstractKey:null};l.hash="f351b4770fdbd86402ef323f959c3227";let i=l},1211:function(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useReactionCountsFragment_pin",selections:[{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};l.hash="11d828252f89045bc37e6aa5eb3fbea6";let i=l},551884:function(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useSeoDrawerExperimentUtil_pin",selections:[{args:null,kind:"FragmentSpread",name:"useGetCredits_pin"}],type:"Pin",abstractKey:null};l.hash="b0c6b5112691f13c9217bf0ac7b77e04";let i=l},853186:function(e,n,a){a.d(n,{Z:()=>i});var l=a(886981);let i=({shuffleId:e,shouldRenderShuffle:n})=>{let{data:a}=(0,l.Z)(e&&n?{name:"ApiResource",options:{url:`/v3/shuffles/${e}/`,data:{fields:["shuffle.{id,items,effect_data}","shuffleitem.{id,shuffle_item_image(),settings,item_type,text,template_config,bitmap_mask,mask,shuffle_asset,images[236x,750x,750x(heic)]}","shuffleasset.{id,cutout_images[originals],source_images[236x]}"]}}}:null);return a}},78730:function(e,n,a){a.d(n,{E:()=>l,N:()=>i});let{Provider:l,get:i}=(0,a(729434).Z)("legacyServerContext")},281260:function(e,n,a){a.d(n,{Z:()=>t,q:()=>i});var l=a(398236);let i=(e=0,n="")=>`@keyframes shopButtonSlideInThenOut {
  0% {
    width: 0px;
  }

  15% {
    width: ${e+l.I}px;
  }

  85% {
    width: ${e+l.I}px;
  }

  100% {
    width: 0px;
  }
}

@keyframes shopButtonSlideOut {
  0% {
    width: ${e+l.I}px;
  }
  100% {
    width: 0px;
  }
}

@keyframes stelaSlideOut {
  0% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}

@keyframes revealShopText {
  from {
    clip-path: inset(0 100% 0 0);
  }
  to {
    clip-path: inset(0 0 0 0);
  }
}

@keyframes stelaSlideInThenOut {
  0% {
    opacity: 0;
  }

  15% {
    opacity: 0;
  }

  25% {
    opacity: 1;
  }

  50% {
    opacity: 1;
  }

  75% {
    opacity: 1;
  }

  85% {
    opacity: 0;
  }

  100% {
    opacity: 0;
  }
}


@keyframes stelaGrowInAndOut {
0% {
  transform: scale(0);
  opacity: 0;
}

10% {
  transform: scale(1);
  opacity: 1;
}

90% {
  transform: scale(1);
  opacity: 1;
}

100% {
  transform: scale(0);
  opacity: 0;
}
}

@keyframes buttonSlideIn${n} {
  0% {
    width: 0px;
  }
  15% {
    width: ${e+l.I}px;
  }
  100% {
    width: ${e+l.I}px;
  }
}

@keyframes stelaSlideIn {
  0% {
    opacity: 0;
  }

  15% {
    opacity: 0;
  }

  25% {
    opacity: 1;
  }
  100% {
    opacity: 1;
  }
}
`,t=(e=0)=>`@keyframes shopButtonSlideInThenOut {
  0% {
    width: 0px;
  }

  15% {
    width: ${e+l.I}px;
  }

  85% {
    width: ${e+l.I}px;
  }

  100% {
    width: 0px;
  }
}

@keyframes revealShopText {
  from {
    clip-path: inset(0 100% 0 0);
  }
  to {
    clip-path: inset(0 0 0 0);
  }
}

@keyframes stelaSlideInThenOut {
  0% {
    opacity: 0;
  }

  15% {
    opacity: 0;
  }

  25% {
    opacity: 1;
  }

  50% {
    opacity: 1;
  }

  75% {
    opacity: 1;
  }

  85% {
    opacity: 0;
  }

  100% {
    opacity: 0;
  }
}


@keyframes stelaGrowInAndOut {
0% {
  transform: scale(0);
  opacity: 0;
}

10% {
  transform: scale(1);
  opacity: 1;
}

90% {
  transform: scale(1);
  opacity: 1;
}

100% {
  transform: scale(0);
  opacity: 0;
}
}

`},398236:function(e,n,a){a.d(n,{I:()=>l,b:()=>i});let l=24,i=36},351222:function(e,n,a){a.d(n,{Pw:()=>l,SB:()=>i,ZP:()=>r,x9:()=>t});let l=80,i=55,t=e=>"phone"===e?i:l;function r(e,n){return n?0:t(e)}},189381:function(e,n,a){a.d(n,{Z:()=>l});let l=e=>Math.floor(new Date(e).getTime()/1e3)},680713:function(e,n,a){a.d(n,{AI:()=>d,Kf:()=>t,N:()=>c,QN:()=>o,hU:()=>s,kb:()=>u,xp:()=>r}),a(281098);var l=a(20256),i=a(635459);let t=new l.H3([i.Z]),r={attributionLabel:"unauth_hybrid_banner",source:"login",container:"bottom.right.upsell.email",reason:"CLICK_LOGIN_OR_SIGNUP"},o=350,s=286,d=5e3,u=new l.Ry(10001),c=320},741272:function(e,n,a){a.d(n,{Z:()=>x});var l=a(667294),i=a(825332),t=a(111330),r=a(121836),o=a(417162),s=a(506662),d=a(527728),u=a(274320),c=a(753143),p=a(238589),g=a(741155),m=a(334536),_=a(378888),h=a(647709),y=a(859685),f=a(501971);let k=new Map([["enabled_3_pages",3],["enabled_4_pages",4],["enabled_4_pages_rollout",4],["enabled_5_pages",5]]);function x({pageUniqueKey:e,containerPage:n}){let a=(0,o.g)(),x=(0,h.HG)(),S=(0,i.TH)(),{checkExperiment:b}=(0,u.r)(),{isPaid:P,isSocial:v,isDirect:w,isSEO:T}=(0,d.Z)(),I=(0,y.cO)(),C=I?.data?.inviter,[E,F]=(0,l.useState)(!1),[j,A]=(0,l.useState)([]),L=(0,p.Nl)(),R=(0,c.M0)(),D=x&&k.get(b("upsell_diversity_navigational_pages").group),K=JSON.parse(L.getItem(r.uL)??"[]"),B=x&&b("dweb_navigational_on_land").anyEnabled,O=x&&"enabled_paid"===b("dweb_navigational_on_land").group,Z=x&&"enabled_social"===b("dweb_navigational_on_land").group,N=x&&"enabled_seo_direct"===b("dweb_navigational_on_land").group,M=x&&(b("migration_upsell_manager_redux").anyEnabled||b("migration_upsell_manager_redux_dweb").anyEnabled),U=(0,g.Z)(),z=x&&a&&!L.getItem(r.J7)&&K.length+1>=0&&!K.includes(e),V=z&&T&&(b("dweb_seo_q2_upper_bound").anyEnabled||b("dweb_q2_mau_push_pc_emergency").anyEnabled||b("dweb_q2_mau_push_pc_emergency_row").anyEnabled),G=z&&w&&(b("dweb_direct_q2_upper_bound").anyEnabled||b("dweb_q2_mau_push_pc").anyEnabled||b("dweb_q2_mau_push_pc_advanced").anyEnabled||b("dweb_q2_mau_push_pc_advanced_row").anyEnabled||b("dweb_q2_mau_push_pc_emergency").anyEnabled||b("dweb_q2_mau_push_pc_emergency_row").anyEnabled),H=z&&P&&(b("dweb_paid_q2_upper_bound").anyEnabled||b("dweb_q2_mau_push_pc").anyEnabled||b("dweb_q2_mau_push_pc_advanced").anyEnabled||b("dweb_q2_mau_push_pc_advanced_row").anyEnabled||b("dweb_q2_mau_push_pc_emergency").anyEnabled||b("dweb_q2_mau_push_pc_emergency_row").anyEnabled),W=z&&v&&(b("dweb_social_q2_upper_bound").anyEnabled||b("dweb_q2_mau_push_pc").anyEnabled||b("dweb_q2_mau_push_pc_advanced").anyEnabled||b("dweb_q2_mau_push_pc_advanced_row").anyEnabled||b("dweb_q2_mau_push_pc_emergency").anyEnabled||b("dweb_q2_mau_push_pc_emergency_row").anyEnabled),Y=z&&v&&(0,s.fY)(S),q=(0,f.iU)().count>1,$=K.length+1>=2,X=K.length+1>=3,Q=z&&w&&!q&&($&&b("dweb_direct_q2_boost_nav_upsell_ftu")?.group.includes("2_page")||X&&b("dweb_direct_q2_boost_nav_upsell_ftu")?.group.includes("3_page")),J=z&&w&&q&&($&&b("dweb_direct_q2_boost_nav_upsell_revisited")?.group.includes("2_page")||X&&b("dweb_direct_q2_boost_nav_upsell_revisited")?.group.includes("3_page")),ee=z&&T&&!q&&($&&b("dweb_seo_q2_boost_nav_upsell_ftu")?.group.includes("2_page")||X&&b("dweb_seo_q2_boost_nav_upsell_ftu")?.group.includes("3_page")),en=z&&T&&q&&($&&b("dweb_seo_q2_boost_nav_upsell_revisited")?.group.includes("2_page")||X&&b("dweb_seo_q2_boost_nav_upsell_revisited")?.group.includes("3_page")),ea=z&&T&&$&&(b("dweb_q2_mau_push_pc").anyEnabled||b("dweb_q2_mau_push_pc_advanced").anyEnabled||b("dweb_q2_mau_push_pc_advanced_row").anyEnabled),el=Q||J||ee||en||ea,ei=x&&a&&(w||P||v)&&b("dweb_q2_mau_push_pc_eu").anyEnabled,et=x&&a&&T&&b("dweb_q2_mau_push_pc_eu").anyEnabled,er=x&&"31"===(0,_.mB)(S?.search).utm_source&&(0,s.am)(S)&&b("dweb_email_referred_board_page_upsell_experiment").anyEnabled;(0,l.useEffect)(()=>{if(M)U((0,m.v2)(e,n));else if((D||B||G||V||H||W||el||er)&&a&&!L.getItem(r.J7)){let l=O&&P||Z&&v||N&&(w||T)||V||G||H||W||er;(D&&K.length+1>=D&&!el||l&&K.length+1>=0||el)&&!K.includes(e)?(a.showDesktopSignupModal({signupFlow:{type:"login"},attributionLabel:`navigation_${n}`,container:n,reason:"UPSELL_LOGIN_OR_SIGNUP",isWashBlocking:!!(G||H||W||V||ea||er)}),L.setItem(r.J7,"true"),L.removeItem(r.uL),R.setItem(t.cu,0)):Y||L.setItem(r.uL,JSON.stringify([...new Set([...K,e])]))}},[e,n,D,a,L,R,U,M,B,w,T,P,v,O,Z,N,H,W,V,G,ea,el,K,er,Y,b]),(0,l.useEffect)(()=>{let l=j;e&&j[j.length-1]!==e&&A(l=j.concat(e)),a&&!E&&(ei||et&&l.length>=2)&&(a?.showDesktopSignupModal({signupFlow:{type:"login"},attributionLabel:`navigation_${n}`,container:n,reason:"UPSELL_LOGIN_OR_SIGNUP",isWashBlocking:!0}),F(!0))},[E,ei,et,n,a,e,j]),(0,l.useEffect)(()=>{if(!Y||!C)return;let e=[],l=setTimeout(()=>{if(b("ce_dweb_unauth_splp_blocking").anyEnabled){let{showDesktopSignupModal:e}=a;e({signupFlow:{type:"signup"},attributionLabel:`delay_${n}`,container:n,reason:"UPSELL_LOGIN_OR_SIGNUP"}),L.setItem(r.J7,"true")}},6e3);e.push(l);let i=setTimeout(()=>{if(b("ce_dweb_unauth_splp_blocking_12s").anyEnabled){let{showDesktopSignupModal:e}=a;e({signupFlow:{type:"signup"},attributionLabel:`delay_${n}`,container:n,reason:"UPSELL_LOGIN_OR_SIGNUP"}),L.setItem(r.J7,"true")}},12e3);return e.push(i),()=>{e.forEach(e=>clearTimeout(e))}},[C,Y]),(0,l.useEffect)(()=>{if(!Y||!C)return;let e=!1,l=()=>{e||(requestAnimationFrame(()=>{let{scrollY:l}=window;if(l>1&&(b("ce_dweb_unauth_splp_blocking").anyEnabled||b("ce_dweb_unauth_splp_blocking_12s").anyEnabled)){let{showDesktopSignupModal:e}=a;e({signupFlow:{type:"signup"},attributionLabel:`scroll_${n}`,container:n,reason:"UPSELL_LOGIN_OR_SIGNUP"}),L.setItem(r.J7,"true")}e=!1}),e=!0)};return window.addEventListener("scroll",l,{passive:!0}),()=>{window.removeEventListener("scroll",l)}},[C,Y])}},377654:function(e,n,a){a.d(n,{Rq:()=>l,Vf:()=>i,jd:()=>t,oy:()=>r});let l=e=>"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436,i=28,t=e=>window.innerHeight>=748&&l(e),r=()=>"undefined"!=typeof window&&!!window.navigator&&(/iPad/.test(navigator.platform)||"MacIntel"===navigator.platform&&"ontouchend"in document&&Math.min(window.screen.width,window.screen.height)>=700)},473304:function(e,n,a){a.d(n,{Z:()=>p});var l=a(281098),i=a(667294),t=a(20256),r=a(937805),o=a(667835),s=a(461951),d=a(816358),u=a(516114),c=a(785893);function p({children:e,footerConfig:n,headerConfig:a,height:p,hideOnScroll:g,hideOnScrollState:{isHidden:m,updateHiddenState:_},isFooterHidden:h,noPadding:y,paddingX:f,paddingY:k=u.og,type:x,zIndex:S}){let b,P;(0,l.Z)("FixedContent","/app/packages/layout/FixedContent.tsx");let{headerLimitedOverflow:v,ignoreObstructions:w,zIndexForGestaltBug:T}=a||{},{appUpsellFooterConfig:I,footerInLego:C,navFooterConfig:E}=n||{},F=!!I,j="header"===x?"top":"bottom",A=(0,o.vs)(),{mWebCloseupRedesignEnabled:L}=(0,r.Z)(),R=(0,i.useRef)(null),D=(0,i.useRef)(null);(0,i.useEffect)(()=>{try{if(!w){let e=R.current;D.current=v&&e&&Array.isArray(e.children)?e.children[0]:e,D.current instanceof HTMLElement&&d.Z.addObstruction(j,D.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{!w&&D.current instanceof HTMLElement&&d.Z.removeObstruction(j,D.current)}},[w,v,j,A]);let K="top"===j?"relative":"fixed",B=y?0:k,O=(p??u.R$)+(a?.overrideTop||0),Z=g||E?{transition:C||L?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",...m||h?{transform:`translateY(${"top"===j?-O:O}px)`,opacity:C||L?0:1}:Object.freeze({})}:{},N=2*!("relative"!==K||a?.noGutter),M=N?-N:0,U=A?o.k7:"rgba(255,255,255,.95)";A&&("header"===x?b=-1:P=-1);let z=C?F?void 0:p??u.R$:"100%",V=C?u.KJ:void 0,G=a?.isTranslucent&&U||A?U:s.Wmm,H=a?.isTransparentBackground&&s.Wyp?s.Wyp:G,W=(0,i.useMemo)(()=>({height:"footer"===x&&L?`calc(${z} + env(safe-area-inset-bottom))`:z,...L&&"footer"===x?{paddingBottom:`calc(env(safe-area-inset-bottom) + ${4*(B||0)}px)`}:Object.freeze({})}),[L,z,x,B]);return(0,c.jsx)(t.xu,{ref:R,bottom:"footer"===x,dangerouslySetInlineStyle:{__style:{top:b,bottomStyle:P,...!S||T?{zIndex:T||1}:Object.freeze({}),...v?{background:"transparent",overflow:"hidden",paddingBottom:u.UB,marginBottom:-u.UB,pointerEvents:"none"}:Object.freeze({}),...a?.hasBorder?{borderBottom:u.dS}:Object.freeze({}),...n?.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...Z}},"data-test-id":x,display:F?"flex":void 0,height:p&&!C?p:void 0,left:!0,marginEnd:C?"auto":M,marginStart:C?"auto":M,onTransitionEnd:()=>{(g||E)&&D.current&&(m||h?d.Z.removeObstruction(j,D.current):d.Z.addObstruction(j,D.current))},position:K,right:!0,top:"header"===x,width:C||"fixed"!==K?void 0:"100%",zIndex:T?void 0:S,children:(0,c.jsx)(t.xu,{alignItems:n?.alignCenter?"center":void 0,dangerouslySetInlineStyle:{__style:{backgroundColor:H,...W,boxShadow:L&&"footer"===x?`0 10px 0 0 ${H}, ${u.KJ}`:V,marginBottom:C&&!E?.docked?16:void 0,...v?{pointerEvents:"auto"}:Object.freeze({}),...a?.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},display:C||n?.alignCenter?"flex":void 0,marginEnd:C?"auto":void 0,marginStart:C?"auto":void 0,paddingX:f||4*("footer"===x&&!y)+N,paddingY:B,position:"relative",rounding:C&&!E?.docked?"pill":void 0,width:E?E.footerWidth:F?void 0:"100%",children:"function"==typeof e?e({updateHiddenState:_}):e})})}},394962:function(e,n,a){a.d(n,{Z:()=>o});var l=a(281098),i=a(473304),t=a(211887),r=a(785893);function o({alignCenter:e,appUpsellFooterConfig:n,footerInLego:a,hasTopShadow:o,navFooterConfig:s,...d}){return(0,l.Z)("FixedFooter","/app/packages/layout/FixedFooter.tsx"),(0,r.jsx)(t.Z,{appUpsellFooterConfig:n,hideOnScroll:d.hideOnScroll,navFooterConfig:s?.scrollConfig,children:l=>(0,r.jsx)(i.Z,{...d,footerConfig:{alignCenter:e,appUpsellFooterConfig:n,footerInLego:a,hasTopShadow:o,navFooterConfig:s},hideOnScrollState:l,type:"footer"})})}},588367:function(e,n,a){a.r(n),a.d(n,{default:()=>d});var l=a(281098),i=a(20256),t=a(516114),r=a(473304),o=a(211887),s=a(785893);function d({hasBorder:e,headerLimitedOverflow:n,ignoreObstructions:a,isTranslucent:d,isTransparentBackground:u,noGutter:c,overrideTop:p,useRoundedCorners:g,zIndexForGestaltBug:m,..._}){(0,l.Z)("FixedHeader","/app/packages/layout/FixedHeader.tsx");let{noPadding:h,paddingY:y=t.og,zIndex:f}=_;return(0,s.jsx)(i.Le,{height:n?t.LV+2*(h?0:y)*4:void 0,top:p||0,zIndex:f||void 0,children:(0,s.jsx)(o.Z,{hideOnScroll:_.hideOnScroll,children:l=>(0,s.jsx)(r.Z,{..._,headerConfig:{isTranslucent:d,isTransparentBackground:u,headerLimitedOverflow:n,hasBorder:e,ignoreObstructions:a,noGutter:c,overrideTop:p,zIndexForGestaltBug:m,useRoundedCorners:g},hideOnScrollState:l,type:"header"})})})}},211887:function(e,n,a){a.d(n,{Z:()=>r});var l=a(667294),i=a(159527);function t(e,n,a){var l;return(n="symbol"==typeof(l=function(e,n){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,n||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(n,"string"))?l:l+"")in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}class r extends l.Component{constructor(...e){super(...e),t(this,"state",{isHidden:!!this.props.appUpsellFooterConfig||!!this.props.navFooterConfig?.isDockedNavOnPlp}),t(this,"lastScrollPos",0),t(this,"updateHiddenState",e=>{this.reqAnimationId=window.requestAnimationFrame(()=>{this.setState({isHidden:e})})}),t(this,"handleScroll",(0,i.Z)(()=>{let{appUpsellFooterConfig:e,navFooterConfig:n}=this.props,{isHidden:a}=this.state,l=window.scrollY,i=l-this.lastScrollPos,t="none",{scrollHeight:r,clientHeight:o}=document.documentElement||{};Number.isNaN(r)||Number.isNaN(o)||(t=i<0?l<=Math.abs((window.scrollMinY||0)+Math.max(i,20))?"start":"none":l>=(window.scrollMaxY||r-o)-Math.max(i,20)?"end":"none");let s=55*!n?.isModal;e?i>20&&a&&l>=500?e.shouldShowAfterScroll()&&(this.updateHiddenState(!1),n?.onScroll(!1)):(i<-20&&!a||l<=s)&&(this.updateHiddenState(!0),n?.onScroll(!0)):this.props.navFooterConfig?.isDockedNavOnPlp?"start"===t&&!a||l<=s?(this.updateHiddenState(!0),n?.onScroll(!0)):(l>s||"end"===t)&&a&&(this.updateHiddenState(!1),n?.onScroll(!1)):(i<-20||"start"===t)&&a||l<=s?(this.updateHiddenState(!1),n?.onScroll(!1)):(i>20||"end"===t)&&!a&&(this.updateHiddenState(!0),n?.onScroll(!0)),this.lastScrollPos=l},30))}componentDidMount(){try{(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){!e.hideOnScroll&&this.props.hideOnScroll||!e.navFooterConfig?.isDockedNavOnPlp&&this.props.navFooterConfig?.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||e.navFooterConfig?.isDockedNavOnPlp&&!this.props.navFooterConfig?.isDockedNavOnPlp)&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}render(){let{children:e,navFooterConfig:n}=this.props,{isHidden:a}=this.state;return e({isHidden:!n?.forceShow&&a,updateHiddenState:this.updateHiddenState})}}},914061:function(e,n,a){a.r(n),a.d(n,{default:()=>u});var l=a(281098),i=a(20256),t=a(93966),r=a(377654),o=a(657389),s=a(15667),d=a(785893);let u=({children:e,dataLayoutShiftBoundaryId:n,hasFixedHeader:a=!1,hasGutter:u=!0,height:c,showKeychainError:p=!1,useViewport:g=!1})=>{(0,l.Z)("MobilePageContainer","/app/packages/layout/MobilePageContainer.tsx");let m=(0,s.B)(),_=(0,r.jd)(m.userAgent.platform)?r.Vf:0;return(0,d.jsx)(i.xu,{"data-layout-shift-boundary-id":n||"PageContainer",height:g?`calc(100vh - ${_}px)`:c,paddingX:u?t.D6:void 0,paddingY:a||p?void 0:3,children:(0,d.jsx)(o.C,{value:!!u,children:e})})}},516114:function(e,n,a){a.d(n,{KJ:()=>o,LV:()=>r,R$:()=>l,UB:()=>t,dS:()=>s,og:()=>i});let l=64,i=3,t=100,r=44,o="0px 0px 8px rgba(0, 0, 0, 0.1)",s="1px solid #efefef"},510420:function(e,n,a){a.d(n,{Z:()=>i});var l=a(306856);function i({feedbackData:e,feedbackType:n,pinId:a,pinFeedbackType:i,recommendationReason:t,complaintReason:r,clientTrackingParams:o,isThirdPartyAd:s}){switch(n){case"search":return{action:"unrelatedSearchPin",actionOptions:{query:e?.query,pin_id:a}};case"related":return{action:"relatedPinHide",actionOptions:{pin:a}};case"newsHub":return{action:"newsHubPinHide",actionOptions:{pin_id:a,news_id:e?.newsId}};default:let d="promoted"===n,u=(0,l.Z)(t?.reason),c=t?.reasonId??t?.board?.entityId,p=d?"promotedComplaint":"complaint",g={complaint_reason:r||0,pin_id:a,feedback_type:i||1,promoted:d};return u&&(g.recommendation_reason_id=u),c&&(g.through_id=c),t?.throughProperties&&(g.through_properties=t.throughProperties.reduce((e,n)=>{let{key:a,data:l}=n;return a&&(e[a]=[...e[a]||[],...l||[]]),e},{})),o&&(g.client_tracking_params=o),s&&(g.is_third_party_ad=s),{action:p,actionOptions:g}}}},467221:function(e,n,a){a.d(n,{GH:()=>s,JF:()=>_,Jb:()=>g,MI:()=>m,_V:()=>d,fi:()=>h,sl:()=>c,we:()=>p});var l=a(189381),i=a(686319),t=a(55543),r=a(6179),o=a(941404);let s="274266067164",d=()=>["public_profile","email","user_friends"],u=["picture.type(large)","id","first_name","last_name","email","gender"],c=e=>{e&&(0,o.dy)({event:"load_script_success",provider:"facebook"}),"undefined"!=typeof window&&window.FB?(e&&(0,o.dy)({event:"initialize_library",provider:"facebook"}),window.FB.init({appId:s,status:!0,xfbml:!0,version:"v2.7"})):e?(0,o.dy)({event:"global_object_not_found",provider:"facebook"}):(0,o.My)("pcons.non_autologin.fb.global_object_not_found")},p=(e,n)=>(n&&(0,o.dy)({event:"load_script_start",provider:"facebook"}),(0,t.Z)((0,r.Z)(e),"FACEBOOK").then(()=>c(n))),g=()=>new Promise(e=>{"undefined"!=typeof window&&window.FB&&window.FB.getLoginStatus(e)});async function m(e){let n=(await (0,i.Z)({url:"/v3/facebook/profile_data/",method:"POST",data:{access_token:e,pii_safe_birthday:!0,fields:u}})).resource_response.data||{};return(0,o.My)(n?"pcons.facebook_user.non_empty_user_data_returned":"pcons.facebook_user.empty_user_data_returned"),{access_token:e,birthday:n.birthday,email:n.email,first_name:n.first_name,gender:n.gender,id:n.id,last_name:n.last_name,picture:n.picture}}let _=()=>new Promise(e=>{window.FB.login(e,{scope:d().join(",")})}).then(e=>new Promise((n,a)=>{if("connected"!==e.status)return void a({status:e.status||"unknown"});let{userID:i,accessToken:t}=e.authResponse;m(t).then(e=>{n({creds:{facebook_id:i,facebook_token:t,facebook_autologin:!1},signupOptions:(({userID:e,accessToken:n,data:{birthday:a,email:i,first_name:t,gender:r,last_name:o,picture:s}})=>({type:"facebook",facebook_id:e,facebook_token:n,birthday:a?(0,l.Z)(a):void 0,email:i,first_name:t,gender:r,image_url:s&&!s.data.is_silhouette?s.data.url:void 0,last_name:o}))({userID:i,accessToken:t,data:e})})},a)})),h=async(e,n)=>{await p(e,!1);let a=await g(),l=n?"dweb":"mweb";if("connected"===a.status){(0,o.My)(`${l}.login_data_from_fb_token.connected`);let{userID:e,accessToken:n}=a.authResponse;try{let a=await (0,i.Z)({url:"/v3/facebook/login_data/",data:{facebook_id:e,facebook_token:n}});if(a?.resource_response?.data){let{connected_to_gplus:e,connected_to_google:n,has_password:i}=a.resource_response.data,t=e||n;return(0,o.My)(`${l}.login_data_from_fb_token.success`),{isGoogleConnected:t,hasPassword:i,isFBAuthOnly:!t&&!i}}(0,o.My)(`${l}.login_data_from_fb_token.no_data`)}catch{(0,o.My)(`${l}.login_data_from_fb_token.error`)}}return null}},239846:function(e,n,a){a.d(n,{Z:()=>o});var l=a(281098),i=a(20256),t=a(19585),r=a(785893);let o=({hasBackground:e=!1,iconColor:n="darkGray",paddingX:a=2})=>{(0,l.Z)("ReactionPickerPlaceholder","/app/packages/reactions/ReactionPickerPlaceholder.tsx");let o=(0,t.Z)();return(0,r.jsx)(i.xu,{paddingX:a,children:(0,r.jsx)(i.kC,{alignItems:"center",height:24,justifyContent:"center",width:24,children:(0,r.jsx)(i.hU,{accessibilityLabel:o._('React', 'Accessibility label for reacting to a Pin', 'Accessibility label for reacting to a Pin'),bgColor:e?"lightGray":"transparent",icon:"heart-outline",iconColor:n,padding:1,size:"xl"})})})}},461920:function(e,n,a){a.d(n,{Z:()=>l});function l(e,n){let a;if(e.error){let{httpStatus:l,api_error_code:i,redirectUrl:t}=e.error;(404===l||401===l&&7===i)&&(a={pathname:n?"/ideas/":"/",state:{showError:!0}}),301===l&&t&&(a={pathname:t})}return a}},374078:function(e,n,a){a.d(n,{Z:()=>s});var l=a(825332),i=a(821342),t=a(506662),r=a(461920),o=a(886981);function s(e){let n=(0,l.s0)(),a=(0,l.TH)(),{isAuth:s}=(0,i.Z)(),d=!s&&(0,t.L6)(a),u=(0,o.Z)(e),c=(0,r.Z)(u,d);return c&&n(c.pathname,{replace:!0,state:c.state}),u}},460321:function(e,n,a){a.d(n,{Nh:()=>i,qn:()=>l});let l=(e,n=null)=>{try{return"undefined"!=typeof window&&window.localStorage.getItem(e)||n}catch(e){return console.error("Cannot access localStorage."),n}},i=(e,n)=>{try{if("undefined"==typeof window)return;window.localStorage.setItem(e,n)}catch(e){console.error("Cannot access localStorage.")}}},349188:function(e,n,a){a.d(n,{A:()=>_,Z:()=>m});var l=a(667294),i=a(581722),t=a(111330),r=a(521009),o=a(346955),s=a(417162),d=a(274320),u=a(929915),c=a(753143),p=a(334536),g=a(647709);function m(){let{trackConversionUpsellForContext:e}=(0,s.g)()||{},{trackConversionUpsellForContext:n}=(0,u.l)()||{},{viewType:a,viewParameter:l}=(0,o.SU)();return{trackConversionUpsell:({eventType:i,viewType:t,viewParameter:r,element:o,component:s,upsellReason:d,incrementUpsellReasonCounter:u,additionalAuxData:c})=>{let p=e||n;p&&p({eventType:i,viewType:t||a||202,viewParameter:r||l,element:o,component:s,upsellReason:d,incrementUpsellReasonCounter:u,additionalAuxData:c})}}}function _(){let e=(0,r.Z)(),n=(0,c.M0)(),a=(0,i.I0)(),o=(0,i.v9)(e=>e?.upsell?.upsellReason),{checkExperiment:s}=(0,d.r)(),u=(0,g.HG)(),m=(0,l.useRef)(null),_=()=>n.getItem(t.w0)&&Number.isInteger(n.getItem(t.w0))?n.getItem(t.w0):0;return{trackConversionUpsellForContext:({eventType:l,viewType:i,viewParameter:r,element:d,component:g,upsellReason:h,incrementUpsellReasonCounter:y,additionalAuxData:f})=>{let k=(0,c.M0)(),x=u&&(s("migration_upsell_manager_redux").anyEnabled||s("migration_upsell_manager_redux_dweb").anyEnabled);14688===l&&(k.setItem(t.bg,h||""),h&&x&&a((0,p.vY)(h)),m.current=g,!1!==y&&n.setItem(t.w0,_()+1));let S=k.getItem(t.bg)||null;!S&&x&&(S=h||o),e({event_type:l,view_type:i,view_parameter:r,element:d,component:m.current,aux_data:{upsell_reason:S,upsell_view_count:_(),...f}})}}}},379986:function(e,n,a){a.d(n,{Z:()=>y});var l,i=a(281098),t=a(667294);a(167912);var r=a(20256),o=a(688379),s=a(937805),d=a(667835),u=a(415546),c=a(19585),p=a(937314),g=a(872353),m=a(785893);let _=(void 0!==l||(l=a(220081)).hash&&"f4db80aa25522dc31fd92c6888dee781"!==l.hash&&console.error("The definition of 'CollapsibleDescription_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),h=({isExpanded:e,onToggle:n,expandedText:a,collapsedText:l,size:i})=>(0,m.jsx)(r.xu,{"data-test-id":`${e?"less":"more"}-description-container`,display:"inlineBlock",children:(0,m.jsx)(r.iP,{onTap:n,children:(0,m.jsx)(r.xv,{inline:!0,size:i,weight:"bold",children:e?a:l})})});function y({isExpanded:e,instagramPostLink:n,description:a,maxHeight:l,handleToggle:y,Wrapper:f,pinKey:k}){(0,i.Z)("CollapsibleDescription","/app/packages/ui/CollapsibleDescription.tsx");let x=(0,u.Z)(_,k),S=(0,t.useRef)(null),[b,P]=(0,t.useState)(!1),{mWebCloseupRedesignEnabled:v}=(0,s.Z)(),w=(0,c.Z)(),T=(0,d.vs)();(0,t.useEffect)(()=>{if(!(S&&S.current))return;let{height:e}=S.current.getBoundingClientRect();e>l&&P(!0)},[S,l]);let I=v?w._('See more', 'closeup.description.toggle.seeMoreButton', 'Toggle see more description button'):w._('... more', 'closeup.description.toggle.moreButton', 'Toggle more description button'),C=v?w._('See less', 'closeup.description.toggle.seeLessButton', 'Toggle see less description button'):"..."+(w._('less', 'closeup.description.toggle.lessButton', 'Toggle less description button')),E=(0,m.jsx)(h,{collapsedText:I,expandedText:C,isExpanded:e,onToggle:y,size:v?"200":void 0}),F=T?"#111111":"#FFFFFF",j=(0,m.jsx)(r.xv,{inline:!0,weight:"bold",children:E});return(0,m.jsx)(f,{children:(0,m.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:v&&e?20:void 0}},"data-test-id":"collapsible-description",maxHeight:e?void 0:l,overflow:"hidden",position:"relative",children:(0,m.jsxs)(p.Z,{dir:(0,g.j)(a),children:[(0,m.jsx)(r.xu,{ref:S,children:(0,m.jsxs)(r.xv,{inline:!0,children:[(0,m.jsx)(o.Z,{description:a,pinKey:x}),n,b&&e&&(v?(0,m.jsx)(r.xu,{bottom:v,display:"inlineBlock",marginStart:2,position:v?"absolute":void 0,right:v,children:j}):j)]})}),b&&!e&&(0,m.jsx)(r.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{background:`linear-gradient(270deg, ${F} 50%, ${F}00 100%)`,textAlign:"end"}},position:"absolute",right:!0,width:140,children:E})]})})})}},212346:function(e,n,a){a.d(n,{Z:()=>t});var l=a(667294),i=a(603316);let t=(e,n)=>{let{metricName:a,tags:t={},timeoutMs:r=3e3}=n,o=(0,l.useRef)(!1),s=(0,l.useRef)(t);s.current=t,(0,l.useEffect)(()=>{if(o.current)return;let n=null,l=null,t=()=>{if(!e.current)return;let{clientWidth:t,clientHeight:r,offsetWidth:o,offsetHeight:d}=e.current;(0===t||0===r||0===o||0===d)&&(0,i.nP)(a,{tags:{...s.current,clientWidth:t,clientHeight:r,offsetWidth:o,offsetHeight:d}}),n&&n.disconnect(),l&&clearTimeout(l)};if(e.current)return e.current&&"undefined"!=typeof ResizeObserver&&(n=new ResizeObserver(()=>{t()})).observe(e.current),l=setTimeout(t,r),o.current=!0,()=>{o.current=!1,n&&n.disconnect(),l&&clearTimeout(l)}},[e,a,r])}},640524:function(e,n,a){a.d(n,{Z:()=>c}),a(167912);var l,i,t=a(616550),r=a(415546),o=a(15667),s=a(85363);let d=(void 0!==l||(l=a(978256)).hash&&"0d094b9035d386e39d655dc504f34018"!==l.hash&&console.error("The definition of 'useDuploGetStelaUrlWithLargestStelaObject_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),u=(void 0!==i||(i=a(850946)).hash&&"f351b4770fdbd86402ef323f959c3227"!==i.hash&&console.error("The definition of 'useDuploGetStelaUrlWithLargestStelaObject_story' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function c({pinKey:e,storyKey:n,surfaceType:a}){let{isAuthenticated:l,country:i}=(0,o.B)(),c=(0,r.Z)(d,e),p=(0,r.Z)(u,n),{id:g}=(0,t.UO)(),{visualObjects:m}=c||{},{action:_}=p||{};if("flashlight"===a&&(!l||"US"===i))return"";if(!g)return"/";let h=m?.flatMap(({x:e,y:n,w:a,h:l,isStela:i})=>i&&"number"==typeof e&&e>=0&&"number"==typeof n&&n>=0&&"number"==typeof a&&a>=0&&"number"==typeof l&&l>=0?[{x:e,y:n,w:a,h:l}]:[])?.[0];return(0,s.Z)({cropArea:h,cropSource:h?4:5,isProductPage:!1,pinId:g,requestParams:_?.requestParams,surfaceType:a})}},374891:function(e,n,a){a.d(n,{r:()=>_,u:()=>h});var l=a(281098),i=a(667294),t=a(20256),r=a(980787),o=a(982166),s=a(19585),d=a(302148),u=a(694955),c=a(466653),p=a(785893);function g({isOpen:e,onDismiss:n,viewParameter:a}){(0,l.Z)("UnauthWAISTAModal","/app/www/WAISTA/UnauthWAISTAModal.tsx");let g=(0,s.Z)(),{logContextEvent:m}=(0,r.u)();return(0,i.useEffect)(()=>{e&&m({event_type:13,element:10412,component:13756,view_parameter:a,view_type:155})},[e,m,a]),(0,p.jsx)("div",{onClick:e=>{e.stopPropagation()},role:"dialog",children:(0,p.jsx)(o.ZP,{accessibilityModalLabel:"",allowClickAndDrag:!0,allowScroll:!0,closeOnOutsideClick:!0,isOpen:e,onDismiss:n,children:(0,p.jsxs)(t.xu,{maxHeight:"calc(95vh)",paddingX:2,children:[(0,p.jsxs)(t.xu,{padding:2,children:[(0,p.jsx)(t.xu,{children:(0,p.jsx)(t.hU,{accessibilityLabel:g._('Close modal', 'waista.modal.closeButton', 'Close modal for "Why am I seeing this ad?"'),icon:"cancel",iconColor:"darkGray",onClick:()=>{m({event_type:102,element:11925,component:13756,view_parameter:a,view_type:155}),n()},size:"sm"})}),(0,p.jsx)(t.xu,{marginTop:3,children:(0,p.jsx)(t.X6,{align:"start",size:"300",children:g._('Why you\'re seeing this ad', 'waista.modal.headerTitle', 'Header title on modal to explain to user why they are seeing this ad')})})]}),(0,p.jsx)(t.xu,{overflow:"auto",children:(0,p.jsxs)(t.xu,{children:[(0,p.jsx)(t.xu,{padding:2,children:(0,p.jsx)(t.xv,{children:g._('You may be seeing this ad:', 'waista.modal.criteria.list.maybeSeeAd.v3', 'Text about why user is seeing this ad')})}),(0,p.jsx)(t.xu,{padding:2,children:(0,p.jsx)(c.Z,{icon:"pinterest",iconAccessibilityLabel:g._('Icon for ad targeting context', 'waista.modal.criteria.list.contexticon', 'Icon for ad targeting context'),text:(0,d.XB)({text:g._('Based on the context of the content you see in a session <strong id="1">on Pinterest</strong>', 'unauth.waista.modal.criteria.list.context', 'Ad explanation for targeting context of content, onPinterest: on Pinterest Platform'),jsxReplacements:{1:({innerHtmlStrings:e})=>(0,p.jsx)(t.xv,{inline:!0,weight:"bold",children:e},"waista-platform-bucket")}})})}),(0,p.jsx)(t.xu,{padding:2,children:(0,p.jsx)(t.xv,{weight:"bold",children:g._('Ads on Pinterest', 'unauth.waista.modal.adsOnPinterest', 'Text explaining ads on Pinterest')})}),(0,p.jsx)(t.xu,{marginBottom:4,padding:2,children:(0,p.jsx)(t.xv,{children:(0,d.nk)(g._('For more about how we collect and use data, read our {{ privacyPolicyLink }}', 'app.common.react.components.PinRep.components.AdReasonsModal.readPrivacyPolicyText', 'Text explaining how we collect and use data, privacyPolicyLink: link to privacy policy page'),{privacyPolicyLink:(0,p.jsx)(t.xv,{inline:!0,weight:"normal",children:(0,p.jsx)(t.rU,{display:"inline",href:u.R_9,onClick:()=>{m({event_type:101,component:13756,element:13402,view_parameter:a,view_type:155})},target:"blank",children:g._('Privacy Policy', 'app.common.react.components.PinRep.components.AdReasonsModal.privacyPolicyLinkUrl', 'Privacy policy link for reading about how data is collected and used')})},"ad-reasons-privacy-policy")})})})]})})]})})})}let m=(0,i.createContext)(null),_=()=>((0,l.Z)("mobileWAISTAUnauthModalContext","/app/packages/waistaUnauthModal/mobileWAISTAUnauthModalContext.tsx"),(0,i.useContext)(m)),h=({children:e})=>{(0,l.Z)("mobileWAISTAUnauthModalContext","/app/packages/waistaUnauthModal/mobileWAISTAUnauthModalContext.tsx");let[n,a]=(0,i.useState)(!1),t=(0,i.useMemo)(()=>({isWAISTAModalOpen:n,setWAISTAModalOpen:a}),[n,a]);return(0,p.jsxs)(m,{value:t,children:[e,n&&(0,p.jsx)(g,{isOpen:!0,onDismiss:()=>{a(!1)}})]})}},306856:function(e,n,a){a.d(n,{Z:()=>i});let l={REPIN_BOARD:1,USER_ACTIVITY:4,CLICKTHROUGH:9,FRESH_REPIN_BOARD:47,FRESH_CLICKTHROUGH:48,FRESH_USER_ACTIVITY:49,LOCAL_REPIN_BOARD:13,LOCAL_CLICKTHROUGH:32,LOCAL_USER_ACTIVITY:33,P2P_CLICKTHROUGH:28,INSTANT_PFY_NON_MATERIALIZABLE:36,FOLLOWED_INTEREST:5,TOPIC_BEST_PINS:70,EMBEDDING_BASED_BEST_PINS:173,RECOMMENDED_TOPICS:65,RECOMMENDED_GEO_INTERESTS:192,USER_SEQUENCE_INTERESTS_PINS:193,U2I_DNN_INTERESTS_PINS:196,PINNERSAGE_INTERESTS_PINS:197,GRAPHSAGE_USER_EMBEDDINGS_TO_ORGANIC_PINS:109,NAVBOOST_PFY:89,NAVBOOST_P2P:88,NOTIFICATION_NEWS_HUB:138,GEMINI_INTERESTS_FRESH:104,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN:100,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN_ENGAGEMENT:175,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_VIDEO:95,INTENTIONAL_DISTRIBUTION_DOMAIN:86,INTENTIONAL_DISTRIBUTION_TOPICS_STORY_PINS:91,INTENTIONAL_DISTRIBUTION_TOPICS_VIDEO:98,GRAPHSAGE_MULTI_PINS_TO_CREATOR_PINS_REALTIME:135,GRAPHSAGE_MULTI_PINS_TO_VIDEO_PINS_REALTIME:139,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS_REALTIME:140,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGEED_INTERESTS_VIDEO:118,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGED_INTERESTS_STORY_PIN:130,CREATOR_DIRECT_INJECT:148,USER_INTERESTS_TO_LONGTERM_CREATOR_PINS:141,GRAPHSAGE_PRODUCT_PINS:97,GRAPHSAGE_TML_PRODUCT_PINS:212,GRAPHSAGE_USER_EMBEDDINGS_TO_PINS:108,PROMOTED_PIN:15,UNKNOWN:0,RECOMMENDED_CATEGORY:2,COOKIE_MONSTER:3,REALTIME_P2B:6,REALTIME_P2B_CLOSEUP:22,RECOMMENDED_INTEREST:7,VISUALLY_SIMILAR:8,BOARD_FOLLOW:35,USER_FOLLOW:45,RECOMMENDED_COMMERCE:10,EVERYTHING_FEED:11,RECOMMENDED_LOCAL_PIN:12,SEARCH:46,P2P_USER_COMMERCE:16,COMMERCE_EDUCATION:17,LANDING_PAGE_PINS:18,FOLLOWING_FEED:19,POPULAR_FEED:20,P2P_DYNAMIC_GRID:23,LANDING_PAGE_INTEREST_PINS:24,FRESH_PIN_FROM_PIN:25,FRESH_PIN_FROM_INTEREST:26,FRESH_PIN_FROM_BOARD:27,SIFTER_VIDEO_FROM_INTEREST:39,SIFTER_PRODUCTS:57,SIFTER_DISTRIBUTION_A:50,SIFTER_DISTRIBUTION_B:51,SIFTER_DISTRIBUTION_C:52,SIFTER_DISTRIBUTION_D:53,SIFTER_DISTRIBUTION_E:54,SIFTER_ACTIVATION_EXPERIMENT:58,SIFTER_FRESHMAKER_PIN_FROM_INTEREST:40,P2P_CLOSEUP:29,P2P_LIKE:30,P2P_PIN_CREATE:31,INSTANT_PFY:34,DYNAMIC_INSERTION:37,DYNAMIC_INSERTION_BOARD_FOLLOW:38,HYPERLOCAL_INTEREST_BOARD:41,NUX_BOARD_FOLLOW_P2P:42,INDIRECT_DOMAIN_PIN:43,PIXIE_PINS_FOR_BOARD:44,SCREENSHOT_SAVE:55,TEXT_EMBEDDINGS:56,FRESH_TEXT_EMBEDDINGS:67,PREFETCH_LOAD:60,DIVERSE_TOPICS:62,QUIZ_RESULTS:63,INTENTIONAL_DISTRIBUTION_TOPICS:64,INTENTIONAL_DISTRIBUTION_TOPICS_THIRD_PARTY:90,INTENTIONAL_DISTRIBUTION_GEMINI:73,INTENTIONAL_DISTRIBUTION_GEMINI_V5:120,INTENTIONAL_DISTRIBUTION_SHOP_STYLE_STL:74,INTENTIONAL_DISTRIBUTION_GRAPHSAGE:78,INTENTIONAL_DISTRIBUTION_REPIN_BOARD:80,INTENTIONAL_DISTRIBUTION_CLICKTHROUGH:81,INTENTIONAL_DISTRIBUTION_USER_ACTIVITY:82,INTENTIONAL_DISTRIBUTION_CREATOR_BASELINE:92,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS:102,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_STORY_PIN:103,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_DIVERSITY:105,PIXIE_RECENT_ACTION:66,NATIVE_CONTENT_TOPICS:68,BUBBLE_OPEN_TOPICS:69,TOPIC_BEST_PINS_V2:77,DAILY_BEST_PINS:79,TOPIC_BEST_PINS_V3:101,TOPIC_BEST_STORY_PINS:164,REC_SEQ_STORY_PIN_CLS:165,DARK_PROMOTED_PIN:71,POST_EXPLORE_TOPICS:72,GRAPHSAGE_EMBEDDINGS:75,DEMOGRAPHIC_PFY:76,SHOPPING_STL:83,UNAUTH_PIXIE_P2B:84,UNAUTH_PIXIE_P2P:85,VIDEO_EMBEDDINGS:87,VIDEO_EMBEDDINGS_GEMINI_V5:121,GEMINI_V5_EMBEDDINGS_STATIC:93,GEMINI_V5_EMBEDDINGS_FRESH:94,GEMINI_V5_EMBEDDINGS_REALTIME:106,GEMINI_V5_EMBEDDINGS_STORYPIN:107,CURATED_VIDEO_INTEREST:96,GRAPHSAGE_PRODUCT_PINS_LONGER_HISTORY:112,GRAPHSAGE_SHOPPABLE_INSPIRATION:126,GRAPHSAGE_PRODUCT_PINS_EXPERIMENTAL:134,NUX_GRAPHSAGE:99,GRAPHSAGE_USER_EMBEDDINGS_TO_PRODUCT_PINS:110,GRAPHSAGE_VIDEO_PINS:113,RECBOOST_REPIN_BOARD:114,RECBOOST_CLICKTHROUGH:115,RECBOOST_USER_ACTIVITY:116,RECBOOST_CREATOR_BOARDS:129,RECOMMENDED_BOARDS:117,RECOMMENDED_ANNOTATION_BOARDS:136,RECOMMENDED_GRAPHSAGE_BOARDS:153,INTENTIONAL_DISTRIBUTION_RECOMMENDED_GRAPHSAGE_BOARDS:191,RECOMMENDED_CREATOR_BOARDS:124,ANNOTATION_REC_CREATOR_BOARDS:127,INTENTIONAL_DISTRIBUTION_MANUAL_INTERESTS_VIDEO:119,INTENTIONAL_DISTRIBUTION_INTERESTS_VIDEO:143,INTENTIONAL_DISTRIBUTION_INTERESTS_STORY_PIN:144,REPIN_CREATOR_BOARD:122,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS:123,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS_REALTIME:131,FRESH_SIG_FROM_BOARD:125,RECENT_ENGAGED_CREATOR_BOARDS:128,RECENT_ENGAGED_BOARDS:132,SHOPPING_CREATOR_REALTIME:133,GRAPHSAGE_BASED_RECOMMENDED_CREATOR_BOARDS:137,PIXIE_P2P:142,NEW_USE_CASE_PINS:145,RECBOOST_NEW_USE_CASES:146,SEARCHSAGE_PFY:147,SEARCHSAGE_SHOPPING_PFY:155,INTEREST_EXPLORATION:149,INTEREST_EXPLORATION_TRENDY_QUERIES:150,INTEREST_EXPLORATION_RELATED_INTERESTS:151,RECBOOST_INTERESTS:152,HF_STORY_SHOPPING_RETARGETING:154,RECBOOST_STORY_PINS:156,RECBOOST_STORY_BOARDS:157,PINNABILITY_EMBEDDINGS:158,PINNABILITY_FRESH_STORY_EMBEDDINGS:159,PINNABILITY_STORY_EMBEDDINGS:160,PINNABILITY_PRODUCT_PIN_EMBEDDINGS:195,PINNABILITY_FRESH_PRODUCT_PIN_EMBEDDINGS:209,PINNABILITY_TML_PRODUCT_PIN_EMBEDDINGS:213,PINNABILITY_MULTI_EMBEDDINGS:210,PINNABILITY_PLP_EMBEDDINGS:218,PINNABILITY_CONDITIONAL_BOARD_EMBEDDINGS:220,PINNABILITY_CONDITIONAL_PIN_EMBEDDINGS:232,PINNABILITY_OFFSITE_TML_PRODUCT_PIN_EMBEDDINGS:227,PINNABILITY_FRESH_EMBEDDINGS:228,PINNABILITY_LOW_SIGNAL_USER_EMBEDDINGS:229,EXPLORATION_STORY_PINS:161,EXPLORATION_STORY_PINS_BASELINE:162,EXPLOITATION_STORY_PINS:163,ANNOTATION_REC_CREATOR_STORY_PINS:166,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS:167,IDEASTREAM_GRAPHSAGE_STORY_PINS:168,HF_EDUCATION_PIN_INSERTION:169,RP_EDUCATION_PIN_INSERTION:170,USER_TO_CREATOR_STORY_PINS:171,USER_TO_CREATOR_STORY_PINS_ENGAGEMENT:176,COENGAGEMENT_STORY_PINS:172,ANNOTATION_STORY_PINS:177,DISCOVER_STREAM_DEMOGRAPHIC_FALLBACK:178,DISCOVER_STREAM_CELEBRITY:179,GRAPHSAGE_SHOPIFY_VMP_PRODUCT_PINS:180,CREATOR_BEST_IDEA_PINS:181,INTEREST_BEST_IDEA_PINS:182,NAVBOOST_STORY_PINS:183,SHOPPING_DISTRIBUTION_PINS:185,WATCH_TAB_EHQ_STORIES:186,NOTIF_LEARNED_RETRIEVAL:187,NOTIF_DIRECT_INJECT:207,LANDING_PAGE_PIN_RECOMMENDATIONS:188,PINNERSAGE_LEARNED_EMBEDDINGS:189,RECGPT_CG_USER_TO_PINS:206,TOPIC_FEED:190,ORGANIC_COENGAGEMENT:211,RECBOOST_SHOPPING:214,USER_OFFSITE_BRAND:219,USER_OFFSITE_MERCHANT:222,USER_OFFSITE_SEARCH_QUERIES:223,USER_OFFSITE_PSV2_IPFY:224,USER_OFFSITE_PSV2_RECBOOST:225,USER_OFFSITE_PSV2_COENGAGEMENT:226,USER_PINNERSPARK_SEARCH_QUERIES:230,USER_NUX_SEARCH_QUERIES:233,PINNERSPARK_INTEREST:231,OFFSITE_INTEREST:234,HF_LAST_CHUNK_CACHE:221,RTC_IMPROVEMENT_TEST_1:501,RTC_IMPROVEMENT_TEST_2:502,RTC_IMPROVEMENT_TEST_3:503,RTC_IMPROVEMENT_TEST_4:504,RTC_IMPROVEMENT_TEST_5:505,RTC_IMPROVEMENT_TEST_6:506,RTC_IMPROVEMENT_TEST_7:507,RTC_IMPROVEMENT_TEST_8:508,RTC_IMPROVEMENT_TEST_9:509,RTC_IMPROVEMENT_TEST_10:510,RTC_IMPROVEMENT_TEST_11:511,RTC_IMPROVEMENT_TEST_12:512,RTC_IMPROVEMENT_TEST_13:513,RTC_IMPROVEMENT_TEST_14:514,RTC_IMPROVEMENT_TEST_15:515,RTC_BLENDER_TEST:516,P2P_COMMERCE:21,P2P:14,LENS_CAMERA_VISUALLY_SIMILAR:111,RECENT_FOLLOWED_INTEREST:59,RECENT_FOLLOWED_BOARD:61,GRAPHSAGE_SHOPIFY_VMP_MERCHANT_ACTIVATION_PRODUCT_PINS:174,FOLLOWED_INTEREST_SEO_BESPIN_EXPORATION:184,XPIXIE_TO_PRODUCT_PINS:194,SHOPPING_RECENTLY_VIEWED_MODULE_PINS:198,SHOPPING_RECENTLY_SAVED_MODULE_PINS:199,SHOPPING_BEST_SELLING_RECOMMENDED_BRAND_MODULE_PINS:200,SHOPPING_SHOP_THE_BOARD_MODULE_PINS:203,SHOPPING_ON_SALE_MODULE_PINS:204,SHOPPING_RECONSIDERATION_MODULE_PINS:215,SHOPPING_PRODUCT_CATEGORY_BASED_MODULE_PINS:205,SHOPPING_PRODUCT_CATEGORY_ON_SALE_MODULE_PINS:216,SHOPPING_BEST_SELLING_PRODUCT_CATEGORY_MODULE_PINS:217,SHOPPING_SHOP_SEARCH_MODULE_PINS:208,RECENTLY_VIEWED_ORGANIC_MODULE_PINS:201,RECENTLY_SAVED_ORGANIC_MODULE_PINS:202};function i(e){return e&&l[e]}},98328:function(e,n,a){a.d(n,{H:()=>S,Z:()=>P});var l=a(281098),i=a(667294),t=a(825332),r=a(20256),o=a(667835),s=a(525839),d=a(369416),u=a(841982),c=a(506662),p=a(15667),g=a(647709),m=a(883379),_=a(521009),h=a(572227),y=a(785893);function f({breadcrumb:e,isLastBreadcrumb:n,viewType:a,isHubPage:i}){(0,l.Z)("Breadcrumb","/app/www/LoggedOutProduct/duplo/Breadcrumbs/Breadcrumb.tsx");let t=(0,_.Z)(),o=(0,h.Z)(),s=(0,m.Z)({skipExpActivation:!0});return(0,y.jsx)(r.xu,{color:n?"secondary":void 0,"data-test-id":"breadcrumb",display:"inlineBlock",paddingX:n?2:void 0,paddingY:n?1:void 0,rounding:s?"pill":2,children:(0,y.jsxs)(r.kC,{alignItems:"center",justifyContent:"start",children:[(0,y.jsx)(r.rU,{href:e.url??"",onClick:({dangerouslyDisableOnNavigation:e})=>{e(),o({action:"click",item:"breadcrumb"}),t({event_type:102,component:176,element:1155,view_parameter:3713,view_type:a})},children:(0,y.jsx)(r.xv,{color:i&&!n?"light":"default",inline:!0,overflow:"noWrap",size:"100",weight:s?void 0:"bold",children:e.name})}),!n&&(0,y.jsx)(r.xu,{dangerouslySetInlineStyle:s?{__style:{paddingLeft:"12px",paddingRight:"8px"}}:void 0,display:"inlineBlock",paddingX:s?void 0:3,children:(0,y.jsx)(r.xv,{color:i&&!n?"light":"default",inline:!0,size:"100",weight:s?void 0:"bold",children:(0,y.jsx)(r.JO,{accessibilityLabel:"breadcrumb arrow",color:i?"light":"default",icon:"arrow-forward",size:8})})})]})})}var k=a(761112);let x=`
  .article-row {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  div::-webkit-scrollbar {
    display: none;
  }
`,S=50.5;function b({direction:e,rightOverflowGradientOffset:n}){let a=(0,o.vs)(),l=a?o.OW:"rgba(255, 255, 255, 0)",i=a?o.k7:"#fff";return(0,y.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundImage:`linear-gradient(to ${e}, ${l}, ${i})`,pointerEvents:"none",right:n?`${n}px`:void 0}},height:32,left:"left"===e,position:"absolute",right:"right"===e,width:48})}function P({breadcrumbs:e,disableOverflowGradient:n,shouldHideLazyExploreButton:a,inSeoDrawer:o,isHubPage:_,shouldLeftAlign:h,rightOverflowGradientOffset:P,contentRef:v}){(0,l.Z)("Breadcrumbs","/app/www/LoggedOutProduct/duplo/Breadcrumbs/Breadcrumbs.tsx");let w=(0,s.ZP)(),T=(0,t.TH)(),{origin:I}=(0,p.B)(),C=(0,g.ml)(),E=(0,g.HG)(),F=(0,c.Q0)(T),j=(0,m.Z)({skipExpActivation:!0}),A=!1,L=202;(0,c.uM)(T)?L=3:(0,c.dr)(T)?(L=442,A=!0):(0,c.$Y)(T)||(0,c.E0)(T)?L=1:F&&(A=!0,L=580);let R=F?{name:w._('Watch', 'unauth.header.tabs.videos', 'label for videos root'),url:"/videos/"}:{name:w._('Explore', 'unauth.header.tabs.ideas', 'label for ideas hub'),url:"/ideas/"},D=[...F||!a?[R]:[],...A?e.slice(0,e.length-1):[...e]];return(0,y.jsxs)(r.xu,{"data-test-id":"breadcrumbs",children:[(0,y.jsx)(d.Z,{unsafeCSS:x}),(0,y.jsx)(u.Z,{children:(0,y.jsx)(r.xu,{alignItems:h?"start":"center",dangerouslySetInlineStyle:{__style:{flexDirection:h||j?void 0:"row-reverse"}},"data-test-id":"breadcrumbs-list",direction:j?void 0:"column",display:"flex",height:o?void 0:S,justifyContent:E&&!j?"center":void 0,marginStart:j?5:void 0,overflow:o?void 0:"scrollX",paddingY:o?void 0:C?3:4,children:(0,y.jsxs)(r.xu,{ref:v,alignItems:"center",dangerouslySetInlineStyle:{__style:{rowGap:o?"8px":void 0}},display:"flex",justifyContent:o?"start":"end",margin:E||h?void 0:"auto",paddingX:o?2*!C:C?4:2,wrap:!!o||void 0,children:[!j&&!n&&(0,y.jsxs)(i.Fragment,{children:[(0,y.jsx)(b,{direction:"left"}),(0,y.jsx)(b,{direction:"right",rightOverflowGradientOffset:P})]}),D.map((e,n,a)=>(0,y.jsx)(f,{breadcrumb:e,isHubPage:_,isLastBreadcrumb:n===a.length-1,viewType:L},e.url))]})})}),(0,y.jsx)(k.Z,{testId:"breadcrumbs-list-metadata",type:"application/ld+json",value:{"@context":"http://schema.org","@type":"BreadcrumbList",itemListElement:[{name:w._('Pinterest', 'unauth.header.tabs.pinterest', 'label for pinterest website'),url:""},R,...e].map((e,n)=>({"@type":"ListItem",position:n+1,name:e.name,item:`${I}${e.url??""}`}))}})]})}},273849:function(e,n,a){a.d(n,{Z:()=>C});var l=a(667294),i=a(581722),t=a(825332),r=a(521009),o=a(657043),s=a(364843),d=a(877956),u=a(475498),c=a(525839),p=a(226967),g=a(13020),m=a(274320),_=a(572227),h=a(87853),y=a(370347),f=a(156618),k=a(352908),x=a(76774),S=a(979922),b=a(258644),P=a(290494),v=a(793698),w=a(438556),T=a(785893);let I=()=>{};function C({clientTrackingParams:e,experience:n,hasSaveHandoffExperience:a,isInlineSave:C,isPromoted:E,onError:F,onTouch:j,onUnsave:A,pinId:L,pinnedToBoardId:R,shouldShowSavedButton:D,showSingleToast:K}){let B=(0,c.ZP)(),O=(0,r.Z)(),Z=(0,_.Z)(),N=(0,i.I0)(),M=(0,t.s0)(),U=(0,t.TH)(),{showToast:z}=(0,h.dI)(),V=function({showSingleToast:e}){let n=(0,i.I0)(),a=(0,i.oR)(),t=(0,h.dI)()[e?"showOneToast":"showToast"],{forceShowNavFooter:r,setForceShowNavFooter:o}=(0,x.Q)(),s=(0,i.v9)(({session:e})=>e.shouldHideNavBar),d=(0,l.useCallback)((e,a)=>{!a&&(s&&n((0,b.FK)()),n((0,b.a5)()),r||o(!1)),t(e)},[n,r,s,o,t]);return(e,l)=>{!l&&(s&&n((0,b.Cp)()),n((0,b.WF)()),r||o(!0)),setTimeout(()=>{a.getState().session.isShowingRepinConfettiAnimation?setTimeout(()=>{d(e,l)},S.wJ):d(e,l)},S.Tt)}}({showSingleToast:K}),G=(0,w.n)(),H=U.pathname.startsWith("/pin"),W=(0,i.v9)(({session:e})=>e.hasSavedUnauthPin),Y=(0,i.v9)(({session:e})=>e.unauthSavePinId),q=(0,v.LO)(),$=q?.pin_count,X=(0,l.useRef)(null),Q=a&&!W,J=(0,k.Z)(),{checkExperiment:ee}=(0,m.r)(),en=(0,d.be)(),ea=(0,p.Z)(q?.created_at)||(0,g.Z)(q),{isGraphQLEnabledInGeneral:el}=(0,y.nF)(),ei=e=>M(e),et=(0,s.cO)(),er=(e,n)=>{G?.save(e,n)},eo=L?async()=>{C||O({event_type:102,element:11933});try{await N((0,P.Z)({checkExperiment:ee,navigate:M,i18n:B,logContextEvent:O,onSuccess:()=>{n&&N(en(n.placement_id,n.experience_id)),et("Save",{pin_id:L,is_promoted:E})},originalPinId:L,pinId:L,trackingParams:{clientTrackingParams:e,pinnedToBoardId:R},showNewUserSavetoProfileAnimation:ea,showRepinConfirmation:a&&!H?()=>void 0:V,disableRepinAnimation:Y===L,pinCount:$,historyPush:ei,savePinId:G?er:()=>{}}))}catch(e){z(({hideToast:n})=>(0,T.jsx)(u.Z,{onHide:n,text:(0,o.Z)(e,"message")||B._('Sorry! Something went wrong on our end.', 'quickSave.toast.error.message', 'error during repin'),type:"error"})),F?.()}}:I;return((0,l.useEffect)(()=>{Q&&!X.current&&L&&!el&&(Z({action:"trigger",item:"unauth-save-button-quicksave"}),O({event_type:14581}),eo(),N((0,b.e2)())),X.current=Q}),L)?J({fn:e=>{e.stopPropagation(),e.preventDefault(),j&&j(e),D?D&&A&&A(e):eo()},modalHeader:(0,f.Bx)(B)}):null}},684692:function(e,n,a){a.d(n,{o:()=>o});var l=a(111330),i=a(753143),t=a(982234),r=a(341958);let o=({canUpsellNativeApp:e,isAuthenticated:n})=>{let a;if(!n)return"unauthPostDownloadUpsell";if("undefined"==typeof window)return a;let o=(0,i.M0)().getItem(l.CP),s=!!(o&&Date.now()-Number(o)<864e5),d=Number((0,i.M0)().getItem(l.X)||0)>=3;if(!(0,t.Z)(l.aA)||!(0,t.Z)(l.Kr))return a;let u=(0,i.M0)().getItem(l.aA),c=(Date.now()-Number(u)<r.U?(0,i.M0)().getItem(l.Kr):0)>=r.k;return!e||s||d?c||(a="saveSend"):a="appUpsell",a}},779771:function(e,n,a){function l(e){let n=Object.keys(e);return n.length>0?n.sort((n,a)=>e[a]-e[n]).slice(0,3):null}function i(e){let n=Object.values(e);return n.length>0?n.reduce((e,n)=>e+n,0):0}function t({boardIsCollaborative:e,isDownstreamPromotion:n,isPromoted:a,storyPinDataId:l,videosId:i,isEligibleForStaticImageIdeaPin:t}){return!a&&!n&&(!!i||!!l)&&(null==e||!e)&&!t}a.d(n,{At:()=>l,J6:()=>t,Ud:()=>i})},849126:function(e,n,a){a.d(n,{Z:()=>C});var l,i,t=a(281098),r=a(581722);a(167912);var o=a(20256),s=a(667835),d=a(364843),u=a(415546),c=a(19585),p=a(15667),g=a(886981),m=a(647709),_=a(793698),h=a(667294),y=a(877956),f=a(821342),k=a(226967),x=a(13020),S=a(675973),b=a(102267),P=a(273849),v=a(690074),w=a(785893);let T=(void 0!==l||(l=a(194104)).hash&&"7f5632f86cee32cde1e56f7cde971e76"!==l.hash&&console.error("The definition of 'SaveButtonPinCard_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),I=({buttonText:e,clientTrackingParams:n,color:a="red",deviceType:l,experience:i,hasQuickSave:s,hasSaveHandoffExperience:d,inline:p=!0,isLegoSaveStyle:g,onTouch:m,onUnsave:_,pinId:I,pinKey:C,pinnedToBoardId:E,shape:F,shouldShowSavedButton:j,to:A,viewParameter:L,viewType:R})=>{(0,t.Z)("SaveButton","/app/www/SaveButton.tsx");let D=(0,c.Z)(),K=(0,r.I0)(),B=(0,y.Ig)(),O=(0,f.Z)(),{checkExperiment:Z}=(0,S.Z)();(0,h.useEffect)(()=>{i&&i.placement_id&&K(B(i.placement_id,i.experience_id))},[i,K,B]);let N=(0,u.Z)(T,C)?.isPromoted,M=(0,P.Z)({clientTrackingParams:n,experience:i,hasSaveHandoffExperience:d,isPromoted:N,onTouch:m,onUnsave:_,pinId:I,pinnedToBoardId:E,shouldShowSavedButton:j}),U=e=>{(()=>{let e,n=["enabled_remove_all_boardless_saves","enabled_remove_quick_save"];if(!O.isAuth)return!1;let a=O.pinCount&&O.pinCount>0||O.boardCount&&O.boardCount>0||!1;return((0,k.Z)(O.createdAt)?e=Z("ap_mweb_new_user_disable_quick_save",{dangerouslySkipActivation:a}).group:(0,x.Z)(null,O)&&(e=Z("ap_mweb_res_user_disable_quick_save",{dangerouslySkipActivation:a}).group),!a&&e&&n.includes(e)&&K((0,v.W)(1)),"enabled_limit_quick_save"===e&&O.pinCount&&O.pinCount>=6)?(K((0,v.W)(1)),!0):e&&n.includes(e)})()?m&&m(e):M&&M(e)},z={accessibilityLabel:D._('Pin', 'Pin accessibility label', 'Pin accessibility label'),color:a,inline:g?void 0:p,minHeight:g?48:void 0,onTouch:s?U:m,onUnsave:s?U:_,pressState:"compress",shape:g?"pill":F,size:"lg",text:e||D._('Save', 'Auth mobile web save button for pin closeup', 'Auth mobile web save button for pin closeup'),to:A,unsaveAccessibilityLabel:D._('Saved', 'SaveButton.ExperimentalSavedButtonAccessibilityLabel', 'Accessibility label on a saved button - Pin has already been saved')},V=j?(0,w.jsx)(o.xu,{role:"button",children:(0,w.jsx)(o.zx,{accessibilityLabel:z.unsaveAccessibilityLabel,fullWidth:z.inline,onClick:({event:e})=>{z.onUnsave?.(e)},selected:!0,size:z.size,text:z.text})}):(0,w.jsx)(b.M,{...z,clientTrackingParams:n,deeplinkUri:"deeplinkUri",deviceType:l,isActionButton:!0,upsellType:"save",viewParameter:L,viewType:R,children:(0,w.jsx)(o.xu,{role:"button",children:(0,w.jsx)(o.zx,{accessibilityLabel:z.accessibilityLabel,color:"red",fullWidth:z.inline,size:z.size,text:z.text})})});return(0,w.jsx)(o.xu,{"data-test-id":j?"saved-button-mobile":"save-button-mobile",children:V})};function C({buttonText:e,clientTrackingParams:n,pinRef:l,pinId:h,pinnedToBoardId:y,shouldShowSavedButton:f,to:k,...x}){(0,t.Z)("SaveButtonContainer","/app/www/SaveButtonContainer.tsx");let S=(0,c.Z)(),b=(0,m.ZP)(),{isAuthenticated:P}=(0,p.B)(),v=(0,_.LO)(),T=P?v:null,C=(({i18n:e,isSaved:n})=>{let a=(0,s.Yc)();return n?{buttonText:e._('Saved', 'closeup.savedButton.text', 'Auth mobile web save button for pin closeup when user has saved the Pin being viewed'),color:a?"darkGray":"white",inline:!1}:Object.freeze({})})({i18n:S,isSaved:f});(0,g.Z)(T?{name:"UserResource",options:{user_id:T.id,field_set_key:"save_behavior"}}:null);let E=T?.save_behavior,F=(0,r.v9)(({session:e})=>e.unauthSavePinId),j=P&&!!F,A=(0,d._P)({id:1000152}),L=0===E||j,R=(void 0!==i||(i=a(525516)).hash&&"865d58a2663c75bbb617f694de0d85d0"!==i.hash&&console.error("The definition of 'SaveButtonContainer_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),D=(0,u.Z)(R,l);return(0,w.jsx)(o.xu,{"data-test-id":"standard-save-button",children:(0,w.jsx)(I,{clientTrackingParams:n,deviceType:b,experience:A,hasQuickSave:L,hasSaveHandoffExperience:j,pinId:h,pinKey:D,pinnedToBoardId:y,shouldShowSavedButton:f,to:k,...x,...C,isLegoSaveStyle:!0})})}},341958:function(e,n,a){a.d(n,{U:()=>l,k:()=>i});let l=864e5,i=2},829365:function(e,n,a){a.d(n,{Z:()=>o});var l=a(281098),i=a(667294),t=a(20256),r=a(785893);class o extends i.Component{componentDidMount(){this.anchor&&(!this.props.hash||this.props.hash&&`#${this.props.hash}`===window.location.hash)&&(this.anchor.scrollIntoView(),this.props.offset&&window.scrollBy(0,this.props.offset))}render(){(0,l.Z)("ScrollTo","/app/www/ScrollTo.tsx");let e=this.props.children?i.Children.only(this.props.children):null;return(0,r.jsx)(t.xu,{ref:e=>{this.anchor=e},children:e})}}},551651:function(e,n,a){a.d(n,{Z:()=>u});var l=a(281098),i=a(667294),t=a(346955),r=a(503246),o=a(706753),s=a(785893);class d extends i.Component{componentDidMount(){let{setCurrentPageData:e,viewData:n,viewParameter:a,viewType:l}=this.props;e({viewData:n,viewParameter:a,viewType:l})}componentDidUpdate(e){let{setCurrentPageData:n,viewData:a,viewParameter:l,viewType:i}=this.props;l===e.viewParameter&&i===e.viewType&&(0,r.ZP)(a,e.viewData)||n({viewData:a,viewParameter:l,viewType:i})}componentWillUnmount(){this.props.clearCurrentPageData()}render(){let{auxData:e,children:n,component:a,objectIdStr:l,viewData:i,viewParameter:t,viewType:r,clientTrackingParams:d}=this.props;return(0,s.jsx)(o.Z,{auxData:e,clientTrackingParams:d,component:a,objectIdStr:l,viewData:i,viewParameter:t,viewType:r,children:n})}}function u(e){(0,l.Z)("PageView","/app/www/analytics/PageView.tsx");let{setViewContextData:n,clearViewContextData:a}=(0,t.A$)();return(0,s.jsx)(d,{...e,clearCurrentPageData:a,setCurrentPageData:n})}},706753:function(e,n,a){a.d(n,{Z:()=>r});var l=a(667294),i=a(521009),t=a(941404);function r(e){let{auxData:n,clientTrackingParams:a,children:r,component:o,element:s,objectIdStr:d,viewData:u,viewParameter:c,viewType:p}=e,g=(0,i.Z)(),m=JSON.stringify(n),_=JSON.stringify(u);return(0,l.useEffect)(()=>{(({viewType:e,viewParameter:n,viewData:a,auxData:l,objectIdStr:i,component:r,clientTrackingParams:o,element:s},d)=>{let u,c=Object.keys(u={event_type:13,view_type:e,view_parameter:n,view_data:a,aux_data:l,object_id_str:i,component:r,clientTrackingParams:o,element:s}).reduce((e,n)=>(void 0===u[n]&&delete e[n],e),{...u});-1===Object.keys(c).indexOf("view_type")&&(0,t.My)("mweb.logging.null_view_type"),d(c)})(e,g)},[g,m,a,o,s,d,_,c,p]),l.Children.only(r)}},5630:function(e,n,a){a.d(n,{Z:()=>t});var l=a(319227),i=a(788743);function t({action:e,collaboratedByMe:n,collaboratorPermissions:a,ownerId:t}){let r=(0,l.Z)(t),o=(0,i.Z)(n);return r||o&&!!a?.includes(e)}},903098:function(e,n,a){a.d(n,{Z:()=>j});var l=a(281098),i=a(667294),t=a(20256),r=a(937805),o=a(525839),s=a(573631),d=a(291892),u=a(956077),c=a(15667),p=a(159527),g=a(647709),m=a(341742),_=a(35333),h=a(883379),y=a(785893);function f({children:e,isImagePinForUnauthOnTablet:n}){(0,l.Z)("ClickthroughOverlay","/app/www/closeup/duplo/ClickthroughOverlay.tsx");let{isAuthenticated:a}=(0,c.B)(),i=(0,h.Z)({skipExpActivation:!0});return(0,y.jsxs)(t.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{cursor:"pointer",width:n?"40vw":void 0}},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!n||void 0,top:!0,zIndex:a?void 0:_.eu,children:[(0,y.jsx)(t.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000",borderRadius:i?void 0:"6px 6px 0 0",WebkitTransition:"opacity .04s linear",transition:"opacity .04s linear"}},left:!0,opacity:.4,position:"absolute",right:!0,top:!0}),e]})}var k=a(417162),x=a(274320),S=a(607001),b=a(941404),P=a(572227),v=a(741155),w=a(334536);function T({setShowClickthroughOverlay:e,isEligibleForPdp:n,isEligibleForDesktopSocialInviteOverlay:a,inviterFirstName:l}){let r=(0,o.ZP)(),s=(0,P.Z)(),d=(0,S.Z)(),u=(0,i.useRef)(null),c="desktop"===(0,g.ZP)(),p=l&&a,m=p&&(r._('Sign up to join {{ name }} on Pinterest', 'pin.closeup.wash.desktop.shareNotification', 'Clickthrough overlay for desktop users that a sender ({{ name }}) shared a Pin to them, name: username')).replace("{{ name }}",l),_=r._('Click to make the most out of this idea with a free account', 'web.unauth.plp.clickable_wash.header', 'Copy shown on hover to sign up for an account'),h=r._('Tap to make the most out of this idea with a free account', 'mweb.unauth.plp.clickable_wash.header', 'Pin clickable wash header text'),f=(0,v.Z)(),{checkExperiment:T}=(0,x.r)(),I=(0,k.g)();return(0,y.jsx)(t.iP,{onMouseEnter:()=>{p&&(0,b.My)("dweb.main_pin.social.wash.view"),(0,b.My)("dweb.pin.wash.view")},onMouseLeave:()=>{p?s({action:"dismiss",item:"main-pin-social-wash"}):s({action:"dismiss",item:"main-pin-wash"})},onTap:({event:e})=>{c&&(e.preventDefault(),s({action:"click",item:"pin-image"}),a&&l&&s({action:"click",item:"main-pin-social-wash"}),s({action:"click",item:"main-pin-image-signup-modal"}),T("migration_upsell_manager_redux").anyEnabled||T("migration_upsell_manager_redux_dweb").anyEnabled||T("migration_upsell_manager_redux_mweb").anyEnabled?f((0,w.QA)()):["enabled_all_improved","enabled_all","enabled_pin_wash"].includes(T("dweb_signup_to_login_modal_q2_push").group)?I?.showDesktopSignupModal({signupFlow:{type:"login"},attributionLabel:"click_closeup",container:"pinWash",reason:"UPSELL_LOGIN_OR_SIGNUP"}):d({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_closeup",desktopOptions:{modalType:"signup",modalOptions:{source:"defaultSource",container:"pinWash"}}}),n&&s({action:"click",item:"pdp-pin-image"}))},children:(0,y.jsxs)(t.xu,{zIndex:new t.Ry(2),children:[(0,y.jsx)(t.xu,{ref:u,alignItems:"center",bottom:!0,"data-test-id":"main-pin-hover-overlay",direction:"column",display:"flex",height:"100%",justifyContent:a?"center":void 0,left:!0,position:"absolute",right:!0,top:!0,width:"100%",children:(0,y.jsx)(t.xu,{alignItems:"center",direction:"column",display:"flex",maxWidth:240,paddingY:10,children:(0,y.jsx)(t.xu,{marginTop:8,children:(0,y.jsx)(t.X6,{align:"center",color:"light",size:p?"600":"400",children:c?m||_:h})})})}),!c&&(0,y.jsx)(t.xu,{marginEnd:4,marginTop:4,position:"absolute",right:!0,top:!0,children:(0,y.jsx)(t.hU,{accessibilityLabel:r._('Close pin clickable wash', 'mweb.unauth.plp.clickable_wash.close_button', 'Close button'),icon:"cancel",iconColor:"white",onClick:({event:n})=>{n.stopPropagation(),e&&(e(!1),s({action:"dismiss",item:"main-pin-hover-overlay"}))},size:"md"})})]})})}var I=a(326113),C=a(867552),E=a(603316),F=a(756334);let j=e=>{(0,l.Z)("CloseupImage","/app/www/closeup/duplo/CloseupImage.tsx");let n=(0,o.ZP)(),{alt:a,clickthroughOverlayOptions:_,color:k,isFlashlightPage:x,naturalHeight:S,naturalWidth:b,placeholder:P,pwtElementTimingId:v,pwtSurfaceContext:w,setShowClickthroughOverlay:j,showSpinner:A,src:L,stickyFooter:R,isEligibleForPdp:D}=e,K=!(0,s.b)(),{isAuthenticated:B}=(0,c.B)(),O=(0,g.ZP)(),Z=(0,i.useRef)(null),N=(0,h.Z)({skipExpActivation:!0}),M=(0,i.useRef)(!1),{mWebCloseupRedesignEnabled:U}=(0,r.Z)(),[z,V]=(0,i.useState)(!K||!!L&&!!P&&P===L),G=(0,i.useRef)(""),H=()=>{(0,u.Nx)("PinPageMainImageRendered"),w&&w.markConstraintComplete("PinPageMainImageRendered"),M.current||((0,E.nP)("mweb.closeup.closeup_image.load"),M.current=!0)};(0,i.useEffect)(()=>{let e=new Image;e.onload=()=>V(!0),e.src=L},[]);let W=(0,i.useRef)((0,C.u)()?.setHasScrolledPastMainContent);(0,i.useEffect)(()=>{let e=(0,p.Z)(()=>{if(Z.current){let n=window.scrollY>Z.current.offsetTop+Z.current.offsetHeight;W.current?.(n),n&&window.removeEventListener("scroll",e)}},10);window.addEventListener("scroll",e)},[]),(0,m.Z)(()=>{L||(0,E.nP)("mweb.closeup.closeup_image.no_image_url"),(0===S||0===b)&&(0,E.nP)("mweb.closeup.closeup_image.invalid_dimensions")});let Y=!x&&"tablet"===O,q=K?(0,y.jsx)(d.Z,{alt:a,color:k,elementTiming:v,naturalHeight:S,naturalWidth:b,onLoad:H,src:P}):null,$=I.Hg;return(x||"phone"===O||N)&&($="100%"),(0,y.jsx)(F.Z,{metricName:"CloseupImage",children:(0,y.jsxs)(t.xu,{ref:Z,"data-test-id":"pin-closeup-image",maxHeight:"100%",maxWidth:"tablet"===O?I.g6:void 0,minHeight:"auto",overflow:R?void 0:"hidden",position:"relative",rounding:6*(!x&&"phone"!==O),width:$,children:[!B&&_&&(0,y.jsx)(f,{isImagePinForUnauthOnTablet:!1,children:(0,y.jsx)(T,{inviterFirstName:G.current,isEligibleForPdp:D,setShowClickthroughOverlay:j})}),q&&(Y?(0,y.jsx)(t.xu,{overflow:"hidden",rounding:6,children:q}):q),(0,y.jsx)(t.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{opacity:+!!z,transition:z&&"desktop"!==O?"opacity .5s ease-in-out":void 0,backgroundColor:k}},left:!0,overflow:Y?"hidden":void 0,position:K?"absolute":"relative",right:!0,rounding:Y?6:5,top:!0,children:K?(0,y.jsx)(t.Ee,{alt:a,fetchPriority:U?"high":void 0,naturalHeight:S,naturalWidth:b,role:U?"img":void 0,src:L}):(0,y.jsx)(d.Z,{alt:a,color:k,elementTiming:v,fetchPriority:U?"high":void 0,naturalHeight:S,naturalWidth:b,onLoad:H,src:L})}),A&&(0,y.jsx)(t.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{opacity:+!z,transition:z?"opacity .5s ease-in-out":void 0}},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,top:!0,children:!z&&(0,y.jsx)(t.kC,{alignItems:"center",justifyContent:"start",children:(0,y.jsx)(t.xH,{accessibilityLabel:n._('Loading image', 'Loading higher resolution image', 'Loading higher resolution image'),show:!0})})}),R]})})}},558543:function(e,n,a){a.d(n,{Z:()=>o});var l=a(281098),i=a(20256),t=a(525839),r=a(785893);function o(){(0,l.Z)("CloseupPageLoadingSpinner","/app/www/closeup/duplo/CloseupPageLoadingSpinner.tsx");let e=(0,t.ZP)();return(0,r.jsx)(i.xu,{padding:5,children:(0,r.jsx)(i.xH,{accessibilityLabel:e._('Loading pin data', 'closeupPage.loadingPinData', 'accessibility label for pin loading spinner'),show:!0})})}},992011:function(e,n,a){a.d(n,{Z:()=>o}),a(281098);var l=a(20256),i=a(667835),t=a(93966),r=a(785893);let o=function({marginStart:e=t.D6}){let n=(0,i.vs)();return(0,r.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:`${-(4*e)}px`,marginRight:`${-(4*e)}px`,backgroundColor:n?i.Ov:"#E9E9E9"}},height:1})}},683665:function(e,n,a){a.d(n,{Z:()=>P});var l,i=a(281098),t=a(667294),r=a(581722);a(167912);var o=a(20256),s=a(937805),d=a(521009),u=a(744862),c=a(415546),p=a(709311),g=a(525839),m=a(302148),_=a(274320),h=a(15667),y=a(99507),f=a(38817),k=a(676244),x=a(793698),S=a(785893);let b=(void 0!==l||(l=a(898418)).hash&&"a988d3633b518b52f6fe0932d6af2bdc"!==l.hash&&console.error("The definition of 'OfficialUserAttribution_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l);function P({hideFollowButton:e,hideFollowerCount:n,viewerId:a,justifyContent:l,avatarSize:P,seeMoreButton:v,pinKey:w,clientTrackingParams:T,isSmallAvatarEnabled:I}){(0,i.Z)("OfficialUserAttribution","/app/www/closeup/duplo/OfficialUserAttribution.tsx");let C=(0,g.ZP)(),{isAuthenticated:E}=(0,h.B)(),F=(0,c.Z)(b,w),{checkExperiment:j}=(0,_.r)(),A=j("closeup_attribution_overhaul").anyEnabled?F?.closeupUnifiedAttribution:F?.closeupAttribution,L=(0,x.mN)()(A?.entityId??""),R=L?.avatar_color_index,D=(0,r.I0)(),K=(0,t.useRef)(null),B=(0,d.Z)(),{mWebCloseupRedesignEnabled:O}=(0,s.Z)(),[Z,N]=(0,t.useState)(L?L.explicitly_followed_by_me:A?.followedByMe);if(!A)return null;let M=F?.entityId,U=F?.imageSignature,z=A.entityId,V=A.imageMediumUrl,G=A.followerCount,H=A.username??"",W=!!A.isAdsOnlyProfile,Y=A.adsOnlyProfileSite,q=W&&Y,$=q&&Y?Y:`/${!E?H.toLowerCase():H}/`;return(0,S.jsxs)(o.xu,{alignItems:"center","data-test-id":"official-user-attribution",direction:"row",display:"flex",justifyContent:O?"start":l||"center",children:[(0,S.jsx)(o.kC,{alignItems:"stretch",flex:"shrink",height:O?16:void 0,justifyContent:"start",width:O?16:void 0,children:(0,S.jsx)(o.Tg,{dataTestId:"creator-profile-link",href:$,onTap:()=>{q&&B({event_type:9371,element:13382,component:123})},rel:q?"nofollow":"none",target:q?"blank":null,children:(0,S.jsx)(u.qE,{color:R,name:H??"",size:O?"fit":P||"md",src:V??""})})}),(0,S.jsxs)(o.xu,{"data-test-id":"follower-count",direction:"column",display:"flex",justifyContent:"center",marginStart:I?1:2,minWidth:0,children:[(0,S.jsx)(y.Z,{fontWeight:"bold",pinKey:F,size:O?"100":void 0}),!n&&E&&!O&&(0,S.jsx)(o.xv,{size:"200",children:(0,m.nk)(C.ngettext('{{ followerCount }} follower', '{{ followerCount }} followers', G ?? 0, 'closeup.officialUser.followerCount', 'Official user\'s follower count followerCount: number of followers'),{followerCount:(0,S.jsx)(p.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:G??0},G)})})]}),v,!e&&!O&&(0,S.jsx)(t.Fragment,{children:(0,S.jsx)(o.xu,{ref:K,"data-test-id":"follow-button-box",marginStart:"auto",children:(0,S.jsx)(f.Z,{auxData:M&&U?{pin_id:M,image_signature:U}:void 0,clientTrackingParams:T,followEventType:45,id:z,isFollowed:Z,isUserFollowButton:!0,isUserMe:a===z,onFollow:e=>{N(!0),D((0,k.ZN)(e,null,T))},onUnfollow:e=>{N(!1),D((0,k.fv)(e,null,T))},pinKey:F,shouldUseLegoColors:!0,size:"lg",unfollowEventType:46,viewType:3})})})]})}},99507:function(e,n,a){a.d(n,{Z:()=>g});var l,i=a(281098);a(167912);var t=a(20256),r=a(521009),o=a(415546),s=a(274320),d=a(15667),u=a(732690),c=a(785893);let p=(void 0!==l||(l=a(808060)).hash&&"69e36f7a234f12a1123e838fc44343f7"!==l.hash&&console.error("The definition of 'OfficialUserAttributionText_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l);function g({getDisplayName:e,fontWeight:n="normal",onMouseDown:a,pinKey:l,size:g}){(0,i.Z)("OfficialUserAttributionText","/app/www/closeup/duplo/OfficialUserAttributionText.tsx");let m=(0,r.Z)(),{isAuthenticated:_}=(0,d.B)(),{checkExperiment:h}=(0,s.r)(),y=h("closeup_attribution_overhaul").anyEnabled,f=(0,o.Z)(p,l),k=y?f?.closeupUnifiedAttribution:f?.closeupAttribution;if(!k)return null;let{adsOnlyProfileSite:x}=k,S=k.fullName??"",b=k.isAdsOnlyProfile??!1,P=!!k.isVerifiedMerchant,v=k.username??"",w=k.verifiedIdentity?.verified,T=P||w,I=b&&x,C=I&&x?x:`/${!_?v.toLowerCase():v}/`,E=e?e(S):S;return(0,c.jsx)(t.Tg,{href:C,onMouseDown:()=>{a&&a()},onTap:()=>{I&&m({event_type:9371,element:13382,component:123})},rel:I?"nofollow":"none",target:I?"blank":null,children:(0,c.jsxs)(t.kC,{alignItems:"center",direction:"row",justifyContent:"start",minWidth:0,children:[(0,c.jsx)(t.xu,{"data-test-id":"creator-profile-name",children:(0,c.jsx)(t.xv,{lineClamp:1,size:g,weight:n,children:E})}),T&&(0,c.jsx)(t.xu,{marginEnd:2,marginStart:1,children:(0,c.jsx)(u.Z,{isVerifiedMerchant:P,showVerifiedIdentity:!P,size:"sm"})})]})})}},170711:function(e,n,a){a.d(n,{AI:()=>r,IN:()=>i,V3:()=>o,ow:()=>t});var l=a(20256);let i=3,t=new l.Ry(2),r=new l.Ry(1),o=new l.Ry(4)},19522:function(e,n,a){a.d(n,{Z:()=>_});var l=a(20256),i=a(296691),t=a(624895),r=a(274320),o=a(821806),s=a(607001),d=a(572227),u=a(741155),c=a(334536),p=a(542092),g=a(883379),m=a(785893);function _(e){let{clientTrackingParams:n,viewParameter:a,isStoryPin:_}=e,h=(0,s.Z)(),y=(0,d.Z)(),{checkExperiment:f}=(0,r.r)(),k=(0,u.Z)(),x=f("migration_upsell_manager_redux").anyEnabled||f("migration_upsell_manager_redux_dweb").anyEnabled||f("migration_upsell_manager_redux_mweb").anyEnabled,S=(0,g.Z)({skipExpActivation:!0});return(0,m.jsx)(o.Z,{fallback:null,children:(0,m.jsx)(l.xu,{bottom:!!S,color:S?"default":void 0,dangerouslySetInlineStyle:S?{__style:{position:"sticky",paddingBottom:"12px",borderBottomRightRadius:"32px"}}:void 0,"data-test-id":"unauth-comment-composer",marginTop:4,children:(0,m.jsx)(t.Z,{clientTrackingParams:n,commentWarningModalState:i.A9.NONE,dismissCommentWarningModal:()=>{},objectType:p.o.pin,onEnter:()=>{y({action:"click",item:_?"comment-compose-story-pin":"comment-compose-pin",within:"comment-composer-modal"}),x?k((0,c.WE)()):h({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:"tap_unauth_comment_composer",desktopOptions:{modalType:"login",modalOptions:{source:"commentComposer",container:"closeup"}}})},statusType:"textStaticDisplay",viewParameter:a})})})}},805137:function(e,n,a){a.d(n,{Z:()=>l});function l({canUpsellNativeApp:e,downloadImageUrl:n,pinId:a,shouldShowReactions:l,isAuthenticated:i,shouldShowVisitInMoreOptions:t}){return a?{react:l,editPin:i,downloadImageUrl:n,openInApp:e,reportPin:i,sendPin:l,visitPin:t,hidePin:i,seeLess:i,seeMore:i}:Object.freeze({})}},591003:function(e,n,a){a.d(n,{v:()=>l});let l="imgViewer"},700012:function(e,n,a){a.d(n,{Z:()=>i});var l=a(805137);function i(e,n,a){let i=(0,l.Z)(e);return!!(i.react||i.openInApp||i.sendPin||i.downloadImageUrl||i.reportPin||i.visitPin||n||a||i.hidePin)}},931073:function(e,n,a){a.d(n,{Z:()=>m});var l,i=a(281098),t=a(667294),r=a(167912),o=a(825332),s=a(821806),d=a(710782),u=a(169053),c=a(785893);let p=(0,t.lazy)(()=>a.e("58239").then(a.bind(a,330818))),g=(void 0!==l||(l=a(712553)).hash&&"dd5623c0c7ff2bcd752285dfed3e4aa7"!==l.hash&&console.error("The definition of 'UnauthContextMenuController_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l);function m({graphqlRef:e,children:n,onSendButtonClick:a}){(0,i.Z)("UnauthContextMenuController","/app/www/closeup/duplo/unauth/UnauthContextMenuController.tsx");let l=(0,r.useFragment)(g,e)??null,[m,_]=(0,t.useState)(null),[h,y]=(0,t.useState)(""),[f,k]=(0,t.useState)("default"),{pathname:x}=(0,o.TH)(),S=!!m,b=(0,t.useMemo)(()=>({modal:{isShown:S},showUnauthContextMenu:({location:e,pinId:n,vaseSection:a,showSaveCount:l,seoDrawerOptions:i,seoDrawerModalBody:t,isUnauthAmazonModuleAd:r})=>{_({vaseSection:a,seoDrawerOptions:i,showSaveCount:l,seoDrawerModalBody:t,isUnauthAmazonModuleAd:r}),y(n),k(e)},dismissMobileUnauthContextMenu:()=>_(null)}),[S]);(0,t.useEffect)(()=>{_(null)},[x]);let P=(0,u.S6)()(h),v=l||(P?{type:"deprecated",data:P}:null);return(0,c.jsxs)(d.M,{value:b,children:[n,m&&v&&(0,c.jsx)(s.Z,{children:(0,c.jsx)(p,{isUnauthAmazonModuleAd:m.isUnauthAmazonModuleAd,location:f||"default",onDismiss:b.dismissMobileUnauthContextMenu,onSendButtonClick:a,pinKey:v,seoDrawerModalBody:m.seoDrawerModalBody,seoDrawerOptions:m.seoDrawerOptions,showSaveCount:m.showSaveCount,vaseSection:m.vaseSection})})]})}},370677:function(e,n,a){a.d(n,{Z:()=>t});var l=a(274320),i=a(15667);function t(e,n){let{countryFromIp:a,country:t}=(0,i.B)(),{checkExperiment:r}=(0,l.r)();if(n||!e||!["US"].includes(a||t))return!1;let{anyEnabled:o}=r("mweb_closeup_unauth_asr_module");return o}},171023:function(e,n,a){a.d(n,{Z:()=>s,m:()=>o});var l=a(281098),i=a(667294),t=a(785893);let r=(0,i.createContext)({isScrolledToPins:!1,scrollToPins:()=>{}});function o({children:e}){(0,l.Z)("useRelatedPinsScrollContext","/app/www/closeup/duplo/useRelatedPinsScrollContext.tsx");let[n,a]=(0,i.useState)(!1),o=(0,i.useMemo)(()=>({isScrolledToPins:n,scrollToPins:a}),[n,a]);return(0,t.jsx)(r,{value:o,children:e})}let s=()=>((0,l.Z)("useRelatedPinsScrollContext","/app/www/closeup/duplo/useRelatedPinsScrollContext.tsx"),(0,i.useContext)(r))},6129:function(e,n,a){a.d(n,{Z:()=>t,j:()=>l});let{Provider:l,get:i}=(0,a(729434).Z)("MoreLikeThisContext"),t=i},326972:function(e,n,a){a.r(n),a.d(n,{default:()=>_});var l=a(281098),i=a(667294),t=a(616550),r=a(20256),o=a(521009),s=a(821342),d=a(525839),u=a(572227),c=a(341742),p=a(680288),g=a(716751),m=a(785893);function _({pinId:e,padding:n,withReactions:a=!0,onCommentButtonClick:_}){(0,l.Z)("CommentThreadModalEntryPoint","/app/www/comments/CommentThreadModalEntryPoint.tsx");let h=(0,d.ZP)(),y=(0,o.Z)(),{comment_id:f}=(0,t.UO)(),{unauthCommentPinId:k}=(0,g.o)(),{isStoryPin:x,commentModalConfig:{isCommentThreadModalOpen:S,setIsCommentThreadModalOpen:b}}=(0,p.B)(),{isAuth:P}=(0,s.Z)(),v=(0,u.Z)(),w=h._('comments', 'closeup.storyPin.actionBar.commentThread', 'Comments entry point');return(0,c.Z)(()=>{!S&&(f||P&&k&&e&&k===e)&&b(!0)}),(0,m.jsx)(i.Fragment,{children:(0,m.jsx)(r.xu,{"data-test-id":"comment-button",children:(0,m.jsx)(r.hU,{accessibilityLabel:w,icon:P&&a?"speech-heart":"speech-outline",onClick:()=>{P||v({action:"click",item:"comment-button"}),y({event_type:102,element:2,view_type:3}),y({component:x?13801:13464,element:x?10944:2,event_type:10554,view_type:x?1:3}),b(!0),_&&_()},padding:n,size:"lg"})})})}},500908:function(e,n,a){a.d(n,{EU:()=>r,IO:()=>t,ZR:()=>o,rT:()=>i,zu:()=>l});let l="OPEN_UNAUTH",i=["US","CA","NZ","AU"],t=new Set(["GB","IE"]),r=new Set(["AT","BE","CH","DE","DK","ES","FR","IT","NL","NO","PT","SE"]),o=new Set(["BR","MX","AR","CL","CO","PE"])},42359:function(e,n,a){a.d(n,{Z:()=>i});var l=a(603316);let i=e=>{(0,l.nP)(`closeup.image.clicked.${e}`,{sampleRate:1,tags:{platform:"mobile"}})}},747129:function(e,n,a){function l(e){return!!e?.is_matured_new_user}a.d(n,{IR:()=>r,V0:()=>l,Wn:()=>t,xT:()=>i});let i=e=>!!e&&2===e.login_state,t=e=>!!(e&&e.match(/\/static\/images\/user\/default_\d+\.png$/))||!!(e&&e.match(/\/images\/user\/default_\d+\.png$/));function r(e){return!e||void 0===e.third_party_marketing_tracking_enabled||null===e.third_party_marketing_tracking_enabled||e.third_party_marketing_tracking_enabled}},326113:function(e,n,a){a.d(n,{$K:()=>r,Hg:()=>i,g6:()=>t,w6:()=>l});let l=(e,n)=>Array.from({length:n-e},(n,a)=>a+e),i=508,t=600;function r(e){return null!=e}},640168:function(e,n,a){a.d(n,{Z:()=>l});let l=({name:e,width:n,height:a})=>{let l=`${n}${"number"==typeof n?"px":""}`,i=`${a}${"number"==typeof a?"px":""}`,t="number"==typeof n?n:236;return`
.${e} {
  -webkit-animation-duration: 1s;
  -webkit-animation-fill-mode: forwards;
  -webkit-animation-iteration-count: infinite;
  -webkit-animation-name: ${e}_placeHolderShimmer;
  -webkit-animation-timing-function: linear;
  border-radius: 16px;
  background: #f6f7f9;
  background-image: linear-gradient(to right, #f6f7f9 0%, #e9ebee 20%, #f6f7f9 40%, #f6f7f9 100%);
  background-repeat: no-repeat;
  background-size: ${t} ${i};
  width: ${l};
  height: ${i};
}

@keyframes ${e}_placeHolderShimmer{
  0% {
      background-position: -${t}px 0;
  }
  100% {
      background-position: ${t}px 0;
  }
}
`}},156618:function(e,n,a){a.d(n,{Bb:()=>_,Bx:()=>o,F4:()=>r,Qj:()=>s,_6:()=>m,gv:()=>t,hg:()=>d,is:()=>p,jP:()=>g,lt:()=>i,oM:()=>u,wI:()=>c});var l=a(378888);let i=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),t=({firstName:e,i18n:n})=>e?(n._('{{ name }} invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends({{ name }}) board')).replace("{{ name }}",e):n._('Your friends invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends board'),r=e=>{let n=(0,l.mB)(e.search).board_url;if(n){let e=(0,l.Jx)(n),a=(0,l.XP)({accept_invite:!0,seamless:!0});return e.includes("?")?`${e}&${a}`:`${e}?${a}`}return e.pathname},o=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),s=e=>{let n=e.pathname;if(n.startsWith("/pin/")){let e=n.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/repin/`}return n},d=e=>e._('Log in to send this Pin', 'limitedLogin.modalHeader.send', 'Title on mobile web limited login modal to prompt users to login after they clicked send button.'),u=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),c=e=>{let n=e.pathname;if(n.startsWith("/pin/")){let e=n.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/edit/`}return n},p=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.'),g=e=>e._('Log in to hide this Pin', 'limitedLogin.modalHeader.hidePin', 'Title on mobile web limited login modal to prompt users to login after they clicked hide Pin button.'),m=e=>e._('Log in to share the profile', 'limitedLogin.modalHeader.shareProfile', 'Title on mobile web limited login modal to prompt users to login after they clicked share button on profile page.'),_=e=>e._('Log in to create a board', 'limitedLogin.modalHeader.createBoard', 'Title on mobile web limited login modal to prompt users to login to create a board.')},979922:function(e,n,a){a.d(n,{BT:()=>K,Du:()=>O,Fh:()=>F,HY:()=>B,HZ:()=>A,IY:()=>D,Jw:()=>f,Kp:()=>z,L7:()=>l,LT:()=>c,Lj:()=>M,Nw:()=>w,Q_:()=>v,Qc:()=>i,R5:()=>I,RA:()=>T,Tt:()=>E,UF:()=>d,UV:()=>r,VB:()=>x,W1:()=>t,Ws:()=>p,X5:()=>C,Yt:()=>R,ZW:()=>s,cK:()=>S,cy:()=>y,fA:()=>N,fn:()=>L,gm:()=>k,h7:()=>P,k:()=>_,mE:()=>U,o4:()=>m,oL:()=>Z,qf:()=>g,tr:()=>u,uD:()=>b,uO:()=>h,vF:()=>o,wJ:()=>j});let l=1,i=2,t="female",r="male",o="unspecified",s="en-US",d="US",u=3,c="Welcome",p="Gender",g="CountryLocale",m="InterestPicker",_="UseCase",h="PinPicker",y="LoadingStep",f="AppInstall",k="NUX_PIN_PICKER_STEP_STATUS",x="NUX_USE_CASE_STEP_STATUS",S={NUX_GENDER_STEP_NAME:p,NUX_COUNTRY_LOCALE_STEP_NAME:g,NUX_INTEREST_PICKER_STEP_NAME:m,NUX_USE_CASE_STEP_NAME:_,NUX_PIN_PICKER_STEP_NAME:h,NUX_LOADING_STEP_NAME:y,NUX_APP_INSTALL_STEP_NAME:f},b=2,P=3,v=6,w=112,T=160,I=60,C=1e3,E=2500,F=1900,j=2e3,A=3,L=5,R=1,D=2,K=3,B=3,O=5e3,Z=250,N=1e10,M=507641,U=300,z=200},164921:function(e,n,a){a.d(n,{Z:()=>tR});var l,i,t,r,o,s,d,u,c,p,g,m,_,h,y,f,k,x,S,b,P,v,w,T,I,C,E,F,j,A,L,R,D,K,B,O=a(281098),Z=a(667294),N=a(581722),M=a(422578),U=a(616550),z=a(825332),V=a(20256),G=a(890479),H=a(111330),W=a(417162),Y=a(510928),q=a(741272),$=a(364843),X=a(821342),Q=a(415546),J=a(390843),ee=a(573631),en=a(527728),ea=a(453179),el=a(274320),ei=a(67831),et=a(956077),er=a(15667),eo=a(374078),es=a(378888),ed=a(634737),eu=a(647709),ec=a(341742),ep=a(634405),eg=a(394887),em=a(167912),e_=a(937805),eh=a(30216),ey=a(521009),ef=a(680713),ek=a(744862),ex=a(19585),eS=a(302148),eb=a(572227),eP=a(349188),ev=a(859685),ew=a(785893);function eT({onDismiss:e}){(0,O.Z)("SocialUnauthPinLandingReplyBannerUpsell","/app/packages/desktopLoginModal/SocialUnauthPinLandingReplyBannerUpsell.tsx");let n=(0,ex.Z)(),a=(0,W.g)(),l=(0,ev.cO)(),i=l?.data?.popoverData,{expGroup:t=""}=i||{},{trackConversionUpsell:r}=(0,eP.Z)(),o=(0,eb.Z)();if("enabled_banner_reply"!==t||!i)return null;let{inviterAvatarUrl:s,inviterName:d}=i;return(0,ew.jsx)(V.kC,{justifyContent:"center",children:(0,ew.jsx)(V.xu,{marginBottom:3,maxWidth:960,paddingX:5,children:(0,ew.jsxs)(V.xu,{alignItems:"center",borderStyle:"sm",display:"flex",paddingX:3,paddingY:2,rounding:4,children:[(0,ew.jsx)(V.xu,{marginEnd:2,children:(0,ew.jsx)(ek.qE,{name:d,outline:!0,size:"md",src:s})}),(0,ew.jsxs)(V.xu,{direction:"column",display:"flex",flex:"grow",marginEnd:16,children:[(0,ew.jsx)(V.xu,{children:(0,ew.jsx)(V.X6,{size:"300",children:(0,eS.nk)(n._('Let {{ name }} know what you think', 'dweb.unauth.bottom_right_upsell.banner_reply.title', 'Prompt shown on the bottom right upsell for unauth social pin landing page. name: sender name'),{name:d})})}),(0,ew.jsx)(V.xu,{children:(0,ew.jsx)(V.xv,{children:n._('Sign up for Pinterest to continue the conversation and share your own ideas', 'dweb.unauth.bottom_right_upsell.banner_reply.text', 'Prompt shown on the bottom right upsell for unauth social pin landing page.')})})]}),(0,ew.jsx)(V.xu,{marginEnd:3,children:(0,ew.jsx)(V.zx,{color:"red",onClick:()=>{r({element:13506,eventType:14689}),o({action:"click",item:"unauth-social-reply-button",within:"unauth-social-reply"}),a?.showDesktopSignupModal({...ef.xp,signupFlow:{type:"login"}})},text:n._('Reply', 'unauth.dweb.banner_upsell.reply.button.text', 'Text on the upsell banner to encourage the user to reply to the sender')})}),(0,ew.jsx)(V.xu,{children:(0,ew.jsx)(V.hU,{accessibilityLabel:n._('Dismiss banner', 'unauth.dweb.banner_upsell.dismiss.button.text', 'Text on the upsell banner to dismiss the banner'),icon:"cancel",onClick:e,size:"sm"})})]})})})}var eI=a(355940),eC=a(877956),eE=a(525839),eF=a(278533),ej=a(469978),eA=a(377654),eL=a(226967),eR=a(13020),eD=a(506662),eK=a(208291),eB=a(510420),eO=a(110870),eZ=a(873408),eN=a(231760),eM=a(821806),eU=a(929915),ez=a(607001),eV=a(159527),eG=a(941404),eH=a(627925),eW=a(334536);function eY(e,n){let[a,l]=(0,Z.useState)(e),i=(0,Z.useRef)(new Map),t=(0,Z.useRef)(n),r=t.current;if(r!==n){t.current=n,i.current.set(r,a);let o=i.current.get(n)??e;return l(o),[o,l]}return[a,l]}var eq=a(802504),e$=a(578764),eX=a(5630),eQ=a(456709),eJ=a(93966),e0=a(123998),e1=a(841982),e2=a(883379);let e3=()=>{(0,O.Z)("CloseupConsts","/app/www/closeup/duplo/CloseupConsts.tsx");let e=(0,e2.Z)({skipExpActivation:!0});return{boxShadow:e?void 0:"0 1px 20px 0 rgba(0, 0, 0, 0.1)",borderRadius:32,border:e?"1px solid #CDCDCD":void 0,zIndex:e?1:void 0}};var e5=a(366859),e6=a(326113),e8=a(859033);let e4=({children:e,mainImageEventHandlers:n})=>{let a=(0,eu.ZP)();return n?(0,ew.jsx)(e5.Z,{onMouseEnter:n?.onMouseEnter,onMouseLeave:n?.onMouseLeave,onTouch:n?.onTouch,pressState:"desktop"===a?"none":"compress",rounding:2,children:e}):e},e7=({detail:e,inPinCardOverflowExp:n,isShowingBreadcrumbs:a,media:l,sideBySideOptions:{mainImageEventHandlers:i}})=>{let t=(0,eu.ZP)(),r=(0,e2.Z)({skipExpActivation:!0}),o=e3(),s=(0,Z.useRef)(null),[d,u]=(0,Z.useState)(),c="desktop"===t?8:"undefined"!=typeof window&&window.screen&&window.screen.width<750?0:54,p="phone"!==t?e6.Hg:"47vw";r&&(p="100%");let g="phone"!==t?0:"desktop"===t?8:10;return(0,Z.useEffect)(()=>{if(s.current){let{clientHeight:e}=s.current;u(e)}},[s]),(0,ew.jsx)(V.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:(0,ew.jsx)(V.xu,{dangerouslySetInlineStyle:{__style:{...o,paddingLeft:r?void 0:"20px",paddingRight:r?"8px":"20px"}},maxWidth:r?void 0:1059,paddingY:r?void 0:5,width:r?"100%":void 0,children:(0,ew.jsxs)(V.xu,{dangerouslySetInlineStyle:"phone"!==t?{__style:{justifyContent:"center"}}:{__style:{marginTop:54*!a,marginRight:c,marginBottom:54,marginLeft:c,boxShadow:"desktop"===t?void 0:"0px 0px 8px rgba(0, 0, 0, 0.1)"}},display:"flex",minHeight:r?"100%":"40vh",overflow:"phone"!==t?void 0:"hidden",position:"relative",rounding:"desktop"===t?void 0:6,children:[(0,ew.jsx)(V.xu,{ref:s,display:"phone"!==t?"block":"flex",height:"100%",justifyContent:"center",overflow:"phone"!==t?void 0:"hidden",paddingX:g,rounding:"desktop"!==t||r?void 0:8,width:p,children:(0,ew.jsx)(e4,{mainImageEventHandlers:i,children:l})}),(0,ew.jsx)(V.xu,{dangerouslySetInlineStyle:{__style:{containerType:r?"size":void 0}},direction:"column",display:"flex",height:n?d:void 0,justifyContent:"between",minHeight:r?"fit-content":void 0,overflow:n?"auto":void 0,paddingX:g,width:p,children:e})]})})})},e9=({closeupPinActionBar:e,detail:n,inPinCardOverflowExp:a,isShowingBreadcrumbs:l,media:i,sideBySideOptions:t})=>{let r;(0,O.Z)("CloseupBodyLayout","/app/www/closeup/duplo/CloseupBodyLayout.tsx");let o=(0,eu.ZP)(),{storyPinHeight:s}=(0,e8.Z)();return r="desktop"===o?void 0:"phone"===o?e6.g6:"number"==typeof s?9*s/16:e6.Hg,t?(0,ew.jsx)(V.xu,{"data-test-id":"closeup-body-landscape",marginEnd:"auto",marginStart:"auto",children:(0,ew.jsx)(G.Z,{id:"CloseupBodySideBySideLayout",children:(0,ew.jsx)(e7,{detail:n,inPinCardOverflowExp:a,isShowingBreadcrumbs:l,media:i,sideBySideOptions:t})})}):(0,ew.jsxs)(V.xu,{"data-test-id":"closeup-body-portrait",marginEnd:"auto",marginStart:"auto",maxWidth:r,children:[l||"desktop"===o?(0,ew.jsx)(e1.Z,{roundedForLargeDevice:!0,children:i}):i,e,n]})};var ne=a(745340),nn=a(974446),na=a(149739),nl=a(517724),ni=a(686761),nt=a(724810),nr=a(667835),no=a(115247),ns=a(516114),nd=a(460321),nu=a(473728),nc=a(697473);let np=(void 0!==l||(l=a(823028)).hash&&"2e464db34007ea4c1c0752bf62bbb542"!==l.hash&&console.error("The definition of 'VaseFullBleedModal_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l);function ng({pinKey:e,onClose:n,zIndex:a}){(0,O.Z)("VaseFullBleedModal","/app/packages/VaseFullBleedModal.tsx");let l=(0,Q.Z)(np,e),i=l.board?.name,t=l.board?.privacy==="protected"?null:l.board?.url,r=(0,ex.Z)(),o=(0,eb.Z)(),s=t&&i?{boardName:i,boardUrl:t,username:t.split("/")[1]}:null;return(0,ec.Z)(()=>{l.description?.trim()||s||(0,eG.My)("lop.dweb.plp.more_info.empty")}),(0,ew.jsx)("div",{"data-test-id":"more-information-modal",onClick:()=>{o({action:"click",item:"close-more-information-modal"}),n()},style:{backgroundColor:"rgba(85, 85, 85, 0.9)",color:"#333",height:"100vh",left:0,position:"fixed",top:0,WebkitFontSmoothing:"antialiased",width:"100vw",zIndex:a||2},children:(0,ew.jsxs)(V.xu,{as:"section",color:"default",dangerouslySetInlineStyle:{__style:{left:"50%",top:"50%",transform:"translate(-50%, calc(-50% - 32px))",paddingBottom:"10px"}},onClick:e=>e.stopPropagation(),position:"absolute",rounding:2,width:414,children:[(0,ew.jsxs)(V.xu,{dangerouslySetInlineStyle:{__style:{borderBottom:"solid 1px #efefef",padding:"0 24px"}},display:"flex",height:60,justifyContent:"end",children:[(0,ew.jsx)("div",{onClick:()=>n(),onKeyUp:()=>n(),role:"button",style:{cursor:"pointer",fill:"#767676",marginTop:"20px"},tabIndex:0,children:(0,ew.jsx)(V.xu,{"data-test-id":"close-more-information-modal",children:(0,ew.jsx)(V.JO,{accessibilityLabel:r._('Cancel', 'close modal icon', 'close modal icon'),icon:"cancel",inline:!0,size:18})})}),(0,ew.jsx)(V.xu,{dangerouslySetInlineStyle:{__style:{fontSize:"21px",fontWeight:"bold",left:"50%",transform:"translateX(-50%)"}},marginTop:5,position:"absolute",children:r._('More information', 'more information label', 'more information label')})]}),(0,ew.jsxs)(V.xu,{dangerouslySetInlineStyle:{__style:{maxHeight:"calc(60vh - 60px)",overflowY:"auto",padding:"0 24px 24px 24px"}},children:[!!l.description&&(0,ew.jsx)("h2",{style:{fontSize:"16px",marginTop:"15px"},children:l.description}),!!s&&(0,ew.jsx)(V.xu,{marginTop:3,children:(0,ew.jsx)(V.xv,{children:(0,eS.nk)(r._('Find this Pin and more on {{ board_link }} by {{ profile_link }}.', 'Link to pin\'s board and board\'s owner', 'Link to pin\'s board and board\'s owner'),{board_link:(0,ew.jsx)(V.xv,{inline:!0,weight:"bold",children:(0,ew.jsx)(V.rU,{display:"inlineBlock",href:s.boardUrl,onClick:()=>(0,eG.NC)("click_vase_modal_board",!0),underline:"hover",children:s.boardName},"board-link")}),profile_link:(0,ew.jsx)(V.xv,{inline:!0,weight:"bold",children:(0,ew.jsx)(V.rU,{display:"inlineBlock",href:`/${s.username}/`,onClick:()=>(0,eG.NC)("click_vase_modal_profile",!0),underline:"hover",children:l.pinner?.fullName||s.username},"profile-link")})})})})]})]})})}var nm=a(611499),n_=a(863339),nh=a(675973);let ny=(void 0!==i||(i=a(385990)).hash&&"91cf1b742f42f2f57e9e89991ad2eebd"!==i.hash&&console.error("The definition of 'CloseupDescriptionMediaAttribution_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function nf({pin:e}){let n=(0,eE.ZP)(),{author:a,authorUrl:l,ccUrl:i,link:t,mediaType:r,providerName:o}=e.mediaAttribution||{},s=!!o&&"Unknown"!==o,d={author:(0,ew.jsx)(V.xu,{display:"inlineBlock",children:(0,ew.jsx)(V.rU,{href:l||"",onClick:({dangerouslyDisableOnNavigation:e})=>e(),rel:"nofollow",underline:"none",children:(0,ew.jsx)(V.xv,{inline:!0,size:"200",weight:"bold",children:a})},"author")},"author"),provider:s?(0,ew.jsx)(V.xu,{display:"inlineBlock",marginEnd:1,children:(0,ew.jsx)(V.rU,{href:t||"",onClick:({dangerouslyDisableOnNavigation:e})=>e(),rel:"nofollow",underline:"always",children:(0,ew.jsx)(V.xv,{inline:!0,size:"200",weight:"bold",children:o})},"provider")},"provider"):null},u=s?n._('from {{ provider }}', 'closeup.description.imageSourceWithProvider', 'Image source attribution without author on pin closeup'):null;return a&&(u="VIDEO"===r?s?n._('Video by {{ author }} on {{ provider }}', 'closeup.description.videoSourceWithProvider', 'Video source attribution on pin closeup'):n._('Video by {{ author }}', 'closeup.description.videoSource', 'Video source attribution without provider on pin closeup'):s?n._('Photo by {{ author }} on {{ provider }}', 'closeup.description.photoSourceWithProvider', 'Photo source attribution on pin closeup'):n._('Photo by {{ author }}', 'closeup.description.photoSource', 'Photo source attribution without provider on pin closeup')),(0,ew.jsx)(V.xu,{"data-test-id":"media-attribution",display:"inlineBlock",children:(0,ew.jsxs)(V.xv,{inline:!0,size:"200",children:[!!u&&(0,eS.nk)(u,d),i&&(0,ew.jsx)(V.rU,{href:i,onClick:({dangerouslyDisableOnNavigation:e})=>e(),rel:"nofollow",underline:"none",children:(0,ew.jsx)(V.xv,{inline:!0,size:"200",children:n._('(cc)', 'creative commons link text', 'creative commons link text')})},"link")]})})}function nk({pinKey:e}){(0,O.Z)("CloseupDescriptionMediaAttribution","/app/www/closeup/duplo/CloseupDescriptionMediaAttribution.tsx");let n=(0,Q.Z)(ny,e);return n&&(0,ew.jsx)(nf,{pin:n})}let nx=(void 0!==t||(t=a(170687)).hash&&"5dff28be2de95106e382c42d78ad1833"!==t.hash&&console.error("The definition of 'CloseupDescriptionPhotoAttribution_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t);function nS({pin:e}){let n=(0,eE.ZP)(),{authorUrl:a,authorName:l,url:i,providerName:t,ccUrl:r}=e.attribution||{},o=e.attribution?.embed?.src,{type:s,src:d,subtype:u}=e.embed||{},c=!!t&&"Unknown"!==t,p={author:(0,ew.jsx)(V.xu,{display:"inlineBlock",children:(0,ew.jsx)(V.rU,{href:a||"",onClick:({dangerouslyDisableOnNavigation:e})=>e(),rel:"nofollow",underline:"none",children:(0,ew.jsx)(V.xv,{inline:!0,size:"200",weight:"bold",children:l})},"author")},"author"),provider:c?(0,ew.jsx)(V.xu,{display:"inlineBlock",marginEnd:1,children:(0,ew.jsx)(V.rU,{href:i||"",onClick:({dangerouslyDisableOnNavigation:e})=>e(),rel:"nofollow",underline:"always",children:(0,ew.jsx)(V.xv,{inline:!0,size:"200",weight:"bold",children:t})},"provider")},"provider"):null},g=c?n._('from {{ provider }}', 'closeup.description.imageSourceWithProvider', 'Image source attribution without author on pin closeup'):null;return l&&(g=(d||o)&&"gif"!==s&&"pinstory"!==u?c?n._('Video by {{ author }} on {{ provider }}', 'closeup.description.videoSourceWithProvider', 'Video source attribution on pin closeup'):n._('Video by {{ author }}', 'closeup.description.videoSource', 'Video source attribution without provider on pin closeup'):c?n._('Photo by {{ author }} on {{ provider }}', 'closeup.description.photoSourceWithProvider', 'Photo source attribution on pin closeup'):n._('Photo by {{ author }}', 'closeup.description.photoSource', 'Photo source attribution without provider on pin closeup')),(0,ew.jsx)(V.xu,{"data-test-id":"photo-attribution",display:"inlineBlock",children:(0,ew.jsxs)(V.xv,{inline:!0,size:"200",children:[!!g&&(0,eS.nk)(g,p),r&&(0,ew.jsx)(V.rU,{href:r,onClick:({dangerouslyDisableOnNavigation:e})=>e(),rel:"nofollow",underline:"none",children:(0,ew.jsx)(V.xv,{inline:!0,size:"200",children:n._('(cc)', 'creative commons link text', 'creative commons link text')})},"link")]})})}function nb({pinKey:e}){(0,O.Z)("CloseupDescriptionPhotoAttribution","/app/www/closeup/duplo/CloseupDescriptionPhotoAttribution.tsx");let n=(0,Q.Z)(nx,e);return n&&(0,ew.jsx)(nS,{pin:n})}var nP=a(728371),nv=a(736802),nw=a(379986),nT=a(601686),nI=a(603316);let nC=(void 0!==r||(r=a(671743)).hash&&"b4f48330d3cfef3a6198d0d824c5d6d5"!==r.hash&&console.error("The definition of 'CloseupDescriptionText_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),nE=(void 0!==o||(o=a(989081)).hash&&"f37e1b73e206db5c55cd60f9da135e1e"!==o.hash&&console.error("The definition of 'CloseupDescriptionTextContent_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o);function nF({instagramPostLink:e,text:n,shouldTruncateDescription:a,expandedText:l,setExpandedText:i,pinKey:t}){let r=(0,Q.Z)(nE,t),{isAuthenticated:o,isBot:s}=(0,er.B)(),d=(0,eu.ZP)(),u=a?1:2,c=(0,eb.Z)(),p=(0,nr.vs)(),{closeupWithinMasonryEnabled:g,peekCloseupEnabled:m}=(0,nT.x4)(),{mWebCloseupRedesignEnabled:_,mWebCloseupRedesignExpGroup:h}=(0,e_.Z)(),y=(0,Z.useCallback)(()=>{l||o||((0,eG.NC)("click_open_description"),c({action:"click",item:"more-description"})),i(!l),_&&(0,nI.nP)("mweb.closeup.description.toggle",{tags:{in_experiment:_,exp_group:h??"none"}})},[l,o,c,i,_,h]);return s?(0,ew.jsx)(V.xv,{inline:!0,children:(0,nv.Z)({closeupWithinMasonryEnabled:g,peekCloseupEnabled:m,text:n})}):"desktop"!==d?(0,ew.jsx)(nw.Z,{description:n,handleToggle:y,instagramPostLink:e,isExpanded:l,maxHeight:_?23*u:22*u,pinKey:r,Wrapper:({children:e})=>(0,ew.jsx)("h2",{style:{fontSize:"14px",wordWrap:"break-word",textAlign:"start",marginBottom:_?"4px":void 0,marginTop:_?"4px":void 0},children:e})}):(0,ew.jsxs)(nP.Z,{isDarkMode:p,children:[(0,nv.Z)({text:n}),e]})}function nj({instagramPostLink:e,photoAttribution:n,text:a,shouldTruncateDescription:l=!1,expandedText:i,setExpandedText:t,additionalNote:r="",pinKey:o}){(0,O.Z)("CloseupDescriptionText","/app/www/closeup/duplo/CloseupDescriptionText.tsx");let s=(0,Q.Z)(nC,o),d=(0,eu.ZP)(),u=(0,eb.Z)(),c=a?`${a}

${r}`:r;return a=r?c:a,(0,ew.jsxs)(V.xu,{dangerouslySetInlineStyle:{__style:r?{textAlign:"phone"===d?"start":void 0,whiteSpace:"pre-line"}:{textAlign:"phone"===d?"start":void 0}},"data-test-id":"CloseupDescriptionContainer",maxWidth:"100%",children:[n,a&&(0,ew.jsx)(V.xu,{"data-test-id":"main-pin-description-text",children:(0,ew.jsx)(V.iP,{onTap:()=>{u({action:"click",item:"main-pin-description-text"})},children:(0,ew.jsx)(V.xu,{dangerouslySetInlineStyle:{__style:{cursor:"auto"}},children:(0,ew.jsx)(nF,{expandedText:i,instagramPostLink:e,pinKey:s,setExpandedText:t,shouldTruncateDescription:l,text:a})})})})]})}let nA=(void 0!==s||(s=a(495512)).hash&&"df15ff9cbce793b72031772ef3c7cc27"!==s.hash&&console.error("The definition of 'CloseupDescription_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),s);function nL({instagramPostLink:e,pinKey:n,shouldTruncateDescription:a=!1,expandedText:l,setExpandedText:i}){let t;(0,O.Z)("CloseupDescription","/app/www/closeup/duplo/CloseupDescription.tsx");let r=(0,eE.ZP)(),{isAuthenticated:o,locale:s}=(0,er.B)(),{checkExperiment:d}=(0,nh.Z)(),u=(0,Q.Z)(nA,n);if(!u)return null;let{closeupUnifiedDescription:c,unauthOnPageDescription:p,translations:g}=u,m=u.richMetadata?.article?.datePublished??"",_=u.description,h=!!u.attribution,y=!!u.mediaAttribution,f=u.seoNoindexReason||"",k=u.pinAdditionalNote||"",x=m&&new Date(m),S=!o&&g?.closeupUnifiedDescription||"",b=S?d("ffe_web_closeup_text_machine_translation").group||d("unauth_web_closeup_text_machine_translation").group:"",P=(0,n_.Z)({pinDescription:_,closeupUnifiedDescription:c,seoNoindexReason:f});o||P===p||null===p||(0,nI.nP)("logged_out_product.unauth_on_page_description.migrated_description_mismatch",{sampleRate:.1,tags:{id:u.entityId}});let v=b.startsWith("enabled")?S:p||P,w=o?c?.trim():v,T=x&&((e,n)=>{if(e){let n=e.getTime();return new Date().getTime()-n<=63072e6}return!1})(x,0)&&w?(0,eS.nk)(r._('{{ pinDescription }} Published on {{ date }}', 'closeup.details.descirptionWithPublishedDate', 'Pin description with publish date'),{date:function(e,n){try{return new Intl.DateTimeFormat(n,{month:"long",day:"numeric",year:"numeric",calendar:"gregory"}).format(e)}catch(n){return e?e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate():""}}(x,s),pinDescription:w}).join(""):w;return(h||y)&&(t=(0,eS.nk)(w?"{{ credit }}   ":"{{ credit }}",{credit:y?(0,ew.jsx)(nk,{pinKey:u},"article-pin"):(0,ew.jsx)(nb,{pinKey:u},"article-pin"),descriptionToDisplay:T})),(0,ew.jsx)(nj,{additionalNote:k,expandedText:l,instagramPostLink:e,photoAttribution:t,pinKey:u,setExpandedText:i,shouldTruncateDescription:a,text:w})}var nR=a(295429),nD=a(35333),nK=a(992011);let nB=(void 0!==d||(d=a(572912)).hash&&"66ce59eb9fa2a37bf75972a3f30769af"!==d.hash&&console.error("The definition of 'CloseupDetailsBasicsLayout_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),d);function nO({pinKey:e}){(0,O.Z)("CloseupDetailsBasicsLayout","/app/www/closeup/duplo/CloseupDetailsBasicsLayout.tsx");let n=(0,eE.ZP)(),a=(0,Q.Z)(nB,e),l=a.storyPinData?.metadata?.basics,i=l?.listBlocks,t=a.storyPinData?.metadata?.templateType,r=new Map([[null,n._('Notes', 'Closeup.CloseupDetailsBasicsLayout.notesLayoutTitle', 'Label for button to expand notes Story Pin details')],[1,n._('Ingredients', 'Closeup.CloseupDetailsBasicsLayout.recipeLayoutTitle', 'Label for button to expand ingredients Story Pin details')],[2,n._('Supplies', 'Closeup.CloseupDetailsBasicsLayout.diyHomeLayoutTitle', 'Label for button to expand supplies Story Pin details')]]);return(0,ew.jsx)(V.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:i&&i.length>0&&(0,ew.jsxs)(V.xu,{dangerouslySetInlineStyle:{__style:{rowGap:16}},direction:"column",display:"flex",marginTop:4,children:[(0,ew.jsx)(nK.Z,{marginStart:eJ.D6+nD.xh}),(0,ew.jsx)(nR.Z,{heading:r.get(t)||"",children:(0,ew.jsx)(({children:e})=>(0,ew.jsx)(V.kC,{direction:"column",gap:4,children:e}),{children:i.map((e,n)=>{let a=`${e.heading||"empty"}-${n}-listHeading`;return(0,ew.jsxs)(Z.Fragment,{children:[(0,ew.jsx)(V.xu,{}),(0,ew.jsx)(V.xv,{size:na.n,weight:"bold",children:e.heading}),(e.blocks??[]).map((n,a)=>{let l=`item-${a}-${e.heading||"empty"}`;return(0,ew.jsx)(Z.Fragment,{children:(0,ew.jsx)(V.xu,{marginBottom:1,children:(0,ew.jsxs)(V.xv,{size:na.n,children:[" ",n.text?n.text:""]})})},l)})]},a)})})})]})})}function nZ({onClickTitleOrDomain:e,nativeCreatorVerifiedWebsite:n,pinCreditPrefix:a,pinDomain:l}){(0,O.Z)("CloseupPinLinkCredits","/app/www/closeup/duplo/CloseupPinLinkCredits.tsx");let{isAuthenticated:i}=(0,er.B)(),t=(0,eE.ZP)(),r=(0,eb.Z)(),o=(0,ey.Z)(),s=n||l,d=n?new URL(n).hostname:l,u=(0,ea._S)(s);return(0,ew.jsx)(V.kC,{alignItems:"center",direction:"row",justifyContent:"start",width:"100%",children:(0,eS.nk)(t._('{{ pinCreditPrefix }} {{ pinCredit }}', 'tells the user where the pin is from in the form of Saved from website', 'tells the user where the pin is from in the form of Saved from website'),{pinCreditPrefix:(0,ew.jsx)(V.xu,{display:"inlineBlock",children:(0,ew.jsx)(V.xv,{inline:!0,size:na.n,children:a})},"pinCreditsPrefix"),pinCredit:u?(0,ew.jsx)(V.xu,{"data-test-id":"pin-domain-link",display:"inlineBlock",marginStart:+!!a,maxWidth:"60vw",children:(0,ew.jsx)(V.iP,{onTap:({event:a})=>{i||o({event_type:102,element:162,component:4,aux_data:{is_claimed_domain:!!n}}),a.preventDefault(),a.stopPropagation(),r({action:"click",item:"pin-domain-link"}),i||(0,eG.NC)("click_pin_closeup_link_clickthrough"),e()},tapStyle:"compress",children:(0,ew.jsx)(V.xv,{lineClamp:1,size:na.n,children:(0,ew.jsx)("span",{style:{textDecoration:"underline"},children:d})},"pinLinkDomain")})},"pinCredits"):""})})}var nN=a(695263),nM=a(793698),nU=a(829365);let nz=({children:e,handleTap:n})=>n?(0,ew.jsx)(e5.Z,{onTouch:n,pressState:"compress",children:e}):e,nV=(void 0!==u||(u=a(47928)).hash&&"f850925693f9b8eb89176d6c10ae58ef"!==u.hash&&console.error("The definition of 'CloseupTitle_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),u);function nG({onClick:e,hasLink:n,forceSmallerHeading:a,textAlign:l,pinKey:i,lineClamp:t,size:r}){(0,O.Z)("CloseupTitle","/app/www/closeup/duplo/CloseupTitle.tsx");let o=(0,Q.Z)(nV,i),s=(0,eu.ZP)(),{isAuthenticated:d,isBot:u}=(0,er.B)(),{checkExperiment:c}=(0,nh.Z)(),p=(0,nM.LO)(),g=(0,eb.Z)(),m=(0,eL.Z)(p?.created_at)&&!p?.is_matured_new_user,{gridTitle:_,isGoLinkless:h,seoNoindexReason:y,storyPinDataId:f,translations:k}=o,x=o.pinJoin?.visualAnnotation||void 0,S=o.title,b=o.richMetadata?.title??"",P=o.richSummary?.displayName??"",v=o.storyPinData?.metadata?.pinTitle,{unauthOnPageTitle:w}=o,T=!d&&k?.closeupUnifiedTitle||"",I=T?c("ffe_web_closeup_text_machine_translation").group||c("unauth_web_closeup_text_machine_translation").group:"",C=(0,nN.Ly)({pinTitle:S,gridTitle:_,richSummaryDisplayName:P,richMetadataTitle:b,storyPinDataId:f,storyPinDataMetadataPinTitle:v,pinJoinVisualAnnotation:x,seoNoindexReason:y,shouldUseSimplifiedTitle:!d});d||C===w||null===w||(0,nI.nP)("logged_out_product.unauth_on_page_title.migrated_title_mismatch",{sampleRate:.1,tags:{id:o.entityId}});let E=I.startsWith("enabled")?T:!d&&w||C;return(0,ew.jsx)(nU.Z,{hash:"details",offset:-ns.R$,children:(0,ew.jsx)(V.kC,{alignItems:"desktop"===s?"start":"center",direction:"column",justifyContent:"center",children:(0,ew.jsx)(V.xu,{alignSelf:"start","data-test-id":"pinTitle",maxWidth:"100%",children:(0,ew.jsx)(nz,{handleTap:"desktop"!==s&&n&&!h?n=>{n.preventDefault(),n.stopPropagation(),g({action:"click",item:"pin-title",within:"pin-image"}),d||(0,eG.NC)("unauth_click_pin_closeup_title"),e()}:null,children:(0,ew.jsx)(V.X6,{accessibilityLevel:1,align:l||"start",lineClamp:u?void 0:t,overflow:"breakWord",size:r||(a||m?"400":"600"),children:E})})})})})}var nH=a(683665),nW=a(170711),nY=a(933845),nq=a(370347);let n$=(void 0!==c||(c=a(744910)).hash&&"2ed8f79733cbeedba9e8a7ed03435228"!==c.hash&&console.error("The definition of 'PinActionBarVisitButton_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),c),nX=({actionButtonText:e,clickthroughInterstitialExperience:n,closeupLinkEnabled:a,fullWidth:l,isDesktop:i,nativeCreatorVerifiedWebsite:t,onClick:r,pinKey:o,unauthPdp:s})=>{(0,O.Z)("PinActionBarVisitButton","/app/www/closeup/duplo/PinActionBarVisitButton.tsx");let d=(0,ey.Z)(),u=(0,Q.Z)(n$,o),c=(0,nY.Z)({clickthroughInterstitialExperience:n,pinKey:u,nativeCreatorVerifiedWebsite:t}),p=(0,eb.Z)(),{logStat:g}=(0,nq.Yg)();return(0,ew.jsx)(V.xu,{"data-test-id":"main-pin-section-visit-button",children:(0,ew.jsx)(V.zx,{accessibilityLabel:e,color:s&&i?"blue":"gray",fullWidth:l||!s,onClick:()=>{p({action:"click",item:"main-pin-section-visit-button"}),a&&d({event_type:102,element:162,component:4,aux_data:{is_claimed_domain:!!t}}),g("main_pin_clickthrough"),r&&r(),c()},size:"lg",text:e||""})})};var nQ=a(609533);let nJ=e=>{let n=0;return e.reduce((e,a)=>{let l=a.replace(/,/g,"").split(" ");return n+l.length<=5&&(e.push(l.join(" ")),n+=l.length),e},[]).join(", ")};var n0=a(78730),n1=a(370677);function n2({imageSignature:e,isAuthenticated:n,isPhone:l,pinAnnotations:i,pinId:t,isUnauthAmazonModuleExpanded:r,setIsUnauthAmazonModuleExpanded:o,clientTrackingParams:s}){(0,O.Z)("UnauthAmazonModule","/app/www/closeup/duplo/unauth/UnauthAmazonModule.tsx");let d=(0,ey.Z)(),u=(0,eE.ZP)(),c=(0,nQ.Z)(),p=(0,Z.useRef)(null),g=(0,Z.useRef)(!1),m=(0,n1.Z)(l,n);return!function(e,n,l,i){let t=(0,ey.Z)(),{checkExperiment:r}=(0,el.r)(),{anyEnabled:o}=r("mweb_closeup_unauth_asr_module_img_signature"),{csp_nonce:s}=(0,n0.N)(),d=(0,Z.useRef)(!1);(0,Z.useEffect)(()=>{let r=async()=>{if(!d.current)try{await Promise.all([a.e("63406").then(a.t.bind(a,196723,23)),a.e("96433").then(a.t.bind(a,150085,23))])}catch(e){return}if(window.apstag){let{apstag:e}=window,a={publisher:{id:"1cad6947-9007-486e-bc6d-7d5b461925d3"},search:n,...o&&l?{ext:{imageSignature:l}}:{}};e.init({pubID:"5180",signals:{ortb2:{site:a}}}),d.current=!0,e.queue.push(()=>{try{e?.customPlacements().hint("unauth-amazon-module-closeup","default",{nonce:s})}catch(e){}}),e.queue.push(()=>{try{e?.customPlacements().enable()}catch(e){}})}};e&&""!==n&&(r(),t({event_type:16459,view_type:3,view_parameter:4102,component:15248,aux_data:{current_page_url:window.location.href,pin_id:i}}))},[l,o,n,t,s,e,i])}(m,(0,Z.useMemo)(()=>nJ(i),[i]),e,t),(0,Z.useEffect)(()=>{let e=new ResizeObserver(n=>{if(g.current)return;let[a]=n,{width:l,height:i}=a?.contentRect??{width:0,height:0},t=l>100&&i>100;t&&(g.current=!0,o(t),d({event_type:170,view_type:3,view_parameter:4102,component:15248,clientTrackingParams:s}),e.disconnect())}),n=p.current;return n&&e.observe(n),()=>{e.disconnect()}},[s,d,o]),(0,Z.useEffect)(()=>{let e=e=>{"AMAZON_CUSTOMPLACEMENT_CREATIVE_EVENT"===e.data.type&&"USER_INTERACTION"===e.data.payload.eventCategory&&"showMoreInfo"===e.data.payload.eventName&&c({pinId:t||"",location:"main-pin-more-information",isUnauthAmazonModuleAd:!0})};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}},[t,c]),(0,Z.useEffect)(()=>{let e=()=>{setTimeout(()=>{let e=document.activeElement;e&&"IFRAME"===e.tagName&&(e.blur(),d({event_type:12,view_type:3,view_parameter:4102,component:15248,clientTrackingParams:s}))})};return window.addEventListener("blur",e),()=>{window.removeEventListener("blur",e)}},[s,d]),m&&t&&(0,ew.jsxs)(Z.Fragment,{children:[r&&(0,ew.jsx)(nK.Z,{}),(0,ew.jsx)(V.xu,{display:"flex",justifyContent:"center",marginBottom:2*!!r,marginTop:4*!!r,children:(0,ew.jsx)(V.iP,{ref:p,accessibilityLabel:u._('Amazon Shopping Recommendation Module', 'closeup.unauthAmazonModule', 'Accessibility label for tap area that opens Amazon Shopping Recommendation module'),children:(0,ew.jsx)(V.xu,{id:"unauth-amazon-module-closeup"})})})]})}let n3="unauth-index-exchange-ad-closeup";function n5({isUnauthIndexExchangeAdExpanded:e,pinAnnotations:n,setIsUnauthIndexExchangeAdExpanded:l,isAuthenticated:i,isPhone:t,pinId:r,clientTrackingParams:o}){(0,O.Z)("UnauthIndexExchangeContainer","/app/www/closeup/duplo/unauth/UnauthIndexExchangeContainer.tsx");let s=(0,ey.Z)(),d=(0,eE.ZP)(),u=(0,Z.useRef)(null),c=(0,Z.useRef)(!1),p=function(e,n){let{countryFromIp:a,country:l}=(0,er.B)(),{checkExperiment:i}=(0,el.r)();if(n||!e||["US","CA","MX"].includes(a||l))return!1;let{anyEnabled:t}=i("mweb_closeup_unauth_index_exchange_ad");return t}(t,i),g=(0,Z.useMemo)(()=>nJ(n),[n]);var m="1150347";let _=(0,ey.Z)(),h=(0,Z.useRef)(!1),y=(0,Z.useCallback)(e=>{if(e&&e.adId){let n=document.getElementById(e.adUnitCode);if(n){let a=document.createElement("iframe");if(a.scrolling="no",a.frameBorder="0",a.marginHeight="0",a.marginHeight="0",a.name=`prebid_ads_iframe_${e.adUnitCode}`,a.title="3rd party ad content",a.sandbox.add("allow-forms","allow-popups","allow-popups-to-escape-sandbox","allow-same-origin","allow-scripts","allow-top-navigation-by-user-activation"),a.setAttribute("aria-label","Advertisment"),a.style.setProperty("border","0"),a.style.setProperty("margin","0"),a.style.setProperty("overflow","hidden"),n.appendChild(a),a.contentWindow&&window.pbjs){let n=a.contentWindow.document;window.pbjs.renderAd(n,e.adId);let l=n.createElement("style");l.appendChild(n.createTextNode("/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */button,hr,input{overflow:visible}progress,sub,sup{vertical-align:baseline}[type=checkbox],[type=radio],legend{box-sizing:border-box;padding:0}html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}details,main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:ButtonText dotted 1px}fieldset{padding:.35em .75em .625em}legend{color:inherit;display:table;max-width:100%;white-space:normal}textarea{overflow:auto}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}[hidden],template{display:none}")),n.head.appendChild(l),(0,nI.nP)("mweb.closeup.ix_ad.success",{sampleRate:1})}}}},[]),f=(0,Z.useCallback)(()=>{window.pbjs&&window.pbjs.getHighestCpmBids().forEach(y)},[y]);return(0,Z.useEffect)(()=>{async function e(){if(!h.current){try{await a.e("8689").then(a.t.bind(a,128363,23)),(0,nI.nP)("mweb.closeup.ix_ad.prebid_load.success",{sampleRate:1})}catch(e){(0,nI.nP)("mweb.closeup.ix_ad.prebid_load.failure",{sampleRate:1})}if(window.pbjs){let{pbjs:e}=window;e.setConfig({debug:!0,ortb2:{site:{keywords:g,search:g}}}),e.bidderSettings={ix:{storageAllowed:!0}},h.current=!0;let n=[{code:n3,mediaTypes:{banner:{sizes:[[320,50],[300,50],[320,100]]}},bids:[{bidder:"ix",params:{siteId:m}}]}];e.que=e.que||[],e.que.push(()=>{e.addAdUnits(n),e.requestBids({timeout:8e3,bidsBackHandler:f})})}}}p&&g&&(e(),(0,nI.nP)("mweb.closeup.ix_ad.pending",{sampleRate:1}),_({event_type:16824,view_type:3,view_parameter:4117,component:15302}))},[n3,p,g,_,f,m]),(0,Z.useEffect)(()=>{p&&""===g&&(0,nI.nP)("mweb.closeup.ix_ad.no_keywords",{sampleRate:.1,tags:{pinId:r,pinAnnotations:JSON.stringify(n)}})},[p,g,n,r]),(0,Z.useEffect)(()=>{let e=new ResizeObserver(n=>{if(c.current)return;let[a]=n,{width:i,height:t}=a?.contentRect??{width:0,height:0},d=i>25&&t>25;d&&(c.current=!0,l(d),s({event_type:18,view_type:3,view_parameter:4117,component:15302,clientTrackingParams:o,object_id_str:r}),e.disconnect())}),n=u.current;return n&&e.observe(n),()=>{e.disconnect()}},[o,s,r,l]),(0,Z.useEffect)(()=>{let e=()=>{setTimeout(()=>{let e=document.activeElement;e&&"IFRAME"===e.tagName&&(e.blur(),s({event_type:12,view_type:3,view_parameter:4117,component:15302,clientTrackingParams:o,object_id_str:r}),s({event_type:8948,view_type:3,view_parameter:4117,component:15302,aux_data:{click_type:"clickthrough"},clientTrackingParams:o,object_id_str:r}))})};return window.addEventListener("blur",e),()=>{window.removeEventListener("blur",e)}},[o,s,r]),p&&(0,ew.jsxs)(Z.Fragment,{children:[(0,ew.jsx)(V.xu,{display:"flex",justifyContent:"center",marginBottom:2*!!e,marginTop:2*!!e,children:(0,ew.jsx)(V.iP,{accessibilityLabel:d._('Index Exchange Ad', 'closeup.unauthIndexExchangeContainer', 'Accessibility label for tap area that opens Index Exchange ad'),children:(0,ew.jsx)(V.xu,{id:n3})})}),(0,ew.jsx)(V.xu,{direction:"column",display:"flex",height:34,marginBottom:-1,marginTop:2,paddingX:2,children:(0,ew.jsxs)(V.kC,{alignItems:"stretch",direction:"row",justifyContent:"start",children:[(0,ew.jsx)(V.xu,{flex:"grow",minHeight:12,overflow:"hidden",width:142,children:(0,ew.jsx)(V.xu,{marginTop:1,children:(0,ew.jsx)(V.xv,{color:"subtle",lineClamp:1,size:"100",weight:"normal",children:"Sponsored"})})}),(0,ew.jsx)(V.xu,{marginTop:-1,children:(0,ew.jsx)(V.xu,{dangerouslySetInlineStyle:{__style:{float:"right"}},"data-test-id":"IndexExchangeSeeMoreButton",right:!0,children:(0,ew.jsx)(V.hU,{accessibilityLabel:d._('See more', 'more information icon', 'more information icon'),icon:"ellipsis",iconColor:"darkGray",onClick:({event:e})=>{e.stopPropagation()},padding:1,size:"md"})})})]})})]})}var n6=a(19522),n8=a(934603),n4=a(8512),n7=a(542696),n9=a(723329),ae=a(57293);let an=(void 0!==p||(p=a(259818)).hash&&"e4ec29e546b4d84af24bae98169500db"!==p.hash&&console.error("The definition of 'ProductDescriptionDropdown_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),p);function aa({pinKey:e}){(0,O.Z)("ProductDescriptionDropdown","/app/www/shopping/duplo/ProductDescriptionDropdown.tsx");let n=(0,Q.Z)(an,e),a={commerceData:{},shouldShowComments:!1,structuredDescription:[{type:ae.X.PARAGRAPH,content:n.closeupUnifiedDescription}],type:"expandable"};return(0,ew.jsx)(n9.Z,{...a})}var al=a(980787),ai=a(99507),at=a(785195),ar=a(906715);let ao=(void 0!==g||(g=a(226870)).hash&&"eaf72f41199038fe34a2f9a746f65abe"!==g.hash&&console.error("The definition of 'ProductDetails_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),g);function as({closeupCommentModule:e,isImagePinForUnauthOnTablet:n,onClickTitleOrDomain:a,inlinePinActionBar:l,pinKey:i,setIsActionBarInline:t}){let r;(0,O.Z)("ProductDetails","/app/www/shopping/duplo/ProductDetails.tsx");let o=(0,eE.ZP)(),{isAuthenticated:s}=(0,er.B)(),{logContextEvent:d}=(0,al.u)(),{mWebCloseupRedesignEnabled:u}=(0,e_.Z)(),[c,p]=(0,Z.useState)(!1),g=(0,Q.Z)(ao,i),m=g.pinJoin?.visualAnnotation||[],{richMetadata:_,richSummary:h}=g;_?.products?.[0]&&_.products[0].name&&_.products[0].offerSummary&&(r=_.products[0].offerSummary),!r&&h?.products?.[0]&&h.products[0].name&&h.products[0].offerSummary&&(r=h.products[0].offerSummary);let y={min_price:r?.minPrice,max_price:r?.maxPrice,price:r?.price,standard_price:r?.standardPrice},f={rating_value:_?.aggregateRating?.ratingValue??void 0,review_count:_?.aggregateRating?.reviewCount??void 0,rating_count:_?.aggregateRating?.ratingCount??void 0},k={free_shipping_price:_?.products?.[0].shippingInfo?.freeShippingPrice,free_shipping_value:_?.products?.[0].shippingInfo?.freeShippingValue},x=g.isOosProduct||r?.inStock===!1,S=!!g.isStaleProduct,b={isMerchant:_?.products?.[0].brand?.isMerchant,name:_?.products?.[0].brand?.name,userId:_?.products?.[0].brand?.userId},P=g.closeupAttribution?.entityId,v=g.closeupUnifiedDescription??"",{gridTitle:w}=g,T=g.entityId,I=g.link,C=g.title,E=_?.title??"",F=h?.displayName??"",{storyPinDataId:j}=g,A=g.storyPinData?.metadata?.pinTitle,L=(0,n4.AH)(I),R=v&&v.trim(),D=w||C;s||(D=(0,nN.Ly)({pinTitle:C,gridTitle:w,richSummaryDisplayName:F,richMetadataTitle:E,storyPinDataId:j,storyPinDataMetadataPinTitle:A,pinJoinVisualAnnotation:m})??null);let K=function({isImagePinForUnauthOnTablet:e}){return e?3:2}({isImagePinForUnauthOnTablet:n}),B=(0,ar.Z)(g),N=(0,ae.j)({components:B,pinDescription:R}),M=D&&(0,ew.jsx)(V.xu,{marginBottom:u?1:2,marginTop:2*!u,children:(0,ew.jsx)(nG,{forceSmallerHeading:!n,hasLink:L,lineClamp:u&&!c?1:K,onClick:a,pinKey:g,size:u?"300":void 0,textAlign:"start"})}),U=(0,z.TH)(),G=!s&&(0,eD.am)(U),H=!!(g.promoter&&!g.isDownstreamPromotion)&&g.promoter?.entityId===g.nativeCreator?.entityId,{sponsorship:W,storyPinData:Y,affiliateLink:q}=g,$=!!q,X=!!Y?.hasAffiliateProducts,J=(!!W||X||$)&&!H&&!G,ee=J&&$||e?2:4,{rating_count:en,review_count:ea,rating_value:el}=f||{},ei=!!(en||ea)&&!!el,et=(0,ew.jsx)(ni.Z,{bracket:!0,count:en||ea,countFormat:"number",countType:Number(en||0)?"rating":"review",hideSeparationDot:!0,ratingValue:el,shippingInfo:k&&{freeShippingPrice:k.free_shipping_price,freeShippingValue:k.free_shipping_value}}),eo=(0,ew.jsx)(n9.Z,{structuredDescription:N,type:"expandable"}),es=(0,ew.jsx)(nj,{additionalNote:"",expandedText:c,instagramPostLink:null,photoAttribution:null,pinKey:g,setExpandedText:p,shouldTruncateDescription:!0,text:R||""}),ed=b?.name,eu=b?.userId,ec=P&&P===eu||b?.isMerchant,ep=!!ed,eg=(0,Z.useCallback)(e=>e&&ep?ed!==e&&(null===ec||!1===ec)?(0,eS.nk)(o._('{{ brand }} sold by {{ merchant }}', 'productmetadata.officialuserattribution.text', 'officialuserattribution text. brand:name of the brand. merchant:name of the merchant'),{brand:(0,ew.jsx)(V.xv,{inline:!0,size:u?"100":void 0,weight:"bold",children:ed},"brand-name"),merchant:(0,ew.jsx)(V.xv,{inline:!0,size:u?"100":void 0,weight:"bold",children:e},"merchant-name")}):[(0,ew.jsx)(V.xv,{inline:!0,size:u?"100":void 0,weight:"bold",children:ed},"brand-name")]:[(0,ew.jsx)(V.xv,{inline:!0,size:u?"100":void 0,weight:"bold",children:e},"brand-name")],[ed,ec,o,ep,u]),em=(0,ew.jsx)(V.xu,{marginBottom:2*!!u,children:(0,ew.jsx)(ai.Z,{getDisplayName:eg,onMouseDown:ep?()=>{d({event_type:102,object_id_str:T,view_type:3,view_parameter:144,element:13592,aux_data:{pin_id:T,commerce_data:JSON.stringify({pin_show_pdp:"1"})}})}:void 0,pinKey:g,size:u?"100":void 0})}),eh=(0,ew.jsxs)(Z.Fragment,{children:[(0,ew.jsx)(V.xu,{display:"inlineBlock",marginStart:2,children:(0,ew.jsx)(V.xv,{inline:!0,size:"200",children:""})}),(0,ew.jsx)(V.xu,{display:"inlineBlock",marginStart:2,children:et})]}),ey=(0,ew.jsx)(nl.Z,{colorOverride:"default",inlineComponent:u&&ei?eh:null,isSoldOut:x,isStale:S,productDetails:{maxPrice:y?.max_price,minPrice:y?.min_price,price:y?.price,standardPrice:y?.standard_price},textSize:u?"200":void 0,type:"mobileHeading"}),ef=u?3:ee;return(0,ew.jsxs)(V.xu,{"data-test-id":"product-details",children:[(0,ew.jsx)(V.kC,{alignItems:"start",direction:"column",justifyContent:"start",children:(0,ew.jsx)(no.Z,{onVisibilityChange:e=>{if(!(e&&e.length>0&&t))return;let{intersectionRatio:n,boundingClientRect:a}=e[0],l=a.y<0;t(1===n||l)},options:{threshold:[1]},children:n=>(0,ew.jsxs)(V.xu,{ref:n,children:[(0,ew.jsxs)(V.xu,{marginBottom:u&&R?0:ef,children:[u?em:null,M,ey,!u&&ei?(0,ew.jsx)(V.xu,{marginBottom:2,children:et}):null,u?null:em]}),J&&(0,ew.jsx)(V.xu,{marginBottom:2,children:(0,ew.jsx)(at.Z,{hasAffiliateLink:$,hasAffiliateProducts:$})}),u?es:null,e?(0,ew.jsx)(V.xu,{marginBottom:3,children:e}):null]})})}),(0,ew.jsx)(V.xu,{marginBottom:u?6:void 0,marginTop:u?2:void 0,children:l}),!u&&N.length>0&&(0,ew.jsx)(V.xu,{marginTop:u?2:6,width:"100%",children:eo})]})}var ad=a(688191),au=a(226030),ac=a(529994),ap=a(225251),ag=a(976083),am=a(78762);let a_=(0,am.Z)(()=>a.e("91578").then(a.bind(a,299623)),void 0,e=>299623,"app-www-Reactions-ReactionAggregation",e=>["91578"]),ah=(0,am.Z)(()=>Promise.resolve().then(a.bind(a,417413)),void 0,e=>417413,"app-www-SeeMoreButton",e=>[]),ay=(0,am.Z)(()=>a.e("10760").then(a.bind(a,881128)),void 0,e=>881128,"app-www-closeup-duplo-PinRecipe",e=>["10760"]),af=(0,am.Z)(()=>a.e("32077").then(a.bind(a,537022)),void 0,e=>537022,"app-common-react-components-GroupBoardCloseup-SavedInfo",e=>["32077"]),ak=(0,am.Z)(()=>a.e("35563").then(a.bind(a,72526)),void 0,e=>72526,"app-www-closeup-duplo-PinRecipeRating",e=>["35563"]),ax=(0,am.Z)(()=>Promise.resolve().then(a.bind(a,417827)),{ssr:!1},e=>417827,void 0,void 0),aS=(0,am.Z)(()=>a.e("75490").then(a.bind(a,582467)),{ssr:!1},e=>582467,void 0,void 0),ab=(0,am.Z)(()=>a.e("34683").then(a.bind(a,136245)),{ssr:!1},e=>136245,void 0,void 0),aP=(0,am.Z)(()=>a.e("32978").then(a.bind(a,846084)),{ssr:!1},e=>846084,void 0,void 0),av=Z.Fragment,aw=({children:e,excludeHeaderOffset:n})=>{(0,O.Z)("CloseupDetails","/app/www/closeup/duplo/CloseupDetails.tsx");let a=(0,e2.Z)({skipExpActivation:!0});return"lg"===(0,n7.g)()?(0,ew.jsx)(V.Le,{top:68*!n,children:(0,ew.jsx)(V.xu,{marginStart:a?2:4,children:e})}):e},aT=(void 0!==m||(m=a(159358)).hash&&"3208f75a293572ec8af155f2a06cd2ef"!==m.hash&&console.error("The definition of 'CloseupDetailsSourceUser_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),m),aI=(void 0!==_||(_=a(950037)).hash&&"909121bc16a2dc50fe7e3276964cd27b"!==_.hash&&console.error("The definition of 'CloseupDetails_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),_);function aC(e){let n,a;(0,O.Z)("CloseupDetails","/app/www/closeup/duplo/CloseupDetails.tsx");let l=(0,eE.ZP)(),{inPinCardOverflowExp:i,instagramPostLink:t,isImagePinForUnauthOnTablet:r,isStoryPin:o,onClickTitleOrDomain:s,shouldShowReactions:d,shouldShowSEOPinInfo:u,showCloseupCommentModule:c,viewParameter:p,viewerId:g,pinActionBar:m,pinId:_,isActionBarInline:h,setIsActionBarInline:y,clientTrackingParams:f,pinKey:k,nativeCreatorVerifiedWebsite:x,unauthCloseupRedesignEnabled:S}=e,{checkExperiment:b}=(0,el.r)(),[P,v]=(0,Z.useState)(!1),w=(0,Q.Z)(aI,k),T=(0,eu.ZP)(),I="desktop"===T,C="phone"===T,{isAuthenticated:E,country:F,locale:j,isBot:A,regionFromIp:L}=(0,er.B)(),R=b("closeup_attribution_overhaul").anyEnabled,D=C&&!E&&!b("lop_ucan_mau_ui_holdout").anyEnabled,[K,B]=(0,Z.useState)(!1),[N,M]=(0,Z.useState)(!1),U=(0,nM.mN)(),H=(0,X.Z)(),W=(0,nr.vs)(),Y=(0,ne.Z)(w,H),q=(0,ag.Z)(w),$=(0,Q.Z)(aT,w),{mWebCloseupRedesignEnabled:J}=(0,e_.Z)(),{pinner:ee,nativeCreator:en,originPinner:ei}=$,et=$.linkDomain?.officialUser,eo=w.pinJoin?.visualAnnotation||[],es=w.promoter&&!w.isDownstreamPromotion?w.promoter:null,ed=w.richMetadata?.products?.[0],ec=w.richSummary?.products?.[0],ep=(w.aggregatedPinData?.commentCount||0)+(w.aggregatedPinData?.didItData?.imagesCount||0),eg=w.imageSignature||"";n=en||($.linkDomain?et:ei||ee),E||n||(n=ee);let em=R?!!w.closeupUnifiedAttribution:!!w.closeupAttribution;ed&&ed.name&&ed.offerSummary&&(a=ed.offerSummary),!a&&ec&&ec.name&&ec.offerSummary&&(a=ec.offerSummary);let{commentsDisabled:eh,isEligibleForPdp:ey,shipsToUserCountry:ef}=w,ek=w.board?.name,ex=w.board?.url,eS=!!$.linkDomain,eb=!!$.nativeCreator,eP=!!$.originPinner,ev=!!a,eT=!!es,eC=!!w.richMetadata?.article,eF=!!ed?.offerSummary,ej=!!ed?.shippingInfo,eA=!!w.richMetadata?.recipe,eR=!!w.richMetadata?.recipe?.displayCookTime||!!w.richMetadata?.recipe?.servingsSummary||!!w.richMetadata?.recipe?.aggregateRating,eK=!!w.richMetadata?.recipe?.categorizedIngredients,eB=!!w.richMetadata?.tutorial,eO=!!ed?.offerSummary,eZ=!!n,eN=w.domain,eM=w.link,eU=a?.inStock,ez=a?.maxPrice,eV=a?.minPrice,eG=a&&(0,nt.Z)({maxPrice:a.maxPrice,minPrice:a.minPrice,price:a.price}),eH=a?.standardPrice,eW=es?.fullName,eY=ed?.shippingInfo?.freeShippingPrice,eq=ed?.shippingInfo?.freeShippingValue,e$=ed?.name,eX=w.richMetadata?.aggregateRating?.ratingValue,eQ=w.richMetadata?.aggregateRating?.ratingCount,eJ=w.richMetadata?.recipe?.fromAggregatedData,e0=ec?.name,e1=w.isEligibleForAggregatedComments,e2=n?.blockedByMe,e3=n?.explicitlyFollowedByMe,e5=n?.followerCount,e6=n?.fullName,e8=n?.entityId,e4=n?.imageLargeUrl,e7=n?.imageMediumUrl,e9=n?.imageSmallUrl,np=n?.isVerifiedMerchant,n_=n?.username,nh=n?.verifiedIdentity?.verified,ny=w.storyPinData?.metadata?.basics?.keyValueBlocks,nf=ey&&E,nk=!I&&!ey,nx=nf||nk,nS=(0,z.TH)(),nb=eT&&w.promoter?.entityId===w.nativeCreator?.entityId,nP=!E&&(0,eD.am)(nS),{sponsorship:nv,storyPinData:nw,affiliateLink:nT}=w,nI=!!nT,nC=!!nv?.sponsor,nE=!!nw?.hasAffiliateProducts,nF=(nC||nE||nI)&&!nb&&!nP,nj=c?(0,ew.jsx)(G.Z,{id:"UnifiedCommentModule",children:(0,ew.jsx)(ax,{pinKey:w,viewParameter:p})}):null,nA=!I&&(!E||nx&&h||!ey),nR=!E&&ev&&(ey||A),nK=!!w?.isGoLinkless&&H?.isAuth&&w.originPinner?.entityId!==H.id;if(E&&ey)return(0,ew.jsx)(aw,{excludeHeaderOffset:i,children:(0,ew.jsx)(V.xu,{"data-test-id":"CloseupDetails",children:(0,ew.jsx)(V.xu,{marginBottom:J?2:void 0,marginTop:J?2:void 0,paddingX:2,paddingY:J?void 0:3,width:"100%",children:(0,ew.jsx)(G.Z,{id:"ProductDetails",children:(0,ew.jsx)(as,{closeupCommentModule:nj,inlinePinActionBar:nA||J?m:void 0,onClickTitleOrDomain:s,pinKey:w,setIsActionBarInline:nx&&!J?y:void 0})})})})});let nB=!E&&ey,nN=(0,ea._S)(eN)?(0,n4.Fc)({i18n:l,hasRichMetadataProductOfferSummary:eF,richMetadataProductName:e$,richSummaryProductName:e0,hasRichSummaryProductOfferSummary:eO}):void 0,nz=(0,ea._S)(eN)?(0,n4.Fc)({i18n:l,hasRichMetadataProductOfferSummary:eF,richMetadataProductName:e$,richSummaryProductName:e0,hasRichSummaryProductOfferSummary:eO})||(0,n4.Wj)({i18n:l,hasLinkDomain:eS,hasRichMetadataArticle:eC,hasRichMetadataRecipeCategorizedIngredients:eK,hasRichMetadataTutorial:eB,richMetadataRecipeFromAggregatedData:eJ}):void 0,{pinCreditLink:nV,pinCredit:nY}=(0,n4.Xe)({hasLinkDomain:eS,hasNativeCreator:eb,hasOriginPinner:eP,pinDomain:eN,sourceUserUsername:n_,sourceUserFullName:e6}),nq=(0,n4.AH)(eM),n$=eZ&&(!E||nY&&nV),nQ=d&&!!q&&!E,nJ=H?.isAuth&&(0,eL.Z)(H.createdAt)&&!H.isMaturedNewUser,n0=A||!nx,n1=D?"xs":void 0,n3=!I&&u&&!nB&&(0,ew.jsx)(V.xu,{children:(0,ew.jsx)(G.Z,{id:"SeeMoreButton",children:(0,ew.jsx)(ah,{dedupeVisualAnnotations:null,fallback:(0,ew.jsx)(V.xH,{accessibilityLabel:l._('Loading See More', 'closeupDetails.SeeMoreButton.loading.label', 'Spinner indicates see more button is loading'),show:!0}),isAuth:E,isMainPin:!0,onClickTitleOrDomain:s,pinCreditPrefix:nz,pinKey:w,renderOnlyHiddenSEOContent:nx&&A,shouldShowSeoDrawerNewfields:!H?.isAuth,shouldShowSeoDrawerOption:!H?.isAuth,trafficSource:"pin",viewObjectIdStr:_,viewParameter:p,viewType:3})})}),n7=em&&(0,ew.jsx)(V.xu,{marginBottom:2,children:(0,ew.jsx)(G.Z,{id:"OfficialUserAttribution",children:(0,ew.jsx)(nH.Z,{avatarSize:n1,clientTrackingParams:f,hideFollowButton:I||!E,isSmallAvatarEnabled:D,justifyContent:I||!E?"start":"center",pinKey:w,seeMoreButton:n0&&n3,viewerId:g})})}),n9=e8&&U(e8),ae=n9?n9.explicitly_followed_by_me:!!e3,an=n9?n9.avatar_color_index:void 0,al=!!n$&&!em&&(0,ew.jsxs)(V.xu,{alignItems:"center","data-test-id":"CloseupUserRep",display:"flex",flex:"grow",justifyContent:"between",marginBottom:J||D?1.5:void 0,width:"100%",children:[(0,ew.jsx)(ap.Z,{avatarColorIndex:an,avatarSize:J?"fit":n1,blockedByMe:e2??!1,boardName:ek??"",boardUrl:ex??"",clientTrackingParams:f,explicitlyFollowedByMe:ae,followerCount:e5??0,fullName:e6??"",hideButtons:J,id:e8??"",imageLargeUrl:e4??"",imageMediumUrl:e7??"",imageSmallUrl:e9??"",isEligibleForPdp:!!ey,isImagePinForUnauthOnTablet:r??!1,isOnCloseup:!0,isSmallAvatarEnabled:D,isVerifiedMerchant:np??!1,pinId:_,pinKey:w,textColor:"default",type:"row",username:n_??"",verifiedIdentityVerified:nh??!1,viewParameter:p,viewType:3}),n0&&n3]}),ai=nQ&&(0,ew.jsx)(eI.Z,{name:"SafeSuspense_CloseupDetails_ReactionAggregation",children:(0,ew.jsx)(V.xu,{alignSelf:"center",display:"flex",justifyContent:"start",marginTop:I?2:void 0,children:(0,ew.jsx)(G.Z,{id:"ReactionAggregation",children:(0,ew.jsx)(a_,{disableModal:!E,pinId:_,reactionCounts:q,textSize:na.n,textWeight:"bold",viewParameter:156,viewType:3})})})}),ar=(ny||[]).map((e,n)=>(0,ew.jsx)(au.Z,{categoryType:e.categoryType,size:"300",type:"compact",value:e.value},`key-val-component-${n}`)).filter(e=>null!=e),ao=I?4:2,am=J?2:ad.dP,aC=nQ||C?am:1,aE=E?void 0:8,aF=!!ej&&ef,aj=ev&&(0,ew.jsx)(G.Z,{id:"CloseupProductRatingAndShipping",children:(0,ew.jsx)(ni.Z,{count:eQ||void 0,countFormat:"number",countType:"review",hideSeparationDot:!1,ratingValue:eX||void 0,shippingInfo:aF?{freeShippingPrice:eY,freeShippingValue:eq}:void 0})}),aA=!I&&nx&&!E&&!b("lop_ucan_mau_ui_holdout").anyEnabled,aL=C&&!E&&!b("lop_ucan_mau_ui_holdout").anyEnabled,aR=aL||J,aD=aL||J?1:void 0,aK=J?6:4,aB=I&&!E?-nW.IN:void 0;return(0,ew.jsx)(aw,{excludeHeaderOffset:i,children:(0,ew.jsxs)(V.xu,{"data-test-id":"CloseupDetails",children:[S&&(0,ew.jsx)(V.xu,{color:"default",dangerouslySetInlineStyle:{__style:{position:"sticky"}},marginStart:aB,top:!0,zIndex:new V.Ry(1),children:!nA&&m}),(0,ew.jsxs)(V.xu,{marginBottom:aA||J?0:4,marginTop:J?2:4,paddingX:nD.xh,width:"100%",children:[!S&&(0,ew.jsx)(V.xu,{marginStart:aB,children:!nA&&m}),C&&n7,E&&ai,(I||nR||nq&&(!n$||r)&&!J)&&(0,ew.jsx)(V.xu,{"data-test-id":"callToActionButton",display:(E||I||r||nR)&&!nK?void 0:"none",marginTop:D?0:aC,children:!nB&&(!w.isGoLinkless||E)&&(0,ew.jsx)(G.Z,{id:"CloseupPinLinkCredits",children:(0,ew.jsx)(nZ,{isImagePinForUnauthOnTablet:r,nativeCreatorVerifiedWebsite:x,onClickTitleOrDomain:s,pinCreditPrefix:nN,pinDomain:eN})})}),(0,ew.jsxs)(av,{children:[C&&al,(0,ew.jsx)(V.xu,{marginBottom:+!!J,marginTop:D||aR?0:4,children:(0,ew.jsx)(G.Z,{id:"CloseupTitle",children:(0,ew.jsx)(nG,{forceSmallerHeading:C,hasLink:nq,lineClamp:P?void 0:aD,onClick:s,pinKey:w,size:J?"300":void 0,textAlign:"start"})})})]}),(0,ew.jsx)(av,{children:C&&(0,ew.jsx)(V.xu,{marginTop:D||aR?0:ad.dP,children:(0,ew.jsx)(nc.Z,{color:W?"light":"default",items:ar})})}),!I&&eG&&ey&&(0,ew.jsx)(V.xu,{marginTop:D?1:void 0,children:(0,ew.jsx)(V.kC,{alignItems:"stretch",justifyContent:"start",children:(0,ew.jsx)(G.Z,{id:"ProductPrice",children:(0,ew.jsx)(nl.Z,{colorOverride:"default",isSoldOut:!1===eU,productDetails:{minPrice:eV,maxPrice:ez,price:eG,standardPrice:eH},textSize:J?"200":void 0,type:"mobileHeading"})})})}),eA&&eR&&!nJ&&(0,ew.jsx)(ak,{boldText:!1,fallback:(0,ew.jsx)(V.xH,{accessibilityLabel:l._('Loading Pin recipe rating', 'closeupDetails.PinRecipeRating.loading.label', 'Spinner indicates pin recipe rating is loading'),show:!0}),marginTop:D||J?1:ad.dP,pinKey:w,textSize:J?"200":"300"}),I&&nR&&eG&&(0,ew.jsx)(V.xu,{marginTop:2,children:(0,ew.jsx)(G.Z,{id:"ProductPrice",children:(0,ew.jsx)(nl.Z,{colorOverride:"default",isSoldOut:!1===eU,productDetails:{maxPrice:eV,minPrice:ez,price:eG,standardPrice:eH},type:"heading"})})},"product-price"),I&&(ej||eX)&&(0,ew.jsx)(V.xu,{"data-test-id":"unauth-pdp-rating-and-review",marginTop:3,children:aj}),!I&&nB&&(0,ew.jsxs)(V.xu,{"data-test-id":"unauth-pdp-rating-and-review",marginTop:1,children:[aj,(0,ew.jsx)(V.xu,{marginTop:D?1:2,children:(0,ew.jsx)(G.Z,{id:"CloseupPinLinkCredits",children:(0,ew.jsx)(nZ,{isImagePinForUnauthOnTablet:r,onClickTitleOrDomain:s,pinCreditPrefix:nN,pinDomain:eN})})})]}),!E&&nF&&(0,ew.jsx)(V.xu,{marginTop:2,children:(0,ew.jsx)(G.Z,{id:"SponsorshipText",children:(0,ew.jsx)(at.Z,{hasAffiliateLink:nI,hasAffiliateProducts:nE})})}),ev&&I&&(0,ew.jsx)(V.xu,{dangerouslySetInlineStyle:{__style:{padding:"15px 0"}},"data-test-id":"visit-button-unauth",children:(0,ew.jsx)(G.Z,{id:"PinActionBarVisitButton",children:(0,ew.jsx)(nX,{actionButtonText:l._('Visit site', 'closeup.shop.button', 'shop button'),clickthroughInterstitialExperience:null,isDesktop:I,pinKey:w,unauthPdp:!0})})}),(0,ew.jsxs)(av,{children:[nB&&nA&&(0,ew.jsx)(V.xu,{marginBottom:4,marginTop:4,children:m}),(0,ew.jsx)(no.Z,{onVisibilityChange:nx&&!J?e=>{if(!(e&&e.length>0&&y))return;let{intersectionRatio:n,boundingClientRect:a}=e[0],l=a.y<0;y(1===n||l)}:()=>{},options:{threshold:[1]},children:e=>(0,ew.jsx)(V.xu,{ref:e,children:(0,ew.jsxs)(V.xu,{marginTop:D||aR?1:ao,children:[nR?(0,ew.jsx)(G.Z,{id:"ProductDescriptionDropdown",children:(0,ew.jsx)(aa,{onClickTitleOrDomain:s,pinKey:w,shouldTruncateDescription:aR})}):(0,ew.jsx)(G.Z,{id:"CloseupDescription",children:(0,ew.jsx)(nL,{expandedText:P,instagramPostLink:t,pinKey:w,setExpandedText:v,shouldTruncateDescription:aR})}),E&&C&&nF&&(0,ew.jsx)(V.xu,{marginTop:2,children:(0,ew.jsx)(G.Z,{id:"SponsorshipText",children:(0,ew.jsx)(at.Z,{hasAffiliateLink:nI,hasAffiliateProducts:nE})})}),(0,ew.jsx)(V.xu,{marginTop:-1,children:nj})]})})})]}),!nB&&nA&&!J&&(0,ew.jsx)(V.xu,{marginBottom:4,marginTop:c?3:aK,children:m}),!nB&&nA&&J&&m,!C&&(0,ew.jsx)(V.xu,{marginTop:ad.dP,children:al}),!C&&(0,ew.jsx)(V.xu,{marginTop:8,children:n7}),I&&E&&(0,ew.jsx)(V.xu,{dangerouslySetInlineStyle:{__style:{visibility:"hidden"}},"data-test-id":"UnauthVaseFullBleedModalContainer",children:(0,ew.jsx)(ng,{onClose:()=>{},pinKey:w})}),!I&&eT&&(0,ew.jsxs)(Z.Fragment,{children:[(0,ew.jsx)(V.xu,{marginTop:ad.dP,children:(0,ew.jsx)(V.iz,{})}),(0,ew.jsxs)(V.xu,{alignItems:"center",display:"flex",justifyContent:"between",margin:2,paddingX:1,children:[(0,ew.jsx)(V.xv,{inline:!0,size:"200",weight:"bold",children:l._('Promoted Pin', 'Denotes promoted pin in closeup', 'Denotes promoted pin in closeup')}),(0,ew.jsx)(eI.Z,{name:"SafeSuspense_CloseupDetails_PinFeedbackButton",children:(0,ew.jsx)(G.Z,{id:"PinFeedbackButton",children:(0,ew.jsx)(aP,{pinKey:w,promoter:eW??"",type:"promoted"})})})]}),(0,ew.jsx)(V.iz,{})]}),!nJ&&eA&&(0,ew.jsx)(nU.Z,{hash:"recipe",offset:-ns.R$,children:(0,ew.jsx)(ay,{fallback:(0,ew.jsx)(V.xH,{accessibilityLabel:l._('Loading Pin recipe', 'closeupDetails.PinRecipe.loading.label', 'Spinner indicates Pin recipe is loading'),show:!0}),pinKey:w})}),!nJ&&o&&(0,ew.jsx)(nO,{pinKey:w}),!E&&C&&"IN"===F&&(j||"").startsWith("en")&&ac.N3.includes(L)&&3>=Number((0,nd.qn)("indiaUnauthLocaleShowCount",0))&&(0,ew.jsx)(eI.Z,{name:"SafeSuspense_CloseupDetails_UnauthSwitchLanguageModal",children:(0,ew.jsx)(ab,{})})]}),(0,ew.jsx)(G.Z,{id:"UnauthAmazonModule",children:(0,ew.jsx)(n2,{clientTrackingParams:f,imageSignature:eg,isAuthenticated:E,isPhone:C,isUnauthAmazonModuleExpanded:K,pinAnnotations:eo||[],pinId:_,setIsUnauthAmazonModuleExpanded:B})}),(0,ew.jsx)(G.Z,{id:"UnauthIndexExchangeContainer",children:(0,ew.jsx)(n5,{clientTrackingParams:f,isAuthenticated:E,isPhone:C,isUnauthIndexExchangeAdExpanded:N,pinAnnotations:eo||[],pinId:_,setIsUnauthIndexExchangeAdExpanded:M})}),!I&&!K&&!N&&!A&&(0,ew.jsx)(G.Z,{id:"DuploShoppingModule",children:(0,ew.jsx)(aS,{pinKey:w,view:3,viewParameter:140})}),I&&!A&&!S&&(0,ew.jsx)(V.xu,{marginStart:2,children:(0,ew.jsx)(G.Z,{id:"ShoppingModule",children:(0,ew.jsx)(nn.Z,{moduleWidth:nm.Gg-nm.g9,pinKey:w,trafficSource:"pin",viewParameter:140})})}),I&&e1&&!ev&&(0,ew.jsx)(eI.Z,{name:"CommentThread",children:(0,ew.jsxs)(V.xu,{marginTop:aE,paddingX:2,children:[(0,ew.jsx)(V.X6,{accessibilityLevel:2,id:"comment-count-and-label",size:"400",children:ep&&!eh?(0,nu.Z)(l.ngettext('{{ count }} Comment', '{{ count }} Comments', ep, 'desktopPinCloseup.sectionTitle.commentsCountLabel', 'Comments on a Pin. count: number of comments'),{count:ep.toString()}):l._('Comments', 'desktopPinCloseup.sectionTitle', 'Title of comments section')}),(0,ew.jsx)(G.Z,{id:"CommentThreadContainer",children:(0,ew.jsx)(n8.Z,{isReadOnly:!0,pinKey:w,viewParameter:p})}),!S&&!A&&!eh&&(0,ew.jsx)(G.Z,{id:"UnauthCommentComposer",children:(0,ew.jsx)(n6.Z,{clientTrackingParams:f,isStoryPin:!1,viewParameter:p})})]})}),!I&&!!Y&&(0,ew.jsx)(V.xu,{marginStart:2,marginTop:2,children:(0,ew.jsx)(G.Z,{id:"GroupBoardSavedInfo",children:(0,ew.jsx)(af,{pinKey:w,showFavoritesInformation:!w.storyPinData?.isDeleted})})}),S&&!A&&!eh&&I&&e1&&!ev&&(0,ew.jsx)(eI.Z,{name:"UnauthCommentComposer",children:(0,ew.jsx)(G.Z,{id:"UnauthCommentComposer",children:(0,ew.jsx)(n6.Z,{clientTrackingParams:f,isStoryPin:!1,viewParameter:p})})})]})})}var aE=a(169053);let aF=({pinKey:e})=>{let n=(0,Q.Z)((void 0!==h||(h=a(565982)).hash&&"040479189b5808c581351271292cad96"!==h.hash&&console.error("The definition of 'CloseupMainIframe_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),h),e),l=n.embed?.src,i=n.imageSpec_736x?n.imageSpec_736x?.url:void 0,t=(0,eE.ZP)(),r={};l&&l.includes("youtube")&&l.includes("/embed/")&&i&&(r.background=`url("${i}")`,r.backgroundSize="cover",r.backgroundPosition="center");let o=l?.replace("http://","https://");return o&&o.startsWith("https://www.youtube.com/embed/")&&(o=o.replace("https://www.youtube.com/embed/","https://www.youtube-nocookie.com/embed/")),(0,ew.jsx)(V.xu,{column:12,dangerouslySetInlineStyle:{__style:{paddingBottom:"50%",background:r.background,backgroundSize:r.backgroundSize,backgroundPosition:r.backgroundPosition}},overflow:"hidden",position:"relative",rounding:2,children:(0,ew.jsx)("iframe",{allowFullScreen:!0,frameBorder:0,src:o,style:{width:"100%",height:"100%",position:"absolute",border:0},title:t._('Embedded content', 'Embedded iframe accessibility title', 'Embedded iframe accessibility title')})})},aj=({pinId:e})=>{let n=(0,aE.S6)()(e);return n?(0,ew.jsx)(aF,{pinKey:{type:"deprecated",data:n}}):null};function aA({graphqlRef:e,pinId:n}){return((0,O.Z)("CloseupMainIframe","/app/www/closeup/duplo/CloseupMainIframe.tsx"),e)?(0,ew.jsx)(aF,{pinKey:e}):(0,ew.jsx)(aj,{pinId:n})}var aL=a(853186),aR=a(102134),aD=a(673616),aK=a(411354),aB=a(560983);let aO="closeupImage";var aZ=a(822279),aN=a(741155),aM=a(838135),aU=a(664897),az=a(212346),aV=a(903098),aG=a(680288),aH=a(364674),aW=a(303151),aY=a(856782),aq=a(874072),a$=a(629178),aX=a(702849);function aQ({animateShopButton:e,buttonText:n,onButtonClick:a,dataTestId:l,handleAnimationEnd:i,icon:t,isHovering:r,surfaceType:o,textRef:s,showButtonText:d}){(0,O.Z)("ButtonWithAnimation","/app/common/react/components/shopping/CloseupShop/ButtonWithAnimation.tsx");let u=(0,eE.ZP)(),{isRTL:c}=(0,er.B)(),p=(0,nr.vs)(),g=(0,eu.HG)(),[m,_]=(0,Z.useState)(),[h,y]=(0,Z.useState)(),{isCloseupMediaViewerEnabled:f}=(0,a$.Z)({isShufflePin:!1}),k=(0,aU.Z)(),{mWebCloseupRedesignEnabled:x}=(0,e_.Z)(),S=(0,e2.Z)({skipExpActivation:!0}),b=x||S?24:16;(0,Z.useEffect)(()=>{!k&&(f?r?(_(`buttonSlideIn${o} 1s ease-in forwards`),y("stelaSlideIn 1s ease-in forwards")):(_(`shopButtonSlideOut${o} .3s ease-in-out forwards`),y("stelaSlideOut .3s ease-in-out forwards")):e&&(_("shopButtonSlideInThenOut 3s ease-in-out forwards"),y("stelaSlideInThenOut 3s ease-in-out forwards")))},[e,k,f,r,o]);let P=u._('closeup image action button', 'closeup.image.button.defaultAccessibilityLabel', 'accessibility label for the button on the closeup image overlay. This button navigates users to the image search landing page. buttonText: image search button text'),v=n||P,w={buttonStyle:{animation:m,marginRight:S&&!c?"4px":void 0,marginLeft:S&&c?"4px":void 0},textStyle:{animation:h,whiteSpace:"nowrap"}},T=(0,ew.jsx)(V.xu,{dangerouslySetInlineStyle:{__style:w.buttonStyle},children:d&&(0,ew.jsx)(V.xu,{ref:s,dangerouslySetInlineStyle:{__style:w.textStyle},children:(0,ew.jsx)(V.mg,{size:S?"lg":"md",children:n})})}),I=(48-b)/2,C=(0,ew.jsx)(V.xu,{dangerouslySetInlineStyle:{__style:{bottom:I,right:c?void 0:I,left:c?I:void 0}},position:"absolute",children:(0,ew.jsx)(V.JO,{accessibilityLabel:v,color:"default",icon:t,size:b})}),E=(0,Z.useMemo)(()=>p&&g?"rgba(17, 17, 17, 0.9)":r?aX.Xq:aX.XF,[p,g,r]);return(0,ew.jsx)(V.iP,{accessibilityLabel:v,onTap:a,rounding:"circle",children:(0,ew.jsx)(V.xu,{alignItems:"center",color:"default",dangerouslySetInlineStyle:{__style:{backgroundColor:E}},"data-test-id":l,display:"flex",justifyContent:"center",minHeight:48,minWidth:48,onAnimationEnd:f?void 0:i,paddingX:4,paddingY:2,position:"relative",rounding:4,children:(0,ew.jsx)(V.kC,{alignItems:"stretch",justifyContent:"center",children:c?(0,ew.jsxs)(Z.Fragment,{children:[C,T]}):(0,ew.jsxs)(Z.Fragment,{children:[T,C]})})})})}var aJ=a(121836),a0=a(369416),a1=a(281260),a2=a(753143),a3=a(238589),a5=a(85363);function a6({actionUrl:e,animateOnRender:n,animateShopButton:a,dataTestId:l,id:i,imageSignature:t,onAnimationComplete:r=()=>{},onButtonClick:o,surfaceType:s,variant:d}){let u;(0,O.Z)("ButtonWithAnimationWrapper","/app/common/react/components/closeup/CloseupBody/CloseupImage/ImageOverlay/ButtonWithAnimationWrapper.tsx");let{checkExperiment:c}=(0,el.r)(),p=(0,Z.useRef)(null),g=(0,ey.Z)(),[m,_]=(0,Z.useState)(),[h,y]=(0,Z.useState)(!1),f=(0,U.k6)(),k=(0,a2.M0)(),x=(0,a3.Nl)(),{isCloseupMediaViewerEnabled:S}=(0,a$.Z)({isShufflePin:!1}),b=(0,aq.Z)({variant:d}),P="visual-search"===d&&"media-viewer"!==s,v=x.getItem(aJ.Ml)||0,{animationSeenCount:w,lastAnimationTimestamp:T}=k.getItem(H.Yn)||{animationSeenCount:0,lastAnimationTimestamp:0},I=(0,aW.Z)(new Date(T),new Date);return(0,ec.Z)(()=>{if("media-viewer"===s?g({event_type:120,element:15864,view_type:3,aux_data:{image_signature:t}}):"stl"===s?g({event_type:120,element:11963,view_type:3,aux_data:{image_signature:t}}):g({event_type:120,component:128,element:234,view_type:3,aux_data:{image_signature:t}}),P&&!I&&k.setItem(H.Yn,{animationSeenCount:0,lastAnimationTimestamp:T}),!n||P&&![0,1].includes(v+1)&&c("sg_dweb_improved_share_animation_on_closeup").anyEnabled)return;let e=setTimeout(()=>{y(!0),P&&k.setItem(H.Yn,{animationSeenCount:w+1,lastAnimationTimestamp:Date.now()});let e=setTimeout(()=>{y(!1)},3e3);return()=>clearTimeout(e)},aY.S);return()=>clearTimeout(e)}),u="media-viewer"===s&&"view-larger"===d?"maximize":"magnifying-glass-sparkle",(0,Z.useEffect)(()=>{if(p.current&&!m&&(a&&!S||h&&S)){let e=p.current.getBoundingClientRect().width;e&&_(e)}},[p,m,a,S,h]),(0,ew.jsxs)(V.xu,{onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),children:[(0,ew.jsx)(a0.Z,{unsafeCSS:S?(0,a1.q)(m||0,s):(0,a1.Z)(m||0)}),(0,ew.jsx)(aQ,{animateShopButton:a,buttonText:b,dataTestId:l,handleAnimationEnd:r,icon:u,isHovering:h,onButtonClick:S?o:({event:n})=>{["flashlight","stela"].includes(s)&&g({event_type:101,component:128,element:234,view_type:3,aux_data:{image_signature:t}}),n?.stopPropagation(),e?f.push(e):f.push((0,a5.Z)({pinId:i,isProductPage:!1,surfaceType:s}))},showButtonText:S?h:a,surfaceType:s,textRef:p})]})}var a8=a(351222),a4=a(640524);let a7=(void 0!==y||(y=a(132901)).hash&&"5702754b7b1e87a0bb84f43e7472030c"!==y.hash&&console.error("The definition of 'AnimatedVisualSearchButton_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),y);function a9({imageSignature:e,pinId:n,pinKey:a}){(0,O.Z)("AnimatedVisualSearchButton","/app/www/closeup/duplo/AnimatedVisualSearchButton.tsx");let l=(0,Q.Z)(a7,a),i=(0,eu.HG)(),t=(0,eu.ml)(),{isAuthenticated:r}=(0,er.B)(),o=(0,ey.Z)(),s=(0,z.s0)(),[d,u]=(0,Z.useState)(!1),[c,p]=(0,Z.useState)(!1),g=(0,Z.useRef)(null),m=(0,eb.Z)();(0,ec.Z)(()=>{let e=(0,eV.Z)(()=>{if(!g.current)return;let{top:n}=g.current.getBoundingClientRect(),a=n>(t?a8.SB:a8.Pw);!c&&a&&(u(!0),p(!0),window.removeEventListener("scroll",e))},10);return i||r?u(!0):window.addEventListener("scroll",e),()=>{r||window.removeEventListener("scroll",e)}});let _="flashlight",h=(0,a4.Z)({pinKey:l,storyKey:null,surfaceType:_});return(0,ew.jsx)(V.xu,{ref:g,alignItems:"stretch","data-test-id":"visual-search-icon",display:"flex",justifyContent:"end",paddingX:2*!!i,children:(0,ew.jsx)(V.xu,{overflow:"hidden",children:(0,ew.jsx)(V.iP,{onTap:()=>{m({action:"click",item:"visual-search-icon",within:"pin-image"})},children:(0,ew.jsx)(a6,{actionUrl:h,animateOnRender:!0,animateShopButton:d,dataTestId:"flashlight",id:n,imageSignature:e,onAnimationComplete:()=>{u(!1)},onButtonClick:({event:a})=>{o({event_type:101,component:128,element:234,view_type:3,aux_data:{image_signature:e}}),a?.stopPropagation(),h?s(h):s((0,a5.Z)({pinId:n,isProductPage:!1,surfaceType:_}))},surfaceType:"flashlight",variant:"visual-search"})})})})}function le({imageSignature:e,pinId:n,viewParameter:a}){(0,O.Z)("FlashlightButton","/app/www/closeup/duplo/FlashlightButton.tsx");let l=(0,eE.ZP)(),{logContextEvent:i}=(0,al.u)(),t=(0,eb.Z)(),{isAuthenticated:r}=(0,er.B)(),o=(0,nr.vs)(),s=(0,eu.HG)(),d=(0,z.s0)(),u=(0,e2.Z)({skipExpActivation:!0});(0,ec.Z)(()=>{i({aux_data:{image_signature:e},component:128,element:234,event_type:120,view_parameter:a,view_type:3})});let c=u?48:44;return(0,ew.jsx)(V.iP,{onTap:({event:l})=>{r||((0,eG.My)(`${s?"dweb":"mweb"}_pin_page.flashlight_icon_click`),t({action:"click",item:"visual-search-icon",within:"pin-image"})),l.stopPropagation(),l.preventDefault(),i({aux_data:{image_signature:e},component:128,element:234,event_type:102,view_parameter:a,view_type:3}),d&&n?d(`/pin/${n}/visual-search/`):(0,eG.My)(`${s?"dweb":"mweb"}_pin_page.flashlight_icon_click.error`)},tapStyle:"compress",children:(0,ew.jsx)(V.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:o?"rgba(51, 51, 51, 0.8)":"rgba(255, 255, 255, 0.8)"}},"data-test-id":"visual-search-icon",display:"flex",height:c,justifyContent:"center",rounding:"pill",width:c,children:(0,ew.jsx)(V.JO,{accessibilityLabel:l._('Visual search', 'flashlight.button', 'Button to search for visually similar Pins'),color:"default",icon:"flashlight",size:20})})})}var ln=a(171023),la=a(6129);let ll=({pinId:e,viewParameter:n})=>{(0,O.Z)("MoreLikeThisButton","/app/www/closeup/duplo/MoreLikeThisButton.tsx");let{logContextEvent:a}=(0,al.u)(),{isScrolledToPins:l,scrollToPins:i}=(0,ln.Z)(),{moreLikeThisButtonRef:t}=(0,la.Z)(),r=(0,eE.ZP)();return l&&i(!1),(0,Z.useEffect)(()=>{a({event_type:13,view_parameter:n,component:13283,element:14445,aux_data:{pin_id:e}})},[a,e,n]),(0,ew.jsx)(V.xu,{ref:t,"data-test-id":"more-like-this-button",children:(0,ew.jsx)(V.iP,{onTap:({event:l})=>{l.stopPropagation(),l.preventDefault(),i(!0),a({event_type:101,view_parameter:n,component:13283,element:14445,aux_data:{pin_id:e}})},children:(0,ew.jsx)(V.zx,{accessibilityLabel:r._('Scroll to related pins button', 'mobilePinPage.relatedPins.scroll', 'Button to auto scroll to the related pins section'),color:"white",dataTestId:"more-like-this-button",iconEnd:"compact-chevron-down",size:"lg",text:r._('More to explore', 'pinPage.relatedPins.title', 'On web pin page, title for related pins beneath pin closeup')})})})},li=(void 0!==f||(f=a(65965)).hash&&"36895aea87fde0691d85469ce5884e26"!==f.hash&&console.error("The definition of 'MobileStickyFooter_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),f);function lt({imageSignature:e,pinId:n,pinKey:a,type:l,viewParameter:i}){(0,O.Z)("MobileStickyFooter","/app/www/closeup/duplo/MobileStickyFooter.tsx");let{isAuthenticated:t,isRTL:r}=(0,er.B)(),o=(0,eu.HG)(),s=(0,Q.Z)(li,a),{mWebCloseupRedesignEnabled:d}=(0,e_.Z)(),u=s?.digitalMediaSourceType,c=u&&(0,n4.zX)(u),p=!t&&c,g=(({isDesktop:e})=>e?-68:-60)({isDesktop:o});return(0,ew.jsxs)(V.xu,{position:"relative",zIndex:nD.sp,children:[(c||p)&&(0,ew.jsx)(V.iP,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation()},children:(0,ew.jsx)(V.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:d?"-4px":void 0,marginTop:g}},margin:d?void 0:1,padding:2,position:"absolute",right:!1,children:(0,ew.jsx)(aH.Z,{digitalMediaType:u,isMobile:d&&!o,isViewedByOwnerEmployeeOrAgency:s?.isViewedByOwnerOrEmployeeOrPartnerOfBusiness||!1})})}),(0,ew.jsx)(V.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:d&&r?"-4px":void 0,marginRight:d&&!r?"-4px":void 0,marginTop:g}},left:r,padding:2,position:"absolute",right:!r,children:"moreLikeThisButton"===l?(0,ew.jsx)(ll,{}):s&&"visualSearch"===l?(0,ew.jsx)(a9,{imageSignature:e,pinId:n,pinKey:s}):(0,ew.jsx)(le,{imageSignature:e,pinId:n,viewParameter:i})})]})}var lr=a(642859),lo=a(747129),ls=a(867552);let ld=(0,am.Z)(()=>Promise.all([a.e("57207"),a.e("47063")]).then(a.bind(a,789067)),void 0,e=>789067,"app-www-closeup-duplo-ShuffleRendererWrapper",e=>["57207","47063"]),lu=(0,Z.lazy)(()=>a.e("13853").then(a.bind(a,329301))),lc=(void 0!==k||(k=a(584112)).hash&&"5d289d696a404b0d3af790f1ce18431f"!==k.hash&&console.error("The definition of 'CloseupMainPinImage_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),k),lp=(void 0!==x||(x=a(269307)).hash&&"939dcf1664a036231c7a49c8afc0fac7"!==x.hash&&console.error("The definition of 'CloseupMainPinImageInner_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),x),lg=({children:e,onTouch:n,isMWebCloseupRedesign:a=!1,withMarginTop:l=!1,unauthCloseupRedesignEnabled:i=!1})=>{let t,r=(0,eu.ZP)(),o="phone"===r;return o?a&&(t=4):t=6,(0,ew.jsx)(V.xu,{dangerouslySetInlineStyle:i?{__style:{borderRadius:"32px 0px 0px 32px",position:"relative",zIndex:-1}}:void 0,marginEnd:a?1:void 0,marginStart:a?1:void 0,marginTop:a&&l?1:void 0,overflow:!o||o&&a?"hidden":void 0,rounding:i?void 0:t,children:"desktop"===r?e:(0,ew.jsx)(e5.Z,{fullWidth:!0,onTouch:e=>{e.preventDefault(),e.stopPropagation(),n()},pressState:"none",children:e})})};function lm({actionBarIsMinifiedToMainPinImage:e,clickthrough:n,onImageClick:a,setShowClickthroughOverlay:l,viewParameter:i,imagesUrls:t,embedSrc:r,embedType:o,seoAltText:s,dominantColor:d,pinId:u,domain:c,pinnerConnectionType:p,hasPromoter:g,pinKey:m,isEligibleForPdp:_,isHiddenPin:h,isRelatedPinsFeedIsEmpty:y,isUnsafePin:f,shouldRenderAsStaticImageIdeaPin:k,renderStoryPinBlock:x,imageSignature:S,setPinImageHeight:b,shouldRenderAsStoryPinVideo:P,shouldRenderShuffle:v,placeholder:w,isSmallestImgPlaceholder:T,shuffleId:I}){let C=(0,eE.ZP)(),E=(0,ei.A)(),F=(0,eu.HG)(),j=(0,eu.Wb)(),A=(0,eu.ml)(),{checkExperiment:L}=(0,el.r)(),R=(0,lr.D)(),{onSendButtonClick:D}=(0,aG.B)(),K=(0,nQ.Z)(),B=(0,Q.Z)(lp,m),{isAuthenticated:O,isBot:N,isSocialBot:M,countryFromIp:U,userAgent:{platform:z,canUseNativeApp:H}}=(0,er.B)(),W=(0,aU.Z)(),{mWebCloseupRedesignEnabled:Y}=(0,e_.Z)(),{referrerFromCookie:q}=(0,er.B)(),$=(0,aZ.Xn)((0,aZ.an)(q)),X=(0,ep.Z)(),J=(0,e2.Z)({skipExpActivation:!0}),ee=(0,aL.Z)({shuffleId:I,shouldRenderShuffle:v}),en=(0,eu.ZP)(),et=`${z}.${en}`,eo=(0,Z.useRef)(Date.now()),es=(0,Z.useRef)(null),ed=(0,Z.useRef)(null),ec=!O&&!F&&["ios","ipad","android"].includes(z),eg=!O&&A&&["ios","android"].includes(z),em=!O&&A&&["ios","android"].includes(z);(0,az.Z)(ed,{metricName:"mweb.closeup.closeup_main_pin_image.invalid_dimensions",tags:{isAuthenticated:O}});let{shouldShowLearningUpsell:eh,setShouldShowLearningUpsell:ey,hasScrolledPastMainContent:ef}=(0,ls.u)()??Object.freeze({}),ek=(0,eU.l)(),ex=(0,nM.LO)(),eS=null,eP=(0,aD.Z)({isHiddenPin:h,isUnsafePin:f}),eT=!O&&A&&!H;O||y||ef||F?!eP||eT||O&&((0,eL.Z)(ex?.created_at)&&!(0,lo.V0)(ex)||g||(0,ea.sY)(o)||e)||(eS="visualSearch"):eS="moreLikeThisButton";let eI=(0,eb.Z)(),eC=(0,ev.w2)();(0,Z.useEffect)(()=>{if(eC?.setPinImageUrl&&t){let e=t["474x"]||t["236x"]||t.orig||"";e&&eC.setPinImageUrl(e)}},[eC,t]),(0,Z.useEffect)(()=>{b&&ed.current&&b(ed.current.getBoundingClientRect().height)},[b]);let eF=(0,eO.Z)({imagesUrls:t,embedSrc:r,embedType:o,preferredResolution:function({countryFromIp:e,isBot:n,isDesktop:a,pinnerConnectionType:l,shouldRenderSIIP:i}){return i?"236x":a?void 0:(0,aB.Z)(e||"",n,a)&&["Dialup","Cellular"].includes(l)?"236x":"736x"}({isDesktop:F,countryFromIp:U,isBot:N,pinnerConnectionType:p,shouldRenderSIIP:k&&!F}),excludeOriginals:!N&&!M}),ej="phone"===en||j?"100%":e6.Hg,eA=["phone"].includes(en)?void 0:e6.Hg,eR=(0,ew.jsx)(G.Z,{id:"CloseupImage",children:(0,ew.jsx)(aV.Z,{alt:s||C._('Pin image', 'Pin closeup image', 'Pin closeup image'),clickthroughOverlayOptions:n?{onConfirm:n,visitButtonText:"Uploaded by user"===c?C._('Uploaded by user', 'pin.default_domain', 'default domain for the pin'):c||""}:void 0,color:d||"#efefef",isEligibleForPdp:_,naturalHeight:w?.height??1,naturalWidth:w?.width??1,placeholder:!W&&w?.url?.startsWith("https://i.pinimg.com/")?(0,aK.Z)(w?.url)||w?.url||"":w?.url||"",pwtElementTimingId:aO,pwtSurfaceContext:E,setShowClickthroughOverlay:l,showSpinner:T,src:eF,stickyFooter:eS&&(0,ew.jsx)(lt,{imageSignature:S,isPdp:_,pinId:u,pinKey:B,type:eS,viewParameter:i})},u)}),eD=(0,aM.ZP)(),eK=L("migration_upsell_manager_redux").anyEnabled||L("migration_upsell_manager_redux_dweb").anyEnabled||L("migration_upsell_manager_redux_mweb").anyEnabled,eB=(0,aN.Z)(),eZ=(0,ew.jsx)(lg,{isMWebCloseupRedesign:Y,onTouch:()=>{if(eK)eB((0,eW.Pu)({upsellContext:eD,learningUpsellScenario:em,pinId:u,onImageClick:a,trackInteraction:eI}));else{let e=em&&ek&&ek.upsellIsEnabledGlobally()&&!ek.modal.isShown&&(L("mweb_unauth_main_learning_pin_full_page").anyEnabled||L("mweb_q2_mau_push_pc").anyEnabled||L("mweb_q2_mau_push_pc_advanced").anyEnabled||L("mweb_q2_mau_push_pc_advanced_row").anyEnabled||L("mweb_q2_mau_push_pc_emergency").anyEnabled||L("mweb_q2_mau_push_pc_emergency_row").anyEnabled||L("mweb_q2_mau_push_pc_eu").anyEnabled||L("mweb_q2_mau_push_pc_eu_safe").anyEnabled),n=em&&!!ey;e?(ek.showMobileSignupModal({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"navigation_main_pin_image_click",headingType:"none"}),(0,eG.My)("mweb.nav.upsell.show.main_pin_image_click")):n?(eh?eI({action:"dismiss",item:"learning-upsell"}):eI({action:"click",item:"learning-upsell"}),ey(!eh)):a(),ec&&(0,eG.My)(`unauth.mweb.${et}.pin.image.touch`),!O&&_&&eI({action:"click",item:"pdp-pin-image"})}},unauthCloseupRedesignEnabled:J,withMarginTop:!($&&X),children:(0,ew.jsxs)(V.xu,{ref:ed,dangerouslySetInlineStyle:{__style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",MozUserSelect:"none",MsUserSelect:"none",KhtmlUserSelect:"none",UserSelect:"none"}},"data-test-id":"closeup-container",display:"flex",justifyContent:"center",onContextMenu:e=>{!O&&_&&(0,eG.My)("unauth.pdp.pin.context_menu.open",{device:en}),e.preventDefault(),e.stopPropagation(),F?(R((0,ew.jsx)(eM.Z,{children:(0,ew.jsx)(lu,{desktopContextMenuState:{x:e.clientX,y:e.clientY},isMainPinImage:!0,onSendButtonClick:D,pinKey:B})})),(0,eG.My)("pcons.dweb.main_pin.context_menu.open")):(0,eG.My)(`${O?"auth":"unauth"}.mweb_pin_closeup_page.pin_image.long_press`)},onTouchEnd:e=>{if(!ec&&!eg)return;e.stopPropagation(),(0,eG.My)(`unauth.mweb.${et}.pin.image.touch.end`);let n=Date.now()-eo.current>500,a=!1,l=es.current;if(e.changedTouches&&e.changedTouches.length>0&&l){let n=e.changedTouches.item(0),i=n.clientX-l.x,t=n.clientY-l.y;a=n&&Math.pow(i,2)+Math.pow(t,2)>100}ec&&n&&!a&&((0,eG.My)(`unauth.mweb.${et}.pin.image.long.touch`),e.preventDefault(),O||F||K({pinId:u,location:"main-pin-long-press"}))},onTouchMove:e=>{eg&&e.stopPropagation()},onTouchStart:e=>{if((ec||eg)&&(e.stopPropagation(),eo.current=Date.now(),(0,eG.My)(`unauth.mweb.${et}.pin.image.touch.start`),e.changedTouches&&e.changedTouches.length>0)){let n=e.changedTouches.item(0);n&&(es.current={x:n.clientX,y:n.clientY})}},children:[(!k||F)&&(v?(0,ew.jsx)(ld,{fallback:eR,naturalHeight:w?.height??1,naturalWidth:w?.width??1,rounded:!A,shuffle:ee,width:eA,children:eR}):eR),k&&(F?(0,ew.jsx)(V.xu,{bottom:!0,dangerouslySetInlineStyle:J?{__style:{borderRadius:"32px 0px 0px 32px",position:"relative",zIndex:-1}}:void 0,left:!0,marginEnd:-2,marginStart:-2,overflow:"hidden",position:"absolute",right:!0,rounding:J?void 0:6,top:!0,children:x({placeholder:w&&{height:w.height,width:w.width}})}):(0,ew.jsxs)(V.xu,{marginEnd:-2,marginStart:-2,overflow:eS?void 0:"hidden",width:ej,children:[x({placeholder:w&&{height:w.height,width:w.width}}),eS&&!P&&(0,ew.jsx)(lt,{imageSignature:S,isPdp:_,pinId:u,pinKey:B,type:eS,viewParameter:i})]}))]})});return(0,ew.jsx)(V.xu,{position:"relative",width:"100%",children:eZ})}function l_({graphqlRef:e,pinId:n,...a}){let l=(0,em.useFragment)(lc,e),i=(0,eZ.Z)(l),t=l.imageSpec_236x||l.imageSpec_136x136,r=!!(t&&!l.imageSpec_236x),{isBot:o}=(0,er.B)(),s=(0,aR.Z)(),d=l.shuffle?.entityId,u=!!l.shuffle&&!o&&s();return(0,ew.jsx)(lm,{...a,domain:l.domain,dominantColor:l.dominantColor,embedSrc:l.embed&&l.embed.src,embedType:l.embed&&l.embed.type,hasPromoter:!!l.promoter&&!l.isDownstreamPromotion,imageSignature:l.imageSignature,imagesUrls:i,isEligibleForPdp:!!l.isEligibleForPdp,isHiddenPin:l.isHidden,isSmallestImgPlaceholder:r,isUnsafePin:l.isUnsafe,pinId:n,pinKey:l,pinnerConnectionType:l.pinner?.connectionType,placeholder:t&&{height:t.height,width:t.width,url:t.url},seoAltText:l.seoAltText,shouldRenderShuffle:u,shuffleId:d})}function lh({pinId:e,...n}){let a=(0,aE.S6)()(e),l=a?.images?.["236x"]||a?.images?.["136x136"],i=!!(l&&!a?.images?.["236x"]),t=(0,eZ.Z)(null!=a?{type:"deprecated",data:a}:null),{isBot:r}=(0,er.B)(),o=(0,aR.Z)(),s=a?.shuffle?.id,d=!!s&&!r&&o();return(0,ew.jsx)(lm,{...n,domain:a?.domain,dominantColor:a?.dominant_color,embedSrc:a?.embed?.src,embedType:a?.embed?.type,hasPromoter:!!(a&&a.promoter&&!a.is_downstream_promotion),imageSignature:a?.image_signature,imagesUrls:t,isEligibleForPdp:!!a?.is_eligible_for_pdp,isHiddenPin:a?.is_hidden,isSmallestImgPlaceholder:i,isUnsafePin:a?.is_unsafe,pinId:e,pinKey:a?{type:"deprecated",data:a}:null,pinnerConnectionType:a?.pinner?.connection_type,placeholder:l&&{height:l.height,width:l.width,url:l.url},seoAltText:a?.seo_alt_text,shouldRenderShuffle:d,shuffleId:s})}function ly({graphqlRef:e,...n}){return e?(0,ew.jsx)(l_,{...n,graphqlRef:e}):(0,ew.jsx)(lh,{...n})}var lf=a(796631),lk=a(547585),lx=a(24906);let lS=({children:e,imageLargeUrl:n,isVideoPin:a,pinId:l})=>{(0,O.Z)("CloseupMainPinImpression","/app/www/closeup/duplo/CloseupMainPinImpression.tsx");let i=(0,U.TH)(),t=(0,z.ur)(),r=(0,eu.HG)(),{clientTrackingParams:o,viewParameter:s,isGoLinklessEnabledOverflow:d}=(0,aG.B)(),{logStat:u}=(0,nq.Yg)(),c=(0,lx.s)({skipExpActivation:!0})&&r,p=(0,e2.Z)({skipExpActivation:!0});return(0,ec.Z)(()=>{u("main_pin_impression")}),(0,ew.jsx)(V.xu,{"data-layout-shift-boundary-id":"CloseupPageBody",marginTop:c&&!p?4:void 0,children:(0,ew.jsx)(lk.dL,{auxData:{closeup_navigation_type:(0,lf.Z)(t,i),is_go_linkless:d},component:a?179:85,impressionData:{imageURL:n,type:13},loggingId:l,slotIndex:-1,trackingParams:o,viewData:{pin_id:l},viewParameter:s,viewType:3,children:({impressionTrackerRef:n})=>(0,ew.jsx)(V.xu,{ref:n,"data-test-id":"CloseupMainPin",maxWidth:"100%",position:"relative",children:e})},l)})},lb=new V.H3([new V.Ry(0)]);function lP({onMoreButtonTap:e,onSendButtonTap:n}){(0,O.Z)("LinklessPinActionBar","/app/www/closeup/duplo/LinklessPinActionBar.tsx");let{userAgent:{platform:a}}=(0,er.B)();return(0,ew.jsxs)(V.xu,{display:"flex",justifyContent:"end",padding:6,position:"absolute",top:!0,width:"100%",zIndex:lb,children:[(0,ew.jsx)(V.hU,{accessibilityLabel:"share",bgColor:"transparentDarkGray",icon:"android"===a?"android-share":"share",onClick:n,size:"md"}),(0,ew.jsx)(V.xu,{marginStart:2,children:(0,ew.jsx)(V.hU,{accessibilityLabel:"overflow menu",bgColor:"transparentDarkGray",icon:"ellipsis",onClick:e,size:"md"})})]})}var lv=a(346955),lw=a(591003),lT=a(42359);function lI(){let{isAuthenticated:e}=(0,er.B)(),n=(0,z.TH)(),a=(0,z.s0)(),l=(0,eb.Z)(),{viewType:i}=(0,lv.SU)(),{trackConversionUpsell:t}=(0,eP.Z)(),[r,o]=(0,Z.useState)(!1),s=(0,U.$B)(),d=n.state?.trackingParams;return({linkType:n,viewParameter:u})=>{if((0,eG.NC)("click_pin_closeup_image"),e||l({action:"click",item:"pin-image"}),(0,lT.Z)(n),e){s.params.id&&a(`/pin/${s.params.id}#${lw.v}`,{state:{trackingParams:d}});return}r?(t({eventType:14688,element:13319,component:14215,viewType:i,viewParameter:u,upsellReason:"click_pin_closeup_image"}),l({action:"click",item:"main-pin-wash"}),a("/signup")):((0,eG.My)("main.pin.wash.show"),o(!r))}}var lC=a(974297),lE=a(582569);function lF({alt:e,dominantColor:n,height:a,onImageTap:l,onLoad:i,src:t,width:r,unauthLazyLoad:o,index:s}){(0,O.Z)("ProductCarouselImage","/app/www/shopping/duplo/productCarousel/ProductCarouselImage.tsx");let{isAuthenticated:d}=(0,er.B)(),u=(0,eu.ZP)(),c=(0,Z.useRef)(!1),p=(0,Z.useRef)(null),{mWebCloseupRedesignEnabled:g}=(0,e_.Z)(),m=(0,Z.useCallback)(()=>{c.current||((0,nI.nP)("mweb.closeup.product_carousel_image.load"),c.current=!0),i&&i()},[i]);return(0,ec.Z)(()=>{t||(0,nI.nP)("mweb.closeup.product_carousel_image.no_image_url")}),(0,az.Z)(p,{metricName:"mweb.closeup.product_carousel_image.invalid_dimensions",tags:{isAuthenticated:d}}),(0,ew.jsxs)(V.iP,{onTap:()=>{d||(0,eG.My)("unauth.pdp.carousel.click",{device:u,index:s}),l()},tapStyle:"compress",children:[(0,ew.jsx)(V.xu,{ref:p,dangerouslySetInlineStyle:{__style:{background:"rgba(0, 0, 0, 0.03)"}},height:"100%",position:"absolute",top:!0,width:"100%",zIndex:new V.Ry(1)}),(0,ew.jsx)(V.Ee,{alt:e,color:n,fetchPriority:g?"high":void 0,loading:o?"lazy":"auto",naturalHeight:a,naturalWidth:r,onLoad:m,src:t})]})}let lj=(void 0!==S||(S=a(235237)).hash&&"c680e00cd7b9416b1b23b78e3d6e22db"!==S.hash&&console.error("The definition of 'ProductCarousel_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),S);function lA({onImageTap:e,pinKey:n,pwtSurfaceContext:a,viewParameter:l,unauthLazyLoad:i}){(0,O.Z)("ProductCarousel","/app/www/shopping/duplo/productCarousel/ProductCarousel.tsx");let t=(0,U.$B)(),r=(0,eE.ZP)(),o=(0,ey.Z)(),[s,d]=(0,Z.useState)(0),{isAuthenticated:u}=(0,er.B)(),{mWebCloseupRedesignEnabled:c}=(0,e_.Z)(),p=(0,Z.useRef)(null),g=(0,Z.useRef)([]),m=(0,Q.Z)(lj,n),_=(0,Z.useCallback)(()=>{(0,et.Nx)("PinPageMainImageRendered"),a&&a.markConstraintComplete("PinPageMainImageRendered")},[a]),h=r._('Pin image', 'Pin closeup image', 'Pin closeup image'),y=(0,aD.Z)({isHiddenPin:m?.isHidden,isUnsafePin:m?.isUnsafe})&&0===s,f=(0,lE.Z)(m),k=(f?.carouselSlots??[]).filter(({imageSizeMap:e})=>(0,lC.Z)(e)),x=k.length,{imageSignature:S}=k[s]||{},b=()=>{if(!p.current)return;let{left:e,width:n}=p.current.getBoundingClientRect(),a=e+n/2;for(let e=0;e<x;e++){let{x:n}=g.current[e].current.getBoundingClientRect(),{x:l=1/0}=g.current[e+1]?.current.getBoundingClientRect()||{};if(n<=a&&l>a){d(e);break}}};(0,ec.Z)(()=>{g.current=Array(x).fill().map((e,n)=>g.current[n]||(0,Z.createRef)());let e=p.current;return e&&e.addEventListener("scroll",b),()=>{e?.removeEventListener("scroll",b)}}),(0,Z.useEffect)(()=>{S&&o({event_type:13,view_type:3,view_parameter:144,element:10555,aux_data:{view_object_image_signature:S}})},[o,S]);let P=(0,Z.useRef)((0,ls.u)()?.setHasScrolledPastMainContent);(0,Z.useEffect)(()=>{let e=(0,eV.Z)(()=>{if(p.current){let n=window.scrollY>p.current.offsetTop+p.current.offsetHeight;P.current?.(n),n&&window.removeEventListener("scroll",e)}},10);e(),window.addEventListener("scroll",e)},[]);let{hasScrolledPastMainContent:v}=(0,ls.u)()??Object.freeze({}),w="visualSearch";return u||v||(w="moreLikeThisButton"),(0,ew.jsxs)(V.xu,{marginEnd:-eJ.D6,marginStart:-eJ.D6,position:"relative",children:[(0,ew.jsx)(V.xu,{ref:p,display:"flex",maxHeight:"60vh",minHeight:"30vh",overflow:"scrollX",children:k.map((n,a)=>{let l=0===a,t=a===x-1,r=(0,lC.Z)(n.imageSizeMap);return(0,ew.jsx)(V.xu,{ref:g.current[a],alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"#ffffff00"}},display:"flex",flex:"none",marginEnd:c?1:2*!t,marginStart:c?+!!l:void 0,overflow:c?"hidden":void 0,position:"relative",rounding:c?4:void 0,width:"80%",children:(0,ew.jsx)(lF,{alt:h,dominantColor:"#ffffff00",height:r?.height??1,index:a,onImageTap:e,onLoad:_,src:r?.url??"",unauthLazyLoad:i&&!l,width:r?.width??1})},`${m?.entityId??""}_${a}`)})}),(0,ew.jsx)(V.xu,{dangerouslySetInlineStyle:{__style:{transition:"opacity 500ms,                          visibility 500ms ease-in-out",visibility:y?"visible":"hidden"}},marginEnd:c?1:void 0,opacity:+!!y,children:(0,ew.jsx)(lt,{imageSignature:S,pinId:t.params.id||m?.entityId||"",pinKey:m,type:w,viewParameter:l})})]})}let lL=(0,am.Z)(()=>Promise.all([a.e("22244"),a.e("52759"),a.e("55054")]).then(a.bind(a,75465)),void 0,e=>75465,"app-www-closeup-duplo-CloseupStoryPinBlock",e=>["22244","52759","55054"]),lR=(0,am.Z)(()=>Promise.all([a.e("22244"),a.e("52759"),a.e("41175"),a.e("13094")]).then(a.bind(a,126484)),void 0,e=>126484,"app-www-storyPins-duplo-StoryPinCloseup",e=>["22244","52759","41175","13094"]),lD=(0,am.Z)(()=>Promise.all([a.e("22244"),a.e("49473")]).then(a.bind(a,483910)),void 0,e=>483910,"app-www-closeup-duplo-CloseupVideo",e=>["22244","49473"]),lK=(0,am.Z)(()=>Promise.all([a.e("22244"),a.e("52759"),a.e("41175"),a.e("18917")]).then(a.bind(a,295446)),void 0,e=>295446,"app-www-closeup-duplo-StoryPinCloseupBodyOnDesktop",e=>["22244","52759","41175","18917"]),lB=(0,am.Z)(()=>a.e("90637").then(a.bind(a,668124)),void 0,e=>668124,"app-www-closeup-duplo-StoryPinCloseupDetailsOnDesktop",e=>["90637"]),lO=(0,am.Z)(()=>Promise.all([a.e("22244"),a.e("52759"),a.e("41175"),a.e("13094"),a.e("18153")]).then(a.bind(a,473724)),void 0,e=>473724,"app-www-closeup-duplo-StoryPinCloseupBodyOnMobile",e=>["22244","52759","41175","13094","18153"]),lZ=(0,am.Z)(()=>a.e("40947").then(a.bind(a,864187)),void 0,e=>864187,"app-www-SeoDebugModule-SeoDebugModulePin",e=>["40947"]),lN=(0,am.Z)(()=>a.e("22269").then(a.bind(a,929318)),void 0,e=>929318,"app-packages-rich-snippet-LeafSnippet",e=>["22269"]),lM=({setIsShowingCloseupDetailsSuspenseFallback:e})=>((0,Z.useEffect)(()=>(e(!0),()=>e(!1)),[e]),null),lU=({children:e,queryRef:n})=>e((0,Q.Z)((void 0!==b||(b=a(684658)).hash&&"6eb3aa6fbf1cc1f0828a3a00fad8d439"!==b.hash&&console.error("The definition of 'CloseupMainPinDetail_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),b),(0,em.usePreloadedQuery)(eQ.default,n).v3GetPinQuery?.data)),lz=({children:e,fallback:n,queryRef:a})=>a?(0,ew.jsx)(Z.Suspense,{fallback:n,children:(0,ew.jsx)(lU,{queryRef:a,children:n=>n&&e(n)})}):e(null);function lV({actionBarIsMinifiedToMainPinImage:e,clickthrough:n,closeupPinActionBar:l,closeupIsFirstPageInHistoryStack:i,embedSrc:t,embedSubtype:r,embedType:o,graphqlRefs:s,hasImages:d,hasProductAdditionalImages:u,shouldRenderAsStoryPinVideo:c,instagramPostLink:p,isActionBarInline:g,isEligibleForPdp:m,isImagePinForUnauthOnTablet:_,isRelatedPinsFeedIsEmpty:h,isSendPinModalOpen:y,isVideoPin:f,nativeCreatorVerifiedWebsite:k,onMoreButtonClick:x,onSendPin:S,pinActionBar:b,pinId:v,pinImageLargeUrl:w,pinLink:T,pinMobileLink:I,pinTrackedLink:C,pinUtmLink:E,setIsActionBarInline:F,setIsShowingCloseupDetailsSuspenseFallback:j,setPinImageHeight:A,shouldShowReactions:L,shouldShowSEOPinInfo:R,showCloseupCommentModule:D,unauthCloseupRedesignEnabled:K,viewerId:B,legacyPin:O}){let M=null!=O?{type:"deprecated",data:O}:null,U=s?.pageRef,H=U??M,{isAuthenticated:Y,isBot:q}=(0,er.B)(),{seoDebug:$}=(0,N.v9)(({session:e})=>e),{clientTrackingParams:X,isStoryPin:J,viewParameter:ee,shouldRenderAsStoryPin:en}=(0,aG.B)(),{checkExperiment:et}=(0,el.r)(),eo=(0,z.TH)(),es=(0,eu.Wb)(),ed=(0,n7.g)(),ec=(0,ei.A)(),ep=(0,eu.HG)(),[eg,em]=(0,Z.useState)(!1),[e_,eh]=(0,Z.useState)(!0),ey=(0,W.g)(),ef=ey?.pinLinkClickHandler,ek=!Y&&ep&&!en&&et("ce_dweb_unauth_pin_card_overflow").anyEnabled,ex=()=>{n(),ef&&ef()},eS=lI(),eb=()=>eS({linkType:I&&"mobile"||E&&"utm"||C&&"tracked"||T&&"external"||"original",viewParameter:ee}),eP=(0,N.I0)(),ev=(0,N.v9)(({pinNavContext:e})=>e?.pinId!==v?{}:e,(e,n)=>e?.pinId===n?.pinId);(0,Z.useEffect)(()=>{ev?.pinId&&ev.pinId!==v&&eP({type:"PIN_NAV_CONTEXT_DELETE"})},[]);let eT=(0,Q.Z)((void 0!==P||(P=a(152716)).hash&&"33567d57b67b5a49be2253f636baf23e"!==P.hash&&console.error("The definition of 'CloseupMainPinStoryPin_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),P),s?.storyPinRef??null),eI=eT??M,eC=e3();return(0,ew.jsx)(G.Z,{id:"CloseupMainPinImpression",children:(0,ew.jsx)(V.xu,{dangerouslySetInlineStyle:K?{__style:eC}:void 0,children:(0,ew.jsxs)(lS,{imageLargeUrl:w,isVideoPin:f,pinId:v,children:[$&&e_&&(0,ew.jsx)(lZ,{entityId:v,setShowSeoDebugModule:eh}),e&&(0,ew.jsx)(lP,{onMoreButtonTap:x,onSendButtonTap:S}),en?(0,ew.jsxs)(Z.Fragment,{children:[ep?(0,ew.jsx)(G.Z,{id:"StoryPinCloseupBodyOnDesktop",children:(0,ew.jsx)(lK,{clientTrackingParams:X,graphqlRef:eT,pinActionBar:b,pinId:v})}):(0,ew.jsx)(G.Z,{id:"StoryPinCloseupBodyOnMobile",children:(0,ew.jsx)(lO,{clientTrackingParams:X,graphqlRef:eT,pinId:v,viewParameter:ee})}),(0,ew.jsx)(lz,{queryRef:s?.detailRef,children:e=>{let n=e??M;return ep||_||null==n?null:(0,ew.jsx)(G.Z,{id:"CloseupDetails",children:(0,ew.jsx)(aC,{clientTrackingParams:X,instagramPostLink:p,isActionBarInline:g,isStoryPin:!0,nativeCreatorVerifiedWebsite:k,onClickTitleOrDomain:Y?eb:ex,pinId:v,setIsActionBarInline:F,shouldShowReactions:L,shouldShowSEOPinInfo:R,showCloseupCommentModule:D,unauthCloseupRedesignEnabled:K,viewParameter:ee,pinKey:n})})}})]}):(0,ew.jsx)(G.Z,{id:"CloseupBodyLayout",children:(0,ew.jsx)(e9,{closeupPinActionBar:l,detail:J&&!en&&ep?(0,ew.jsx)(G.Z,{id:"CloseupDetailsLayout",children:(0,ew.jsx)(aw,{excludeHeaderOffset:ek,children:(0,ew.jsxs)(V.xu,{padding:3,children:[b,(0,ew.jsx)(G.Z,{id:"StoryPinCloseupDetailsOnDesktop",children:(0,ew.jsx)(lB,{clientTrackingParams:X,disableScroll:!0,graphqlRef:eT,pinId:v,shouldHideReactions:!0})})]})})}):(0,ew.jsx)(lz,{fallback:(0,ew.jsx)(lM,{setIsShowingCloseupDetailsSuspenseFallback:j}),queryRef:s?.detailRef,children:n=>{let a=n??M;return null!=a?(0,ew.jsx)(G.Z,{id:"CloseupDetails",children:(0,ew.jsx)(aC,{clientTrackingParams:X,inPinCardOverflowExp:ek,instagramPostLink:p,isActionBarInline:g,isImagePinForUnauthOnTablet:_,isStoryPin:J,nativeCreatorVerifiedWebsite:k,onClickTitleOrDomain:ex,pinActionBar:e?null:b,pinId:v,setIsActionBarInline:F,shouldShowReactions:L,shouldShowSEOPinInfo:R,showCloseupCommentModule:D,unauthCloseupRedesignEnabled:K,viewerId:B,viewParameter:ee,pinKey:a})}):null}}),inPinCardOverflowExp:ek,isShowingBreadcrumbs:!Y&&!(J&&!ep),media:(0,ew.jsx)(e0.Z,{clientTrackingParams:X,component:f?179:85,viewParameter:ee,children:f?(0,ew.jsx)(G.Z,{id:"CloseupVideo",children:(0,ew.jsx)(lD,{handleVideoTimeChange:e=>{eP({type:"PIN_NAV_CONTEXT_CREATE",payload:{pinId:v,video:{elapsedTime:e}}})},isAuthenticated:Y,isFirstPageInHistoryStack:i,isSendPinModalOpen:y,onSendPin:S,pinId:v,pinKey:H,startTimeAt:ev?.video?.elapsedTime})}):(0,ea.cL)({embedSrc:t,embedSubtype:r,embedType:o})?(0,ew.jsx)(lz,{queryRef:s?.detailRef,children:e=>(0,ew.jsx)(aA,{graphqlRef:e??null,pinId:v})}):!ep&&u&&(Y?m:!q)?(0,ew.jsx)(lz,{queryRef:s?.detailRef,children:e=>{let n=e??M;return null!=n?(0,ew.jsx)(G.Z,{id:"ProductCarousel",children:(0,ew.jsx)(lA,{onImageTap:eb,pwtSurfaceContext:ec,unauthLazyLoad:!Y,viewParameter:ee,pinKey:n})}):null}}):d?(0,ew.jsx)(lr.x,{children:(0,ew.jsx)(V.xu,{dangerouslySetInlineStyle:{__style:{margin:Y&&!es?`0 ${-eJ.yt}px`:void 0}},children:(0,ew.jsx)(G.Z,{id:"CloseupMainPinImage",children:(0,ew.jsx)(ly,{actionBarIsMinifiedToMainPinImage:e,clickthrough:eg?ex:void 0,graphqlRef:U??null,isRelatedPinsFeedIsEmpty:h,onImageClick:e=>{e&&(e.preventDefault(),e.stopPropagation()),c||eb()},pinId:v,renderStoryPinBlock:({placeholder:e})=>c&&!ep?(0,ew.jsx)(lR,{clientTrackingParams:X,graphqlRef:eT,location:eo,pinId:v,viewParameter:ee}):(0,ew.jsx)(lL,{pinKey:eI,placeholder:e}),setPinImageHeight:A,setShowClickthroughOverlay:em,shouldRenderAsStaticImageIdeaPin:J&&!en,shouldRenderAsStoryPinVideo:c,viewParameter:ee})})})}):(0,ew.jsx)(Z.Fragment,{children:null})}),sideBySideOptions:"lg"===ed||ep?{mainImageEventHandlers:f?void 0:ep?{onMouseEnter:()=>{em(!0)},onMouseLeave:()=>{em(!1)}}:void 0}:null})}),!Y&&(0,ew.jsx)(lz,{queryRef:s?.detailRef,children:e=>{let n=e??M;return null!=n?(0,ew.jsx)(lN,{pinKey:n}):null}})]})})})}function lG({actionBarIsMinifiedToMainPinImage:e,clickthroughInterstitialExperience:n,graphqlRefs:l,onLinklessPinTap:i,unauthPdp:t,pinId:r,nativeCreatorVerifiedWebsite:o,...s}){let d=(0,Q.Z)((void 0!==v||(v=a(259707)).hash&&"293e350185d535dbeb8cb49a30d4f12e"!==v.hash&&console.error("The definition of 'CloseupMainPin_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),v),l.pageRef),u=(0,nY.Z)({clickthroughInterstitialExperience:n,linklessOptions:(0,ea.rM)({mobileLink:d.mobileLink,trackedLink:d.trackedLink,link:d.link,utmLink:d.utmLink})?{actionBarIsMinifiedToMainPinImage:e,onTap:i}:void 0,nativeCreatorVerifiedWebsite:o,pinKey:d}),c=d.richMetadata?.products?.[0],p=Number(c?.additionalImageSpec_236x?.length)>0||Number(c?.additionalImageSpec_474x?.length)>0||Number(c?.additionalImageSpec_564x?.length)>0||Number(c?.additionalImageSpec_736x?.length)>0,g=d.storyPinData?.pages?.filter(e=>!(2===e.layout&&!e.ad||5===e.layout||6===e.layout)),m=g?.some(e=>e.blocks?.find(e=>3===e.blockType))||(g?.length||0)>1;return(0,ew.jsx)(lV,{...s,actionBarIsMinifiedToMainPinImage:e,clickthrough:u,clickthroughInterstitialExperience:n,embedSrc:d.embed?.src,embedSubtype:d.embed?.subtype,embedType:d.embed?.type,graphqlRefs:{...l,pageRef:d},hasImages:!!d.imageSpec_orig,hasProductAdditionalImages:p,isEligibleForPdp:d.isEligibleForPdp,legacyPin:null,nativeCreatorVerifiedWebsite:o,onLinklessPinTap:i,pinId:r,pinImageLargeUrl:d.imageLargeUrl,pinLink:d.link,pinMobileLink:d.mobileLink,pinTrackedLink:d.trackedLink,pinUtmLink:d.utmLink,shouldRenderAsStoryPinVideo:m})}function lH({actionBarIsMinifiedToMainPinImage:e,clickthroughInterstitialExperience:n,unauthPdp:a,onLinklessPinTap:l,pinId:i,nativeCreatorVerifiedWebsite:t,...r}){let o=(0,aE.S6)()(i),s=(0,nY.Z)({clickthroughInterstitialExperience:n,linklessOptions:(0,ea.rM)({mobileLink:o?.mobile_link,trackedLink:o?.tracked_link,link:o?.link,utmLink:o?.utm_link})?{actionBarIsMinifiedToMainPinImage:e,onTap:l}:void 0,nativeCreatorVerifiedWebsite:t,pinKey:null!=o?{type:"deprecated",data:o}:null}),d=o?.story_pin_data?.pages?.filter(e=>!(2===e.layout&&!e.ad||5===e.layout||6===e.layout)),u=d?.some(e=>e.blocks?.find(e=>3===e.block_type))||(d?.length||0)>1;return o?(0,ew.jsx)(G.Z,{id:"CloseupMainPin",children:(0,ew.jsx)(lV,{...r,actionBarIsMinifiedToMainPinImage:e,clickthrough:s,clickthroughInterstitialExperience:n,embedSrc:o.embed?.src,embedSubtype:o.embed?.subtype,embedType:o.embed?.type,hasImages:!!o.images,hasProductAdditionalImages:Number(o.rich_metadata?.products?.[0].additional_images?.length)>0,isEligibleForPdp:o.is_eligible_for_pdp,legacyPin:o,nativeCreatorVerifiedWebsite:t,onLinklessPinTap:l,pinId:i,pinImageLargeUrl:o.image_large_url,pinLink:o.link,pinMobileLink:o.mobile_link,pinTrackedLink:o.tracked_link,pinUtmLink:o.utm_link,shouldRenderAsStoryPinVideo:u})}):null}function lW({unauthPdp:e,graphqlRefs:n,...a}){return(0,O.Z)("CloseupMainPin","/app/www/closeup/duplo/CloseupMainPin.tsx"),n?(0,ew.jsx)(lG,{...a,graphqlRefs:n,unauthPdp:e}):(0,ew.jsx)(lH,{...a,unauthPdp:e})}var lY=a(221020),lq=a(914061),l$=a(374891),lX=a(931073);function lQ({children:e,imageViewer:n}){return(0,O.Z)("WithImageViewer","/app/www/closeup/duplo/WithImageViewer.tsx"),(0,ew.jsxs)(Z.Fragment,{children:[(0,ew.jsx)(V.xu,{dangerouslySetInlineStyle:{__style:{transition:"opacity 0.2s ease-out"}},"data-layout-shift-boundary-id":"CloseupPageContainerInner",display:n?"visuallyHidden":"block",opacity:+!n,children:!n&&e}),(0,ew.jsx)(eI.Z,{name:"SafeSuspense_Closeup_ImageViewer",children:(0,ew.jsx)(eM.Z,{children:(0,ew.jsx)(V.xu,{dangerouslySetInlineStyle:{__style:{transition:"opacity 0.2s ease-in"}},display:n?"block":"visuallyHidden",opacity:+!!n,children:n})})})]})}let lJ=(void 0!==w||(w=a(464778)).hash&&"fe3ae48c7e040b2bea5919c1aeefabdf"!==w.hash&&console.error("The definition of 'CloseupPageContainer_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),w);function l0({children:e,closeupPageContext:n,hasGutter:a,imageViewer:l,pinKey:i,stickyUpsell:t}){(0,O.Z)("CloseupPageContainer","/app/www/closeup/duplo/CloseupPageContainer.tsx");let r=i&&"GraphQL"===(0,lY.o)(i),o=(0,Q.Z)(lJ,i);return(0,ew.jsx)(G.Z,{id:"CloseupPageContainer",children:(0,ew.jsx)(aG.q,{value:n,children:(0,ew.jsxs)(V.xu,{position:"relative",width:"100%",children:[!!t&&(0,ew.jsx)(V.Le,{top:a8.SB,zIndex:new V.Ry(99999),children:t}),(0,ew.jsx)(l$.u,{children:(0,ew.jsx)(lX.Z,{graphqlRef:r?o:null,onSendButtonClick:n.onSendButtonClick,children:(0,ew.jsx)(lq.default,{dataLayoutShiftBoundaryId:"CloseupPageContainer",hasFixedHeader:!0,hasGutter:a,children:(0,ew.jsx)(ln.m,{children:(0,ew.jsx)(lQ,{imageViewer:l,children:e})})})})})]})})})}var l1=a(558543),l2=a(551651),l3=a(47236),l5=a(620427);let l6=(void 0!==T||(T=a(113037)).hash&&"5b01543e9ace6cf2b437348f6b1a3a64"!==T.hash&&console.error("The definition of 'CloseupPageViewAndTimeSpent_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),T);function l8({children:e,pin:{imageSignature:n,isEligibleForPdp:a,isOosProduct:l,isStaleProduct:i,shoppingFlags:t,trackingParams:r},pinId:o,viewParameter:s}){let d=(0,z.TH)(),u=(0,z.ur)(),c=(0,l5.Z)(d.state?.trackingParams,r);return(0,ew.jsx)(l2.Z,{auxData:{closeup_navigation_type:(0,lf.Z)(u,d),commerce_data:(0,l3.Z)({isEligibleForPdp:a,isOosProduct:l,isStaleProduct:i,pinShoppingFlags:t??[]})},clientTrackingParams:c,component:13283,objectIdStr:o,viewData:{pin_id:o,closeup_rich_types:t??[],image_signature:n??null},viewParameter:s,viewType:3,children:(0,ew.jsx)(e0.Z,{clientTrackingParams:c,objectId:o,view:3,children:e})})}function l4({children:e,pinKey:n,...a}){(0,O.Z)("CloseupPageViewAndTimeSpent","/app/www/closeup/duplo/CloseupPageViewAndTimeSpent.tsx");let l=(0,Q.Z)(l6,n);return l?(0,ew.jsx)(l8,{pin:l,...a,children:e}):null}var l7=a(289032),l9=a(709311),ie=a(239846),ia=a(101639),il=a(849126);let ii=(0,am.Z)(()=>a.e("32462").then(a.bind(a,957297)),{ssr:!1},e=>957297,void 0,void 0),it=(0,am.Z)(()=>a.e("89402").then(a.bind(a,883635)),{ssr:!1,fallback:(0,ew.jsx)(ie.Z,{paddingX:2})},e=>883635,"ReactionPicker",e=>["89402"]),ir=(0,am.Z)(()=>Promise.resolve().then(a.bind(a,326972)),void 0,e=>326972,"CommentThreadModalEntryPoint",e=>[]),io=(0,am.Z)(()=>Promise.resolve().then(a.bind(a,627299)),void 0,e=>627299,"AnimatedSendButton",e=>[]),is=(0,am.Z)(()=>Promise.resolve().then(a.bind(a,486637)),void 0,e=>486637,"PinContextMenuButton",e=>[]),id=(void 0!==I||(I=a(759951)).hash&&"e8f40258af46d83cd4ddd5e356f0c86a"!==I.hash&&console.error("The definition of 'CloseupPinActionBar_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),I),iu=({children:e,experience:n,onCompleteRef:a})=>{let l=(0,Z.useRef)(null);return(0,ew.jsxs)(Z.Fragment,{children:[(0,ew.jsx)(V.xu,{ref:l,children:(0,ew.jsx)(V.xu,{children:e})}),(0,ew.jsx)(eI.Z,{name:"SafeSuspense_PinActionBarSaveButton_ExperienceTooltipDelayedPulsar",children:(0,ew.jsx)(G.Z,{id:"ExperienceTooltipDelayedPulsar",children:(0,ew.jsx)(ii,{anchor:l.current,eligibleIds:[503459,503761],experience:n,onCompleteRef:a,showTooltip:!0})})})]})};function ic({experience:e,isRemovablePin:n,nativePinType:a,onMobileTap:l,onSendButtonClick:i,pinId:t,pinKey:r,pinnedToBoardId:o,pinnedToBoardUrl:s,setIsActionBarInline:d,shouldUseGraphQL:u}){(0,O.Z)("CloseupPinActionBar","/app/www/closeup/duplo/CloseupPinActionBar.tsx");let c=(0,Z.useRef)(null),p=(0,Z.useRef)(!1),g=(0,eu.ml)(),{isAuthenticated:m,locale:_}=(0,er.B)(),{clientTrackingParams:h,saveButtonConfig:y,viewParameter:f}=(0,aG.B)(),k=(0,Z.useRef)(null),{checkExperiment:x}=(0,el.r)(),S=(0,ia.$)(),{logStat:b}=(0,nq.Yg)(),P=(0,Q.Z)(id,r),v="en-US"===_||"en-CA"===_,{mWebCloseupRedesignEnabled:w,mWebCloseupRedesignExpGroup:T}=(0,e_.Z)(),I=(0,ey.Z)(),C=(P?.aggregatedPinData?.commentCount??0)+(P?.aggregatedPinData?.didItData?.imagesCount??0),E=P?.aggregatedPinData?.entityId,F=P?.pinner?.blockedByMe,j=!m&&!g&&v&&x("unauth_eoq_mau_lever").anyEnabled,A=!m&&g&&v&&x("unauth_eoq_mau_lever").anyEnabled,L=(0,Z.useMemo)(()=>({tags:{in_experiment:w,exp_group:T??"none"}}),[w,T]),R=(0,Z.useCallback)(e=>{(0,nI.nP)("mweb.closeup.closeup_pin_action_bar.context_menu_button.click",L),l&&l(e)},[l,L]),D=(0,Z.useCallback)(e=>{(0,nI.nP)("mweb.closeup.closeup_pin_action_bar.share_button.click",L),i&&i(e)},[i,L]),K=(0,Z.useCallback)(()=>{(0,nI.nP)("mweb.closeup.closeup_pin_action_bar.comment_button.click",L)},[L]),B=(0,Z.useCallback)(()=>{(0,nI.nP)("mweb.closeup.closeup_pin_action_bar.reaction_button.click",L)},[L]),N=(0,l7.Z)(()=>{w&&(0,nI.nP)("mweb.closeup.pin_action_bar.save_button.click",L)},100),M=(0,ew.jsx)(V.kC,{alignItems:"center",dataTestId:"reaction-count",justifyContent:"start",minWidth:40,children:(0,ew.jsx)(G.Z,{id:"ReactionPicker",children:(0,ew.jsx)(it,{aggregatedPinDataId:E,nativePinType:a??"",onReactionButtonClick:B,pinId:t,shouldUseGraphQL:u})})}),U=(0,ew.jsxs)(V.kC,{alignItems:"center",dataTestId:"comment-button",justifyContent:"start",children:[(0,ew.jsx)(G.Z,{id:"CommentThreadModalEntryPoint",children:(0,ew.jsx)(ir,{onCommentButtonClick:K,padding:2,pinId:t,withReactions:!1})}),!!C&&C>0&&(0,ew.jsx)(V.xu,{marginEnd:2,children:(0,ew.jsx)(V.xv,{dataTestId:"comment-count",size:"100",weight:"bold",children:(0,ew.jsx)(l9.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:C},C)})})]}),z=(0,ew.jsxs)(V.kC,{alignItems:"center",dataTestId:"share-button-group",justifyContent:"start",children:[(0,ew.jsx)(G.Z,{id:"AnimatedSendButton",children:(0,ew.jsx)(io,{ref:c,onDefaultSendButtonClick:D,padding:2,pinId:t,pinKey:P,viewParameter:f})}),(0,ew.jsx)(G.Z,{id:"ExperiencePopoverEducational",children:(0,ew.jsx)($.N,{anchors:{4019:c.current},idealDirection:"down",onAnchorTouch:"complete",placementId:1000112,scrollToDismiss:!0})})]}),H=(0,ew.jsx)(V.kC,{alignItems:"center",dataTestId:"context-menu-button",justifyContent:"start",children:(0,ew.jsx)(V.xu,{"data-test-id":"ellipsis-button",children:(0,ew.jsx)(G.Z,{id:"PinContextMenuButton",children:(0,ew.jsx)(is,{clientTrackingParams:h,onMobileTap:R,onSendButtonClick:i,padding:2,pinKey:P,seoDrawerPinType:"closeup",shouldShowSeoDrawerNewfields:!m,shouldShowSeoDrawerOption:!m,size:"lg",viewParameter:f})})})}),W=(0,ew.jsx)(G.Z,{id:"PinActionBarSaveButtonPulsarExperience",children:(0,ew.jsx)(iu,{experience:e,onCompleteRef:k,children:(0,ew.jsx)(V.xu,{"data-test-id":"closeup-save-button-container",children:(0,ew.jsx)(il.Z,{clientTrackingParams:h,color:"primary",deeplinkUri:y.shouldShowSavedButton&&s||y.repinPageLocation.deeplinkUri,onTouch:e=>{I({event_type:101,view_type:3,view_parameter:f,component:13282,element:10960,aux_data:{pin_id:t}}),k.current?.(),y.onSaveButtonClick(e),b(S?.getData(t)?"main_pin_savebutton_pinactionbar_withcloseuppreviewdata":"main_pin_savebutton_pinactionbar"),N()},onUnsave:y.onUnsaveButtonClick,pinId:t,pinnedToBoardId:o,pinRef:P,shouldShowSavedButton:y.shouldShowSavedButton,to:y.repinPageLocation.mwebUri,viewParameter:f,viewType:3})})})});return(0,ew.jsx)(V.xu,{color:"default","data-test-id":"closeup-pin-action-bar-container",width:"100%",children:(0,ew.jsx)(no.Z,{onVisibilityChange:d?e=>{if(!(e&&e.length>0&&d))return;let{intersectionRatio:n,boundingClientRect:a}=e[0],l=1===n,i=a.y<0;d(l||i),!p.current&&(l||i)&&((0,nI.nP)("mweb.closeup.closeup_pin_action_bar.impression",L),p.current=!0)}:()=>{},options:{threshold:[1]},children:e=>(0,ew.jsx)(V.xu,{ref:e,"data-test-id":"closeup-pin-action-bar",children:(0,ew.jsxs)(V.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,ew.jsxs)(V.kC,{alignItems:"center",dataTestId:"closeup-pin-action-items",gap:2,justifyContent:"start",children:[M,U,z,H]}),(0,ew.jsx)(V.kC,{alignItems:"center",gap:2,children:(0,ew.jsx)(V.xu,{marginStart:3,children:j||A||m&&(n||F)?null:W})})]})})})})}var ip=a(640168);let ig="undefined"!=typeof window&&window.innerWidth-32||400,im="CloseupPageSkeletonLoader__",i_=()=>{(0,O.Z)("CloseupSkeletonLoader","/app/www/closeup/duplo/CloseupSkeletonLoader.tsx");let e=(0,eE.ZP)(),{isAuthenticated:n}=(0,er.B)();return(0,ew.jsxs)(Z.Fragment,{children:[(0,ew.jsx)(a0.Z,{unsafeCSS:[{name:`${im}closeup`,width:ig,height:ig},{name:`${im}title`,width:ig,height:24},{name:`${im}attribution`,width:40,height:40},{name:`${im}credit`,width:ig-40-8,height:40},{name:`${im}visit_button`,width:ig,height:40},{name:`${im}pin_grid_pin`,width:(ig-32)/2,height:100}].map(({name:e,width:n,height:a})=>(0,ip.Z)({name:e,width:n,height:a})).join("")}),(0,ew.jsxs)(V.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,ew.jsxs)(Z.Fragment,{children:[(0,ew.jsx)(V.xu,{marginEnd:3,marginTop:4,children:(0,ew.jsx)("div",{className:im+"closeup"})}),(0,ew.jsx)(V.xu,{marginTop:3,children:(0,ew.jsx)("div",{className:im+"title"})}),(0,ew.jsxs)(V.xu,{direction:"row",display:"flex",marginTop:3,children:[(0,ew.jsx)(V.xu,{children:(0,ew.jsx)("div",{className:im+"attribution"})}),(0,ew.jsx)(V.xu,{marginStart:2,children:(0,ew.jsx)("div",{className:im+"credit"})})]}),(0,ew.jsx)(V.xu,{marginTop:3,children:(0,ew.jsx)(V.iz,{})})]}),(0,ew.jsx)(V.xu,{marginBottom:3,marginTop:2,children:(0,ew.jsx)(V.xv,{align:n?void 0:"center",weight:"bold",children:e._('More like this', 'On mobile web pin page, title for related pins beneath pin closeup', 'On mobile web pin page, title for related pins beneath pin closeup')})}),(0,ew.jsxs)(V.xu,{direction:"row",display:"flex",marginTop:3,children:[(0,ew.jsx)(V.xu,{marginEnd:n?2:1,marginStart:n?2:1,children:(0,ew.jsx)("div",{className:im+"pin_grid_pin"})}),(0,ew.jsx)(V.xu,{marginEnd:n?2:1,marginStart:n?2:1,children:(0,ew.jsx)("div",{className:im+"pin_grid_pin"})})]})]})]})};var ih=a(899678),iy=a(588836);function ik({pinContextMenuButton:e,showBackButtonLabel:n=!1}){(0,O.Z)("CloseupStickyHeader","/app/www/closeup/duplo/CloseupStickyHeader.tsx");let{isAuthenticated:a}=(0,er.B)(),l=(0,eu.ZP)(),{mWebCloseupRedesignEnabled:i}=(0,e_.Z)();return(0,ew.jsx)(V.Le,{top:a?0:(0,a8.x9)(l),zIndex:new V.H3([nD.sp]),children:(0,ew.jsx)(V.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},marginTop:i?1:2,position:"absolute",width:"100%",children:(0,ew.jsxs)(V.kC,{justifyContent:a?"between":"end",children:[a&&(0,ew.jsx)(ih.Z,{children:(0,ew.jsx)(iy.Z,{bgColor:"white",color:"darkGray",fallbackUrl:a?"/":"/ideas",padding:3,showBackButtonLabel:n,viewParameter:156,viewType:3})}),!!e&&(0,ew.jsx)(ih.Z,{children:e})]})})})}var ix=a(686319);async function iS(e){try{let n=await (0,ix.Z)({url:`/v3/users/state/${e}/`});return Promise.resolve(n.resource_response?.data)}catch(n){return(0,nI.nP)("app.user-state.request.get.error",{sampleRate:1,tags:{ErrorType:n instanceof Error?n.name:typeof n,key:e}}),Promise.resolve(null)}}async function ib(e,n){return(0,ix.Z)({url:`/v3/users/state/${e}/`,method:"PUT",data:{value:n}})}async function iP(e){try{await iS("HAS_DONE_CLOSEUP")||(0,lo.xT)(e)||await ib("HAS_DONE_CLOSEUP",1)}catch(n){(0,nI.nP)("closeup.has_done_closeup_check.failed",{sampleRate:1,tags:{ErrorType:typeof n,isAuthenticated:!!e}})}}let iv=({hasRecipe:e,hasArticle:n,hasVisit:a,i18n:l})=>e?l._('Make it', 'pinPage.pinActionBar.Makeit.Button', 'Text on a button that lets users visit the source of the pin'):n?l._('Read it', 'pinPage.pinActionBar.Readit.Button', 'Text on a button that lets users visit the source of the pin'):a?l._('Visit site', 'closeup.pinActionDropDown.visitSite', 'Button allowing user to clickthrough Pin'):l._('Visit', 'pinPage.pinActionBar.visitButton', 'Text on a button that lets users visit the source of the pin');var iw=a(467221);let iT=({bgColor:e,color:n})=>{(0,O.Z)("PinActionBarBackButton","/app/www/closeup/duplo/PinActionBarBackButton.tsx");let{viewParameter:a}=(0,aG.B)(),{isAuthenticated:l}=(0,er.B)();return(0,ew.jsx)(V.xu,{"data-test-id":"back-button",children:(0,ew.jsx)(iy.Z,{bgColor:e,color:n||"darkGray",fallbackUrl:l?"/":"/ideas",padding:"auto",size:"xl",viewParameter:a,viewType:3})})};var iI=a(530355),iC=a(394962),iE=a(588367);let iF=({children:e,headerLimitedOverflow:n,inlineBar:a,isDesktop:l,isActionBarInline:i,isTransparentBackground:t,showHorizontalActionBar:r,showingCloseupCommentModule:o,showActionBarInline:s,zIndex:d,isCloseupRedesign:u,logTags:c})=>{let{checkExperiment:p}=(0,el.r)(),{mWebCloseupRedesignEnabled:g,mWebCloseupRedesignExpGroup:m}=(0,e_.Z)(),_=(0,X.Z)(),[h,y]=(0,Z.useState)(!0),f=_.isAuth,k=(0,Z.useRef)(!1),x=!l&&r,S=!x||f||p("lop_ucan_mau_ui_holdout").anyEnabled?5:2,b=(0,eu.ml)(),P=b&&!f&&p("unauth_mweb_truncate_title_description").group,v=(0,e2.Z)({skipExpActivation:!0}),w=(0,Z.useRef)(null);return(0,Z.useEffect)(()=>(w.current=(0,iI.Z)(()=>y(i)),w.current=window.requestAnimationFrame(()=>{y(i)}),()=>{"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&w.current&&(window.cancelAnimationFrame(w.current),w.current=null)}),[i]),(0,Z.useEffect)(()=>{!g||h||k.current||((0,nI.nP)("mweb.closeup.pin_action_bar_layout.fixed_footer.impression",c),k.current=!0)},[g,h,c]),x?(0,ew.jsxs)(V.xu,{children:[g&&"enabled_with_no_action_buttons"===m?null:(0,ew.jsx)(V.xu,{dangerouslySetInlineStyle:{__style:{opacity:i&&!g?0:1,pointerEvents:i&&g?"none":void 0,transition:g?void 0:"opacity .4s ease-in-out"}},children:(0,ew.jsx)(iC.Z,{footerInLego:!g&&void 0,hasTopShadow:!0,hideOnScroll:!g&&void 0,isFooterHidden:g?h:void 0,navFooterConfig:g?{docked:!1,footerWidth:"100%",scrollConfig:{forceShow:!1,isDockedNavOnPlp:!1,isModal:!1,onScroll:()=>{}}}:void 0,paddingX:g?2:void 0,paddingY:g?3:S,zIndex:d,children:e},String(t))}),i&&s&&(0,ew.jsx)(V.xu,{dangerouslySetInlineStyle:{__style:{opacity:i||g?1:0,transition:"opacity .4s ease-in-out"}},marginEnd:g?-2:void 0,marginStart:g?-2:void 0,paddingY:u||o||b&&!f&&("enabled_both"===P||"enabled_description"===P)||g?0:S,children:a||e})]}):(0,ew.jsx)(iE.default,{headerLimitedOverflow:n,ignoreObstructions:t,isTranslucent:!t,isTransparentBackground:t,noGutter:v,zIndex:d,children:e},String(t))},ij=({backButton:e,commentButton:n,copyButton:a,editOrMoreButton:l,headerLimitedOverflow:i,inlineBar:t,isActionBarInline:r=!1,isDesktop:o,isTransparentBackground:s,saveButton:d,downloadButton:u,downloadIcon:c,showHorizontalActionBar:p,showingCloseupCommentModule:g,shareButtonGroup:m,visitButton:_,reactionCount:h})=>{let y;(0,O.Z)("PinActionBarLayout","/app/www/closeup/duplo/PinActionBarLayout.tsx");let f=(0,n7.g)(),{mWebCloseupRedesignEnabled:k,mWebCloseupRedesignExpGroup:x}=(0,e_.Z)(),S=(0,e2.Z)({skipExpActivation:!0}),{isAuthenticated:b}=(0,er.B)(),P=(0,Z.useRef)(!1);b?"lg"===f?y=nW.ow:p&&(y=nW.V3):y=p?nW.V3:nW.AI;let v=(0,Z.useMemo)(()=>({tags:{in_experiment:k,exp_group:x??"none",with_visit_button:!!_,with_save_button:!!d}}),[k,x,_,d]),w=k&&!_&&(!d||"enabled_with_one_action_button"===x);return((0,ec.Z)(()=>{!k||_||P.current||((0,nI.nP)("mweb.closeup.pin_action_bar_layout.linkless_impression",v),P.current=!0),w&&(0,nI.nP)("mweb.closeup.pin_action_bar_layout.empty_action_bar",v)}),w)?null:(0,ew.jsx)(V.xu,{dangerouslySetInlineStyle:S?{__style:{position:"sticky"}}:void 0,"data-test-id":"header",top:!!S,zIndex:S?new V.Ry(1):void 0,children:(0,ew.jsx)(iF,{headerLimitedOverflow:i,inlineBar:t,isActionBarInline:r,isDesktop:o,isTransparentBackground:s,logTags:v,showActionBarInline:!k||!!_,showHorizontalActionBar:p,showingCloseupCommentModule:g,zIndex:y,children:(0,ew.jsx)(V.kC,{alignItems:"center",dataTestId:"pin-action-bar-container",justifyContent:k?"center":"between",children:p?(0,ew.jsxs)(Z.Fragment,{children:[!k&&(0,ew.jsx)(V.kC,{alignItems:"center",justifyContent:"start",children:n||null}),(0,ew.jsxs)(V.xu,{alignItems:"center",display:"flex",justifyContent:"start",marginStart:n||!m||k?0:12,width:k&&"enabled_with_one_action_button"===x?"100%":void 0,children:[_||null,k&&"enabled_with_one_action_button"===x?null:d||null,!k&&(u||null)]}),!k&&(0,ew.jsxs)(V.kC,{alignItems:"center",justifyContent:"start",children:[m||null,c||null]})]}):(0,ew.jsxs)(Z.Fragment,{children:[(0,ew.jsxs)(V.kC,{alignItems:"center",justifyContent:"start",children:[!!e&&(0,ew.jsx)(V.xu,{color:s?"default":void 0,dangerouslySetInlineStyle:{__style:s?{boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"}:{}},rounding:"circle",children:e}),(0,ew.jsxs)(V.kC,{alignItems:"center",justifyContent:"start",children:[h||null,n||null,m||null,c||null,l||null,a||null]})]}),(0,ew.jsxs)(V.kC,{alignItems:"center",justifyContent:"start",children:[_||null,d||null,u||null]})]})})})})};var iA=a(700012),iL=a(326972),iR=a(486637),iD=a(940482),iK=a(76774),iB=a(449613),iO=a(627299);let iZ=(0,am.Z)(()=>a.e("32462").then(a.bind(a,957297)),{ssr:!1},e=>957297,void 0,void 0),iN=(0,am.Z)(()=>a.e("58000").then(a.bind(a,721332)),{ssr:!1},e=>721332,void 0,void 0),iM=(0,Z.lazy)(()=>a.e("22213").then(a.bind(a,89783))),iU=new V.Ry(5),iz=(void 0!==C||(C=a(389701)).hash&&"445b8da18de0c5107af5d6b113ec0f45"!==C.hash&&console.error("The definition of 'PinActionBarInner_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),C),iV=(void 0!==E||(E=a(763551)).hash&&"0fdfa9dec88741f6a0d305339b3fd44b"!==E.hash&&console.error("The definition of 'PinActionBar_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),E),iG=({children:e,experience:n,onCompleteRef:a})=>{let l=(0,Z.useRef)(null);return(0,ew.jsxs)(Z.Fragment,{children:[(0,ew.jsx)(V.xu,{ref:l,children:(0,ew.jsx)(V.xu,{children:e})}),(0,ew.jsx)(eI.Z,{name:"SafeSuspense_PinActionBarSaveButton_ExperienceTooltipDelayedPulsar",children:(0,ew.jsx)(G.Z,{id:"ExperienceTooltipDelayedPulsar",children:(0,ew.jsx)(iZ,{anchor:l.current,eligibleIds:[503459,503761],experience:n,onCompleteRef:a,showTooltip:!0})})})]})};function iH({pinId:e,pinKey:n,viewParameter:a}){let l=(0,Q.Z)(iz,n),i=(0,eE.ZP)(),[t,r]=(0,Z.useState)(!1),o=(0,Z.useRef)(null),s=(0,ew.jsx)(G.Z,{id:"AnimatedSendButton",children:(0,ew.jsx)(iO.default,{onDefaultSendButtonClick:()=>{r(!0)},pinId:e,pinKey:l,viewParameter:a})});return(0,ew.jsxs)(V.xu,{ref:o,children:[(0,ew.jsx)(V.kC,{alignItems:"center",justifyContent:"start",children:(0,ew.jsx)(V.u,{inline:!0,text:i._('Share', 'Closeup.SharePin.Icon', 'Icon for sharing the current pin'),zIndex:iU,children:s})}),t&&(0,ew.jsx)(eM.Z,{children:(0,ew.jsx)(G.Z,{id:"DesktopShareMenu",children:(0,ew.jsx)(iM,{anchor:o.current,component:194,objectId:e,objectType:1,onDismiss:()=>r(!1),title:i._('Share', 'PinCloseup.UnauthShareMenu.Title', 'title for unauth share menu popover'),viewParameter:a,viewType:3})})})]})}function iW({children:e,mWebCloseupRedesignEnabled:n,withMargin:a,withPadding:l}){return n?(0,ew.jsx)(V.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:l?12:void 0,paddingTop:l?12:void 0,marginBottom:a?12:void 0}},"data-test-id":"pin-action-bar-layout-wrapper",children:e}):e}function iY({aggregatedPinDataId:e,clickthroughInterstitialExperience:n,closeupLinkEnabled:a,experience:l,isEligibleForAggregatedComments:i,isRemovablePin:t,nativeCreatorVerifiedWebsite:r,onEditButtonClick:o,onMobileTap:s,onSendButtonClick:d,pinId:u,actionButtonText:c,pinnedToBoardId:p,pinnedToBoardUrl:g,nativePinType:m,scrolledToRelatedPins:_,shouldShowDownloadPopover:h,setShouldShowDownloadPopover:y,shouldShowReactions:f,shouldShowBackButton:k,shouldShowShareOnVideoCloseup:x,showCloseupCommentModule:S,isEligibleToVisitPin:b,hasPin:P,isEligibleForPdp:v,pinnerBlockedByMe:w,maybeGraphqlRef:T,pinKey:I,isActionBarInline:C,isGoLinkless:E,totalReactionCount:F}){let j=(0,eE.ZP)(),A=(0,Z.useRef)(null),L=(0,eu.HG)(),R=(0,eb.Z)(),{isAuthenticated:D}=(0,er.B)(),K=(0,aG.B)(),{clientTrackingParams:B,saveButtonConfig:O,viewParameter:N}=K,{setIsNavFooterHiddenByPinActionBar:M}=(0,iK.Q)(),U=(0,Z.useRef)(null),{hasApplicableLawForCountry:z}=(0,iB.ZP)(),H=(0,Q.Z)(iz,I),Y=(0,ez.Z)(),q=!D&&v,X=v&&D||q&&!L,J=!L&&!v,ee=X||J,en=(0,ia.$)(),{logStat:ea}=(0,nq.Yg)(),{mWebCloseupRedesignEnabled:el,mWebCloseupRedesignExpGroup:ei}=(0,e_.Z)(),et=el&&"enabled_with_one_action_button"===ei,eo=(0,nr.vs)(),es="true"===a3.ZP.getItem(aJ.m5),ed=(0,e2.Z)({skipExpActivation:!0}),ec=(0,iD.Z)({pinKey:H,onSendButtonClick:d}),{inDwebDownloadCTAExp:ep,inMwebDownloadCTAExp:eg,showDownloadCloseupIcon:em}=(0,iD.e)({seoDrawerPinType:"closeup"}),eh=(0,Z.useRef)(null),ey=em&&h,ef=(0,W.g)(),ek=(0,eU.l)(),ex=ef?.isModalShown||ek?.modal.isShown&&ek?.modal.displayProps.headingType!=="download_limit_reached",eS=(0,ew.jsx)(G.Z,{id:"PopoverMessage",children:(0,ew.jsx)(V.pl,{anchor:eh.current,forceDirection:!0,id:"closeup-download-icon-popover",idealDirection:L?"down":"up",message:j._('Love this image? You can download it!', 'closeup.download.closeup_icon.popover.text', 'Text on popover about download option in the closeup pin action bar'),onDismiss:()=>{ex||y(!1)}})}),{locale:eP}=(0,er.B)();(0,Z.useEffect)(()=>{(0,iw.we)(eP)},[eP]);let ev=!!l&&8===l.type;(0,Z.useEffect)(()=>{C?M(!1):M(!0)},[C,M]);let eT=(0,Z.useMemo)(()=>({tags:{in_experiment:el,exp_group:ei??"none"}}),[el,ei]),eC=(0,Z.useCallback)(()=>{el&&(0,nI.nP)("mweb.closeup.pin_action_bar.inline_visit_button.click",eT)},[el,eT]),eF=(0,Z.useCallback)(()=>{el&&(0,nI.nP)("mweb.closeup.pin_action_bar.visit_button.click",eT)},[el,eT]),ej=(0,l7.Z)(()=>{el&&(0,nI.nP)("mweb.closeup.pin_action_bar.save_button.click",eT)},100);if(_&&D&&!ee)return(0,ew.jsx)(G.Z,{id:"PinActionBarLayout",children:(0,ew.jsx)(ij,{backButton:k?(0,ew.jsx)(G.Z,{id:"PinActionBarBackButton",children:(0,ew.jsx)(iT,{bgColor:"white"})}):null,headerLimitedOverflow:ev,isActionBarInline:C,isDesktop:L,isTransparentBackground:!0,showHorizontalActionBar:ee})});let eA=!L&&i&&(!v||q||D),eL=(0,ew.jsx)(G.Z,{id:"PinContextMenuButton",children:(0,ew.jsx)(iR.default,{clientTrackingParams:B,onMobileTap:s,onSendButtonClick:d,pinKey:H,seoDrawerPinType:"closeup",shouldShowSeoDrawerNewfields:!D,shouldShowSeoDrawerOption:!D,viewParameter:N})}),eR=!x&&b&&!(q&&L)&&!(E&&!D)&&!es,eD=!L&&D&&!v&&ee&&C&&eR&&el;return(0,ew.jsx)(G.Z,{id:"PinActionBarLayoutWrapper",children:(0,ew.jsx)(iW,{mWebCloseupRedesignEnabled:el,withMargin:!eD&&C&&el,withPadding:eD,children:(0,ew.jsx)(G.Z,{id:"PinActionBarLayout",children:(0,ew.jsx)(ij,{backButton:k?(0,ew.jsx)(G.Z,{id:"PinActionBarBackButton",children:(0,ew.jsx)(iT,{})}):null,commentButton:eA&&!el&&(0,ew.jsx)(iL.default,{pinId:u}),downloadButton:(ep||eg)&&!el&&(0,ew.jsx)(V.zx,{color:"red",onClick:ec,size:"lg",text:ep?j._('Download image', 'download.button.dweb', 'Button to download image'):j._('Save to phone', 'download.button.mweb', 'Button to download image')}),downloadIcon:em&&!el&&(0,ew.jsx)(V.kC,{alignItems:"center",justifyContent:"start",children:L?(0,ew.jsxs)(V.u,{inline:!0,text:j._('Download image', 'Closeup.Download.Icon', 'Icon for downloading current pin image'),zIndex:new V.Ry(2),children:[(0,ew.jsx)(V.hU,{ref:eh,accessibilityLabel:j._('Download image', 'download.button.closeup', 'Button to download image'),bgColor:"transparent",icon:"download",iconColor:"darkGray",onClick:ec,size:"lg"}),ey&&eS]}):(0,ew.jsxs)(V.xu,{children:[(0,ew.jsx)(V.hU,{ref:eh,accessibilityLabel:j._('Download image', 'download.button.closeup', 'Button to download image'),bgColor:"transparent",icon:"download",iconColor:"darkGray",onClick:ec,size:"lg"}),ey&&eS]})}),editOrMoreButton:!ee&&!el&&(o?(0,ew.jsx)(V.xu,{"data-test-id":"editBoardButton",children:(0,ew.jsx)(V.hU,{accessibilityLabel:j._('edit', 'Pin edit button', 'Pin edit button'),icon:"edit",iconColor:"darkGray",onClick:({event:e})=>o(e),size:"lg"})}):(0,iA.Z)(K,z,L)&&!!P&&(0,ew.jsx)(V.xu,{"data-test-id":"ellipsis-button",children:eL})),headerLimitedOverflow:ev,inlineBar:eR&&el?(0,ew.jsx)(V.kC,{alignItems:"center",dataTestId:"pin-action-bar-container",justifyContent:"center",children:(0,ew.jsx)(V.xu,{dangerouslySetInlineStyle:ed?{__style:{position:"sticky"}}:void 0,"data-test-id":"visit-button-mobile-inline",paddingX:0,top:!!ed,width:"100%",children:(0,ew.jsx)(G.Z,{id:"PinActionBarVisitButton",children:(0,ew.jsx)(nX,{actionButtonText:c,clickthroughInterstitialExperience:n,closeupLinkEnabled:a,fullWidth:!0,isDesktop:L,nativeCreatorVerifiedWebsite:r,onClick:eC,pinKey:H})})})}):null,isActionBarInline:C,isDesktop:L,isTransparentBackground:eo,reactionCount:!D&&!el&&(0,ew.jsxs)(V.kC,{alignItems:"center",justifyContent:"start",children:[(0,ew.jsx)(V.u,{inline:!0,text:j._('React', 'Closeup.ReactionPicker.Icon', 'Icon for reacting to current pin'),zIndex:new V.Ry(2),children:(0,ew.jsx)(V.hU,{accessibilityLabel:"React to pin",dataTestId:"react-button",icon:"heart-outline",onClick:()=>{Y({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:"click react button",desktopOptions:{modalType:"signup"}}),R({action:"click",item:"reaction-button"})},padding:3})}),!!F&&F>0&&(0,ew.jsx)(V.xu,{marginEnd:2,children:(0,ew.jsx)(V.xv,{dataTestId:"reaction-count",weight:"bold",children:(0,ew.jsx)(l9.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:F},F)})})]}),saveButton:ep||eg||D&&(t||w)?null:(0,ew.jsx)(G.Z,{id:"PinActionBarSaveButtonPulsarExperience",children:(0,ew.jsx)(iG,{experience:l,onCompleteRef:U,children:(0,ew.jsx)(V.xu,{children:(0,ew.jsx)(il.Z,{clientTrackingParams:B,color:"primary",deeplinkUri:O.shouldShowSavedButton&&g||O.repinPageLocation.deeplinkUri,onTouch:e=>{U.current?.(),O.onSaveButtonClick(e),ea(en?.getData(u)?"main_pin_savebutton_pinactionbar_withcloseuppreviewdata":"main_pin_savebutton_pinactionbar"),ej()},onUnsave:O.onUnsaveButtonClick,pinId:u,pinnedToBoardId:p,pinRef:T,shouldShowSavedButton:O.shouldShowSavedButton,to:O.repinPageLocation.mwebUri,viewParameter:N,viewType:3})})})}),shareButtonGroup:!es&&!em&&!el&&(f&&m?(0,ew.jsxs)(V.kC,{alignItems:"center",justifyContent:"start",children:[(0,ew.jsx)(eI.Z,{name:"SafeSuspense_PinActionBarSaveButton_ReactionPickerContainer",children:(0,ew.jsx)(G.Z,{id:"ReactionPickerContainer",children:(0,ew.jsx)(iN,{aggregatedPinDataId:e,clientTrackingParams:B,experience:l,nativePinType:m,pinId:u})})}),x&&(0,ew.jsx)(G.Z,{id:"AnimatedSendButton",children:(0,ew.jsx)(iO.default,{onDefaultSendButtonClick:d,pinId:u,pinKey:H,viewParameter:N})})]}):(0,ew.jsx)(V.xu,{"data-test-id":"share-button",children:!D&&L?(0,ew.jsx)(G.Z,{id:"UnauthDesktopCloseupSendButton",children:(0,ew.jsx)(iH,{pinId:u,viewParameter:N})}):(0,ew.jsxs)(V.kC,{alignItems:"center",justifyContent:"start",children:[(0,ew.jsx)(G.Z,{id:"AnimatedSendButton",children:(0,ew.jsx)(iO.default,{ref:A,onDefaultSendButtonClick:d,pinId:u,pinKey:H,viewParameter:N})}),(0,ew.jsx)(G.Z,{id:"ExperiencePopoverEducational",children:(0,ew.jsx)($.N,{anchors:{4019:A.current},idealDirection:"down",onAnchorTouch:"complete",placementId:1000112,scrollToDismiss:!0})})]})})),showHorizontalActionBar:ee,showingCloseupCommentModule:S,visitButton:eR?(0,ew.jsx)(V.xu,{"data-test-id":"visit-button-mobile",paddingX:2*!et,width:et?"100%":void 0,children:(0,ew.jsx)(G.Z,{id:"PinActionBarVisitButton",children:(0,ew.jsx)(nX,{actionButtonText:c,clickthroughInterstitialExperience:n,closeupLinkEnabled:a,fullWidth:et,isDesktop:L,nativeCreatorVerifiedWebsite:r,onClick:eF,pinKey:H})})}):null})})})})}let iq=({graphqlRef:e,...n})=>{let a=(0,eE.ZP)(),{mWebCloseupRedesignEnabled:l}=(0,e_.Z)(),i=(0,M.useFragment)(iV,e),t=i.richMetadata?.recipe,r=iv({hasRecipe:!!(t?.name&&t.categorizedIngredients?.length&&!t.fromAggregatedData),hasArticle:!!i.richMetadata?.article,hasVisit:l,i18n:a});return(0,ew.jsx)(iY,{actionButtonText:r,aggregatedPinDataId:i.aggregatedPinData?.entityId,hasPin:!!i,isEligibleForAggregatedComments:i.isEligibleForAggregatedComments,isEligibleForPdp:i.isEligibleForPdp,isGoLinkless:i.isGoLinkless,maybeGraphqlRef:i,pinKey:i,pinnerBlockedByMe:i.pinner?.blockedByMe,totalReactionCount:i.totalReactionCount,...n})},i$=({pinId:e,...n})=>{let a=(0,aE.S6)()(e),l=(0,eE.ZP)(),{mWebCloseupRedesignEnabled:i}=(0,e_.Z)(),t=a?.pinner,r=a?.rich_metadata?.recipe,o=iv({hasRecipe:!!(r?.name&&r.categorized_ingredients&&!r.from_aggregated_data),hasArticle:!!a?.rich_metadata?.article,hasVisit:i,i18n:l});return(0,ew.jsx)(iY,{...n,actionButtonText:o,aggregatedPinDataId:a?.aggregated_pin_data?.id,hasPin:!!a,isEligibleForAggregatedComments:a?.is_eligible_for_aggregated_comments,isEligibleForPdp:a?.is_eligible_for_pdp,isGoLinkless:a?.is_go_linkless,maybeGraphqlRef:null,pinId:e,pinKey:a?{type:"deprecated",data:a}:null,pinnerBlockedByMe:t?.blocked_by_me,totalReactionCount:a?.total_reaction_count??0})};function iX({graphqlRef:e,...n}){return((0,O.Z)("PinActionBar","/app/www/closeup/duplo/PinActionBar.tsx"),e)?(0,ew.jsx)(iq,{graphqlRef:e,...n}):(0,ew.jsx)(i$,{...n})}function iQ({pinId:e}){(0,O.Z)("ReturnToSurfaceButton","/app/www/closeup/duplo/ReturnToSurfaceButton.tsx");let{checkExperiment:n}=(0,el.r)(),a=(0,U.k6)(),l=n("mweb_return_to_surface_button_new_user").group,i=n("mweb_return_to_surface_button_res_user").group,{sourceSurface:t,stepsBack:r}=function(e){let n=e.location,a=0;for(;a<50;){let{pathname:e,state:l}=n;if("/"===e)return{sourceSurface:"home",stepsBack:a};if(e.includes("/search"))return{sourceSurface:"search",stepsBack:a};if(!l?.from)return{sourceSurface:"",stepsBack:0};n={pathname:l.from.pathname,search:l.from.search,hash:l.from.hash,state:l.from.state},a+=1}return{sourceSurface:"",stepsBack:50}}(a),o=(l.includes("only")||i.includes("only"))&&!t,s="enabled_return_to_top"===l||"enabled_return_to_top"===i;return!o&&(l&&l.includes("enabled")||i&&i.includes("enabled"))?(0,ew.jsx)(iJ,{pinId:e,sourceSurface:s?"closeup":t,stepsBack:r}):null}function iJ({pinId:e,sourceSurface:n,stepsBack:a}){let{logContextEvent:l}=(0,al.u)(),i=(0,U.k6)(),t=(0,eE.ZP)(),{navFooterHeight:r}=(0,iK.Q)(),o=()=>{switch(n){case"search":return 43;case"home":return 146;default:return 10538}},s=()=>{switch(n){case"search":return t._('Return to search', 'mWeb.CloseupPage.ReturnToTop.title', 'Return to search button text');case"home":return t._('Return home', 'mWeb.CloseupPage.ReturnToTop.title', 'Return home button text');default:return t._('Return to top', 'mWeb.CloseupPage.ReturnToTop.title', 'Scroll back to the top of the page button text')}};return(0,Z.useEffect)(()=>{l({event_type:13,component:13283,element:o(),object_id_str:e})},[]),(0,ew.jsx)(V.xu,{dangerouslySetInlineStyle:{__style:{bottom:`${r+4}px`}},margin:2,position:"fixed",right:!0,children:(0,ew.jsx)(V.zx,{accessibilityLabel:s(),color:"white",dataTestId:`return-to-${n}-button`,iconStart:(()=>{switch(n){case"search":return"search";case"home":return"home";default:return}})(),onClick:()=>{var t;switch(t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,l({event_type:102,component:13283,element:o(),object_id_str:e,aux_data:{scroll_distance:t,steps_back:a||0}}),n){case"search":case"home":i.go(-a);break;default:window.scrollTo({top:0,behavior:"smooth"})}},size:"lg",text:s()})})}var i0=a(832771),i1=a(98328),i2=a(156618),i3=a(352908),i5=a(405463),i6=a(779771),i8=a(206459),i4=a(258644),i7=a(573993),i9=a(307178),te=a(438556),tn=a(87853);function ta(){(0,O.Z)("UnauthMobileSocialSecondaryTopBanner","/app/www/unauth/UnauthMobileSocialSecondaryTopBanner.tsx");let e=(0,eE.ZP)(),n=(0,U.k6)(),a=(0,ev.$p)(),{secondaryExpGroup:l="",inviterName:i="",inviterAvatarUrl:t=""}=a?.data?.upsellData||{},r=(0,ew.jsx)(V.xv,{children:(0,eS.nk)(e._('Let {{ name }} know what you think', 'mweb.unauth.social.secondary.top.upsell.text', 'Prompt on the unauth Pin landing secondary top banner to encourage user engagement. name: sender name'),{name:i})}),o=e._('Reply', 'unauth.mweb.secondary.top.reply.button.text', 'Text on the unauth Pin landing secondary top banner to reply to sender'),s="enabled_top_primary"===l;return(0,ew.jsxs)(V.xu,{children:[(0,ew.jsx)(V.xu,{paddingX:4,paddingY:2,width:"100%",children:(0,ew.jsxs)(V.kC,{alignItems:"center",children:[(0,ew.jsx)(V.xu,{marginEnd:2,children:t&&(0,ew.jsx)(ek.qE,{name:i,size:"md",src:t})}),(0,ew.jsx)(V.xu,{flex:"grow",children:r}),(0,ew.jsx)(V.xu,{children:(0,ew.jsx)(V.zx,{color:s?"red":"gray",onClick:()=>{n.push("/signup"),(0,nI.nP)("unauth.mweb.social.pin.secondary_upsell",{sampleRate:1,tags:{secondary_exp_group:l,action:"navigate_to_signup"}})},size:"md",text:o})})]})}),(0,ew.jsx)(V.xu,{dangerouslySetInlineStyle:{__style:{border:"0.5px solid #EEEEEE"}},marginStart:-2,width:"calc(100% + 16px)"})]})}let tl=(0,am.Z)(()=>a.e("12135").then(a.bind(a,472500)),void 0,e=>472500,"app-www-closeup-duplo-unauth-UnauthCloseupInviteUpsell",e=>["12135"]),ti=(0,Z.lazy)(()=>a.e("70141").then(a.bind(a,546199))),tt=(0,am.Z)(()=>Promise.resolve().then(a.bind(a,898988)),void 0,e=>898988,"app-www-storyPins-duplo-UnavailableStoryPin",e=>[]),tr=(0,Z.lazy)(()=>a.e("71040").then(a.bind(a,910437))),to=(0,am.Z)(()=>Promise.all([a.e("68281"),a.e("19798")]).then(a.bind(a,518005)),{ssr:!1},e=>518005,void 0,void 0),ts=(0,am.Z)(()=>Promise.all([a.e("68281"),a.e("85945"),a.e("4490")]).then(a.bind(a,722225)),{ssr:!1},e=>722225,void 0,void 0),td=(0,am.Z)(()=>Promise.all([a.e("31073"),a.e("48089")]).then(a.bind(a,61473)),{ssr:!1},e=>61473,void 0,void 0),tu=(0,am.Z)(()=>Promise.all([a.e("31073"),a.e("81145")]).then(a.bind(a,952268)),void 0,e=>952268,"app-www-closeup-duplo-UnauthCloseupRelatedPins",e=>["31073","81145"]),tc=(0,am.Z)(()=>a.e("97617").then(a.bind(a,371962)),{ssr:!1},e=>371962,void 0,void 0),tp=(void 0!==F||(F=a(212078)).hash&&"830a363799e826550c7f1a06d1f2820d"!==F.hash&&console.error("The definition of 'CloseupFullDetail_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),F),tg=({children:e,queryRef:n})=>e((0,Q.Z)(tp,(0,em.usePreloadedQuery)((void 0!==j||(j=a(456709)).hash&&"642bbec45e4710525828c509c618221b"!==j.hash&&console.error("The definition of 'CloseupDetailQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),j),n).v3GetPinQuery?.data)),tm=({children:e,pinId:n})=>{let a=(0,aE.S6)()(n);return e((0,Q.Z)(tp,a?{type:"deprecated",data:a}:null))},t_=({children:e,fallback:n,queryRef:a,pinId:l})=>a?(0,ew.jsx)(Z.Suspense,{fallback:n,children:(0,ew.jsx)(tg,{queryRef:a,children:n=>n&&e(n,n)})}):(0,ew.jsx)(tm,{pinId:l,children:n=>n&&e(null,n)}),th=({children:e,pinId:n})=>{let l=(0,eu.HG)();return e((0,Q.Z)((void 0!==A||(A=a(524828)).hash&&"9e1a4f46d2a4802c801e9d0efc36a264"!==A.hash&&console.error("The definition of 'CloseupStoryPin_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),A),(0,em.useLazyLoadQuery)((void 0!==L||(L=a(372508)).hash&&"68777640da3d0c6def3ca77e2beb658c"!==L.hash&&console.error("The definition of 'CloseupStoryPinQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),L),{pinId:n,isDesktop:l}).v3GetPinQuery?.data))},ty=Z.Fragment,tf=({children:e,unauthCloseupRedesignEnabled:n,uanuthDesktopSocialLandingPopover:a})=>e&&a?(0,ew.jsxs)(V.kC,{gap:{row:4,column:0},justifyContent:"center",maxWidth:n?"100%":void 0,width:n?"fit-content":void 0,children:[a,e]}):e;function tk({boardCollaboratedByMe:e,boardCollaboratorPermissions:n,boardIsCollaborative:l,boardOwnerId:i,boardId:t,boardUrl:r,clickthroughInterstitialExperience:o,closeupAttributionFullName:s,commentsDisabled:d,embedSrc:u,embedSubtype:c,embedType:p,experience:g,hasLinkDomain:m,hasLinkDomainOfficialUser:_,hasLinkUserWebsiteOfficialUser:h,hasNativeCreator:y,hasRichMetadata:f,hasRichMetadataProducts:k,hasRichMetadataArticle:x,hasRichMetadataRecipe:S,hasRichMetadataTutorial:b,hasThirdPartyPinOwner:P,imageSignature:v,isDeletedStoryPin:w,isDownstreamPromotion:T,isEligibleForAggregatedComments:I,isGoLinkless:C,isProductPin:E,isPromoted:F,isStoryPin:j,isV1IdeaPin:A,isVideoPin:L,link:D,linkDomainName:K,mobileLink:B,nativeCreatorVerifiedWebsite:O,graphqlRefs:M,pinCreatedAt:H,pinDomain:W,pinTrackingParams:Y,pinId:q,nodeId:J,imagesUrls:ee,pinSectionId:en,pinnedToBoardId:ei,pinnedToBoardUrl:et,pinnerDomainUrl:eo,pinnerDomainVerified:ed,pinnerId:eg,postDownloadModalEligibilityType:em,promotedIsRemovable:ef,recommendationReason:ek,seoBreadcrumbs:ex,shouldOpenInStream:eS,storyPinDataId:eP,trackedLink:eZ,utmLink:e$,uanuthDesktopSocialLandingPopover:eQ,videosId:eJ,viewerId:e0,viewingUser:e1,feedbackType:e3,pinKey:e5}){let e6=(0,Q.Z)((void 0!==R||(R=a(921115)).hash&&"76b302756e7c8285a4bdae0638448242"!==R.hash&&console.error("The definition of 'CloseupInner_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),R),e5),e8=(0,eE.ZP)(),e4=(0,z.s0)(),e7=(0,z.TH)(),e9=(0,U.$B)(),ne=(0,eu.ZP)(),nn="desktop"===ne,na=(0,N.I0)(),nl=(0,ep.Z)(),ni=(0,ey.Z)(),nt=(0,eb.Z)(),nr=(0,ez.Z)(),no=(0,i3.Z)(),{checkExperiment:ns}=(0,el.r)(),{isBot:nd,isSocialBot:nu,isAuthenticated:nc,userAgent:np}=(0,er.B)(),{setPinFeedbackStatus:ng}=(0,i5.K)(),[nm,n_]=(0,Z.useState)(!0),[nh,ny]=(0,Z.useState)(!1),[nf,nk]=(0,Z.useState)(0),nx=!(0,lx.s)({skipExpActivation:!1}),{mWebCloseupRedesignEnabled:nS}=(0,e_.Z)(),nb=(0,aE.S6)()(q),nP=!1;!nc&&nn?nP=ns("dweb_closeup_links_unauth").anyEnabled:nn||(nP=ns("mweb_closeup_links").anyEnabled);let nv=nP?(0,ew.jsx)(G.Z,{id:"InstagramPostLink",children:(0,ew.jsx)(eH.Z,{closeupLinkEnabled:nP,nativeCreatorCloseupLinkEligible:!!O,peekCloseupEnabled:!1,uriComponent:(0,ea.Zt)({utmLink:e$,trackedLink:eZ,link:D})})}):null,nw=!nc&&E,nT=M?.pageRef,nI=(0,te.n)(),[nC,nE]=(0,Z.useState)(!1);(0,Z.useEffect)(()=>{nE(!1)},[q]);let[nF,nj]=eY(!1,q),nA=!F&&!T&&!w&&!nS,nL=eg===e0,nR=(0,ea._S)(W)?(0,n4.Wj)({i18n:e8,hasLinkDomain:m,hasRichMetadataArticle:x,hasRichMetadataRecipeCategorizedIngredients:S,hasRichMetadataTutorial:b,richMetadataRecipeFromAggregatedData:null}):e8._('Uploaded to Pinterest', 'closeup.closeupDetails.pinCreditPrefix', 'tells the pinner that the pin was uploaded to Pinterest');(0,Z.useEffect)(()=>{!e7.key&&nc&&(0,eR.Z)(e1,null,28)&&ni({event_type:9956,view_type:3,userIdStr:e1?.id}),nc&&(0,eG.Nc)("view_pin_page")},[]),(0,Z.useEffect)(()=>{let e=()=>{let e=window.innerHeight+nf;ny(window.scrollY>=e)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[nf]);let[nD,nK]=(0,Z.useState)(!0),[nB,nO]=(0,Z.useState)(!1),[nZ,nN]=(0,Z.useState)(null),[nU,nz]=(0,Z.useState)(!1),{showUnauthSharingModals:nV}=(0,eU.l)()??Object.freeze({}),nG=(0,$.cO)(),nH=!nn&&!!I&&nc&&!d,nW=E&&nc||nw,nY=!nn&&!E,nq=nW||nY,[n$,nX]=eY((!nq||!!nS)&&(!nc||nn||nS),q),nQ=n$||nw?"body":"header",nJ=(0,eX.Z)({action:4,collaboratedByMe:e??!1,collaboratorPermissions:n,ownerId:i}),n0=(0,eD.fY)(e7),n1=(0,ev.cO)(),{expGroup:n2=""}=n1?.data?.popoverData||{},n3=(0,ev.$p)(),n5=n3?.data?.upsellData,n6=n5?.expGroup||"",n8=n5?.secondaryExpGroup||"",n7=n6.startsWith("enabled"),n9=n8.startsWith("enabled_top"),ae=(0,e2.Z)({skipExpActivation:!1}),an=()=>{!nd&&e1?.id&&"undefined"!=typeof window&&(0,ej.U)(window.location,e1.id,!0,nc,e=>e4(e,{state:e7.state}))},aa=()=>(0,eV.Z)(()=>{q&&ni({event_type:110,view_type:3,view_parameter:156,component:L?179:85,aux_data:{unauth_page_pin_id:q,is_go_linkless:C}})},300),al=(0,Z.useCallback)(()=>{let e={pin_image_signature:v};na((0,eC.pz)([1000112],nd,nc?{...e,creator_username:s,is_creator_card_shown:!nL&&!!(({domain:e,isPromoted:n,hasLinkDomainOfficialUser:a,hasLinkUserWebsiteOfficialUser:l,hasNativeCreator:i,hasThirdPartyPinOwner:t,pinnerDomainVerified:r,pinnerDomainUrl:o})=>l||a||t||!!r&&o===e&&!n||i)({domain:W,isPromoted:F,hasLinkDomainOfficialUser:_,hasLinkUserWebsiteOfficialUser:h,hasNativeCreator:y,hasThirdPartyPinOwner:P,pinnerDomainVerified:ed,pinnerDomainUrl:eo})}:e))},[na,s,v,nc,F,nd,_,h,y,P,W,ed,eo,nL]);(0,Z.useEffect)(()=>{nI?.isSaved(q)&&nG("Save",{pin_id:q,is_promoted:F})},[nI,q]);let ai=e=>{no({fn:()=>{nN("sendPinModal"),nc||nV?.()},modalHeader:(0,i2.hg)(e8)})(e)},at=(0,eu.ml)();(0,ec.Z)(()=>(an(),(0,eF.Z)(),(0,es.mB)(window.location.search).invite_code&&ni({component:L?179:85,element:46,event_type:47,view_type:3,view_parameter:156}),nc?nn||iP(e1):(window.addEventListener("scroll",aa),(0,eG.My)(`mweb.pin_page.${np.platform||"unknown"}`),H&&(0,eG.My)("mweb_unauth.pin_page.publish_date"),(0,eG.NC)("view_pin_page")),eP&&na((0,i4.FK)()),nd||al(),"t"===(0,es.mB)(e7.search).open_share&&ai(),()=>{eP&&na((0,i4.Cp)()),nc||window.removeEventListener("scroll",aa)}));let ar=(0,Z.useRef)(null),ao=(0,Z.useRef)({linkDomainName:K,pinId:q});(0,Z.useEffect)(()=>{let e=ao.current,n=q!==e.pinId,a=!e.pinId&&q,l=e&&e.linkDomainName!==K;n&&(an(),nc&&(0,eG.Nc)("view_pin_page")),(a||n||l&&nc)&&al(),ao.current={linkDomainName:K,pinId:q}});let as=void 0===e7.state;(0,Z.useEffect)(()=>{na((0,i4.Cp)())},[na]),(0,Z.useEffect)(()=>{"enabled_banner_reply"===n2&&nz(!0)},[n2]);let{learningUpsell:ad}={learningUpsell:{isShown:(0,N.v9)(e=>e.upsell.appUpsells.learningUpsell?.isShown??!1)}},au=ns("migration_upsell_manager_redux").anyEnabled||ns("migration_upsell_manager_redux_dweb").anyEnabled||ns("migration_upsell_manager_redux_mweb").anyEnabled,ac=(0,ls.u)(),ap=au?ad.isShown:ac?.shouldShowLearningUpsell||!1,ag=!nc&&at&&["ios","android"].includes(np.platform);(0,Z.useEffect)(()=>{if(!ag||!ap)return()=>{};{let e=au?e=>na((0,eW.IS)(e)):ac?.setShouldShowLearningUpsell;if(!e)return()=>{};let n=(0,eV.Z)(()=>{window.scrollY>400&&(e(!1),(0,eG.My)("learning.upsell.dismiss.by.scroll.down"))},10);return window.addEventListener("scroll",n),()=>{window.removeEventListener("scroll",n)}}},[ag,ap,au,na,ac]);let am=(0,i7.Z)({embedSrc:u,embedType:p,hasRichMetadata:f,hasRichMetadataProducts:k,hasRichMetadataArticle:x,hasRichMetadataRecipe:S,imagesUrls:ee,pinId:q,nodeId:J}),a_=function({boardId:e,embedSrc:n,embedType:l,imagesUrls:i,pinId:t,nodeId:r,pinnerId:o,pinnedToBoardId:s,pinSectionId:d,trackingParams:u,showSingleToast:c,onError:p,shouldRefresh:g=!0}){let m=(0,N.I0)(),_=(0,i3.Z)(),h=(0,tn.dI)()[c?"showOneToast":"showToast"],y=(0,eE.ZP)(),f=(0,i9.Z)({embedSrc:n,embedType:l,imagesUrls:i,pinId:t,nodeId:r}),k=(0,U.k6)(),x=(0,z.TH)(),S=(0,te.n)(),{isAuthenticated:b,userId:P}=(0,N.v9)(({session:e})=>e),v=(0,l5.Z)(x.state?x.state.trackingParams:"",u),w=_({fn:async()=>{if(!t||!e||!o)return void p?.();let n=o===P,l=!n&&S?.getSavedPinId(t)||t,i=n?k.goBack():void 0,{default:r}=await a.e("32751").then(a.bind(a,959758));r({boardId:!n&&s?s:e,boardSectionId:d??"",clientTrackingParams:v,dispatch:m,i18n:y,newPinId:l,onError:p,onSuccess:i,shouldRefresh:g,showToast:h,sourcePinId:t,undoSavedPin:(e=>{S?.unsave(e)})??(()=>void 0)})}});return b?w:f?.onUnsave||(()=>void 0)}({boardId:t??"",embedSrc:u,embedType:p,imagesUrls:ee,pinId:q,nodeId:J,pinnerId:eg??"",pinnedToBoardId:ei??"",pinSectionId:en??"",trackingParams:Y}),ah=function({embedSrc:e,embedType:n,imagesUrls:a,pinId:l,nodeId:i,pinnerId:t}){let{isAuthenticated:r,userId:o}=(0,N.v9)(({session:e})=>e),s=(0,te.n)(),d=(0,i9.Z)({embedSrc:e,embedType:n,imagesUrls:a,pinId:l,nodeId:i});return!!l&&(r?!!(t===o||s?.isSaved(l)):d?.isSaved??!1)}({embedSrc:u,embedType:p,imagesUrls:ee,pinId:q,nodeId:J,pinnerId:eg??""}),ay=function({link:e,mobileLink:n,trackedLink:a,utmLink:l}){let i=(0,X.Z)(),t=(0,nM.mN)()(i.isAuth?i.id:"");return!!(0,ea.Zt)({link:e,mobileLink:n,trackedLink:a,utmLink:l})&&!((0,eL.Z)(t?.created_at)&&!(0,lo.V0)(t))&&!(0,ea.ZE)(e)}({link:D,mobileLink:B,trackedLink:eZ,utmLink:e$}),af=e6?.originPinner&&e0===e6.originPinner.entityId||!C,ak=(0,i6.J6)({boardIsCollaborative:l,isDownstreamPromotion:T,isEligibleForStaticImageIdeaPin:j&&!1===eS,isPromoted:F,storyPinDataId:eP,videosId:eJ}),ax=nc&&ak,aS=(0,eh.Z)({pinKey:e6}),ab=(0,Z.useMemo)(()=>({componentType:L?179:85,slotIndex:0,viewData:{pin_id:q},viewParameter:156,viewType:3}),[L,q]),aP=L&&nc&&!nn,av=(0,i0.Z)(e6),aw={downloadImageUrl:!L&&(0,eO.Z)({imagesUrls:ee,embedSrc:u,embedType:p,excludeOriginals:!nd&&!nu})||null,isAuthenticated:nc,isBot:nd,isSocialBot:nu,commentModalConfig:{isCommentThreadModalOpen:"commentThreadModal"===nZ,setIsCommentThreadModalOpen:e=>{nN(e?"commentThreadModal":null)}},saveButtonConfig:{shouldShowSavedButton:ah,onSaveButtonClick:e=>{am(e)},onUnsaveButtonClick:a_,repinPageLocation:(0,ea.NK)(q,e7)},clientTrackingParams:aS,isStoryPin:j,viewParameter:(0,n4.CK)({hasRichMetadata:f,hasRichMetadataProducts:k,hasRichMetadataArticle:x,hasRichMetadataRecipe:S}),pinId:q,canUpsellNativeApp:nl,shouldShowReactions:ax,onSendButtonClick:ai,isGoLinklessEnabledOverflow:!!C,isChromeOnIOS:"ios"===np.platform&&"Chrome"===np.browserName,handleDownloadPinImageClick:()=>{nt({action:"click",item:"download-image-button",within:"action-bar"}),"unauthPostDownloadUpsell"===em?(nN(null),nn||nr({attributionLabel:"tap_closeup_download_button",reason:"UPSELL_LOGIN_OR_SIGNUP",mobileOptions:{headingType:"download"}})):em?nN("postDownloadModal"):nG("Download",{pin_id:q})},shouldRenderAsStoryPin:j&&!1!==eS&&nn,storyPinCloseupRef:ar,shouldShowVisitInMoreOptions:ay&&aP||!!C,onHidePin:()=>{let{action:e,actionOptions:n}=(0,eB.Z)({feedbackType:e3,pinId:q,pinFeedbackType:"pfy"===e3?4:10,recommendationReason:ek&&{board:null,reasonId:ek.reasonId,reason:ek.reason,throughProperties:[]},clientTrackingParams:aS});na((0,i8.q1)({id:q,nodeId:J})),(0,eK.tx)(e,n,()=>ng({pinId:q,pinFeedbackStatus:"hidden"}),ni),e4&&e4(-1)}},aT=ax&&(eJ&&"video"||j&&"storyPin")||null,aI=nL||nJ?no({fn:()=>e4(e9.url+"edit/"),modalHeader:(0,i2.oM)(e8),nextLocation:(0,i2.wI)(e7)}):void 0,aC=()=>{nN("reportPinModal"),ni({view_type:3,view_parameter:139,element:72,event_type:102,object_id_str:q||""})},aF=(0,ew.jsx)(t_,{pinId:q,queryRef:M?.detailRef,children:e=>(0,ew.jsx)(G.Z,{id:"PinActionBar",children:(0,ew.jsx)(iX,{clickthroughInterstitialExperience:o,closeupLinkEnabled:nP,experience:g,graphqlRef:e??null,isActionBarInline:n$||nw,isEligibleToVisitPin:ay&&af,isNewUser:(0,eL.Z)(e1?.created_at),isRemovablePin:ef??!1,nativeCreatorVerifiedWebsite:nP?O:null,nativePinType:aT,onEditButtonClick:aI,onMobileTap:()=>{aC()},onSendButtonClick:ai,pinId:q,pinnedToBoardId:ei,pinnedToBoardUrl:(nL?r:et)||"",scrolledToRelatedPins:nC,setShouldShowDownloadPopover:nK,shouldShowBackButton:"header"===nQ,shouldShowDownloadPopover:nD,shouldShowReactions:ax&&!nq,shouldShowShareOnVideoCloseup:aP,showCloseupCommentModule:nH})})}),aj=(0,ew.jsx)(V.xu,{alignItems:"stretch",display:"flex",justifyContent:"start",marginBottom:2,marginTop:2,minHeight:48,children:(0,ew.jsx)(t_,{pinId:q,queryRef:M?.detailRef,children:(e,n)=>(0,ew.jsx)(G.Z,{id:"CloseupPinActionBar",children:(0,ew.jsx)(ic,{experience:g,isRemovablePin:ef??!1,nativePinType:aT,onMobileTap:()=>{aC()},onSendButtonClick:ai,pinId:q,pinKey:n??null,pinnedToBoardId:ei,pinnedToBoardUrl:(nL?r:et)||"",setIsActionBarInline:nX,shouldUseGraphQL:!!e})})})}),aA=(e7.search||"").includes("force_seo")||!nc,aL=(0,ew.jsx)(G.Z,{id:"CloseupPageBodySection",children:(0,ew.jsxs)(tf,{uanuthDesktopSocialLandingPopover:eQ,unauthCloseupRedesignEnabled:ae,children:[(nq||n$)&&!(nw&&nn)&&(0,ew.jsx)(G.Z,{id:"CloseupStickyHeader",children:(0,ew.jsx)(ik,{pinContextMenuButton:nq&&!nC&&!nS&&(0,ew.jsx)(t_,{pinId:q,queryRef:M?.detailRef,children:(e,n)=>(0,ew.jsx)(V.xu,{"data-test-id":"ellipsis-button",children:(0,ew.jsx)(G.Z,{id:"PinContextMenuButton",children:(0,ew.jsx)(iR.default,{clickthroughInterstitialExperience:o,clientTrackingParams:aS,onMobileTap:aC,onSendButtonClick:ai,pinCreditPrefix:nR,pinKey:n,seoDrawerPinType:"closeup",shouldShowSeoDrawerNewfields:!nc,shouldShowSeoDrawerOption:!nc,viewParameter:aw.viewParameter})})})})})}),w?(0,ew.jsx)(G.Z,{id:"UnavailableStoryPin",children:(0,ew.jsx)(tt,{})}):(0,ew.jsx)(G.Z,{id:"CloseupMainPin",children:(0,ew.jsx)(lW,{actionBarIsMinifiedToMainPinImage:nB,clickthroughInterstitialExperience:o,closeupIsFirstPageInHistoryStack:as,closeupPinActionBar:nS?aj:null,graphqlRefs:M,instagramPostLink:nv,isActionBarInline:n$,isImagePinForUnauthOnTablet:!nc&&!L&&!(0,ea.cL)({embedSrc:u,embedSubtype:c,embedType:p})&&("tablet"===ne||(0,eA.oy)()),isRelatedPinsFeedIsEmpty:nm,isSendPinModalOpen:"sendPinModal"===nZ,isVideoPin:L,nativeCreatorVerifiedWebsite:nP?O:null,onLinklessPinTap:()=>{let e=!nB;nO(e),na(e?(0,i4.Cp)():(0,i4.FK)())},onMoreButtonClick:aC,onSendPin:ai,pinActionBar:"body"===nQ||nS?aF:null,pinId:q,setIsActionBarInline:nX,setIsShowingCloseupDetailsSuspenseFallback:nj,setPinImageHeight:nk,shouldShowReactions:ak,shouldShowSEOPinInfo:aA,showCloseupCommentModule:nH,unauthCloseupRedesignEnabled:ae,unauthPdp:nw,viewerId:e0})})]})});return(0,ew.jsx)(G.Z,{id:"Closeup",children:(0,ew.jsx)(eq.B,{value:ab,children:(0,ew.jsx)(l4,{pinId:q,pinKey:e6,viewParameter:aw.viewParameter,children:(0,ew.jsxs)(l0,{closeupPageContext:aw,hasGutter:!0,imageViewer:(0,eD.Fr)(e7)&&nc&&(0,ew.jsx)(t_,{pinId:q,queryRef:M?.detailRef,children:e=>(0,ew.jsx)(to,{experience:g,graphqlRef:e??null,isRemovablePin:!!ef,pinId:q,pinnedToBoardId:ei,pinnedToBoardUrl:(nL?r:et)||"",postDownloadModalEligibilityType:em,setActionBarIsMinifiedToMainPinImage:nO})}),pinKey:e6,stickyUpsell:ag&&ap&&(0,ew.jsx)(eM.Z,{children:(0,ew.jsx)(tr,{pinId:q})}),children:[(0,ew.jsx)(G.Z,{id:"CloseupPageHeaderSection",children:(0,ew.jsxs)(ty,{children:[nc&&(0,ew.jsxs)(Z.Fragment,{children:[g&&(0,ew.jsx)($.b9,{placementId:1000112}),g&&(0,ew.jsx)($.iH,{placementId:1000112}),g&&(0,ew.jsx)($.nj,{experience:g},`${q}-modal-1000112`),g&&(0,ew.jsx)($._f,{customFooterHeight:n$?void 0:88,experience:g},`${q}-callout-1000112`),(0,ew.jsx)($.k6,{placementId:1000494},`${q}-1000494`),(0,ew.jsx)($.k6,{placementId:1000500},`${q}-1000500`),(0,ew.jsx)($.H6,{placementId:1000540},`${q}-1000540`)]}),!nc&&n0&&!nn&&!n7&&(0,ew.jsx)(tl,{isDesktop:!1,isStoryPin:j}),!nc&&!nn&&n9&&(0,ew.jsx)(ta,{}),!nS&&"header"===nQ&&!nB&&aF,!nc&&nn&&nx&&(0,ew.jsx)(i1.Z,{breadcrumbs:ex??[]}),!nc&&!nn&&nx&&(nd?(0,ew.jsx)(i1.Z,{breadcrumbs:ex??[]}):(0,ew.jsx)(tc,{fallback:(0,ew.jsx)(V.xu,{height:i1.H}),pageRef:nT,pinId:q,seoBreadcrumbs:ex??[]})),nU&&!nc&&(0,ew.jsx)(eT,{onDismiss:()=>{nz(!1)}})]})}),!ae&&aL,nc&&(0,ew.jsx)(eI.Z,{name:"SafeSuspense_Closeup_RelatedInterestUpsellContainer",children:(0,ew.jsx)(eM.Z,{fallback:(0,ew.jsx)(l1.Z,{}),children:(0,ew.jsx)(eN._m,{children:(0,ew.jsx)(eN.IQ,{children:(0,ew.jsx)(G.Z,{id:"CloseupRelatedModulesFeed",children:(0,ew.jsx)(td,{auxCommerceData:av,graphqlConfig:M?{fallback:(0,ew.jsx)(l1.Z,{}),isShowingCloseupDetailsSuspenseFallback:nF}:null,isProductDetailPage:E,onRelatedPinsTitleEnter:()=>nE(!1),onRelatedPinsTitleExit:()=>nE(!0),pinId:q,recommendationReason:ek})})})})})}),!nc&&(0,ew.jsx)(t_,{fallback:(0,ew.jsx)(l1.Z,{}),pinId:q,queryRef:M?.detailRef,children:e=>(0,ew.jsx)(G.Z,{id:"UnauthCloseupRelatedPins",children:(0,ew.jsx)(tu,{closeupBody:ae?aL:void 0,isShowingCloseupDetailsSuspenseFallback:nF,onRelatedPinsLoadEmpty:n_,onRelatedPinsTitleEnter:()=>nE(!1),onRelatedPinsTitleExit:()=>nE(!0),pinId:q,pinKey:e||(nb?{type:"deprecated",data:nb}:null),unauthCloseupRedesignEnabled:ae})})}),(0,ew.jsx)(t_,{pinId:q,queryRef:M?.detailRef,children:e=>(0,ew.jsxs)(Z.Fragment,{children:[A&&(0,ew.jsx)(eM.Z,{children:(0,ew.jsx)(ti,{pinId:q,viewParameter:aw.viewParameter})}),nZ&&(0,ew.jsx)(eI.Z,{name:"SafeSuspense_Closeup_CloseupModals",children:(0,ew.jsx)(eM.Z,{children:(0,ew.jsx)(V.xu,{"data-test-id":"close-action-bar",children:(0,ew.jsx)(G.Z,{id:"CloseupModals",children:(0,ew.jsx)(ts,{clickthroughInterstitialExperience:o,clientTrackingParams:aS,graphqlRef:e??null,isEligibleForPinReactions:nA,modal:nZ,nativePinType:aT,onDismiss:()=>{nt({action:"click",item:"close-action-bar",within:"action-bar"}),nN(null)},onEditButtonClick:aI,onSendButtonClick:ai,pinId:q,postDownloadModalEligibilityType:em,shouldShowShareOnVideoCloseup:aP,showingCloseupCommentModule:nH,viewerIsOwner:nL,viewParameter:aw.viewParameter})})})})})]})}),nh&&(0,ew.jsx)(iQ,{pinId:q})]})})})})}function tx(e){let{pinId:n}=e,a=(0,aE.S6)()(n),l=(0,eu.HG)(),i=(0,z.TH)(),{isAuthenticated:t}=(0,er.B)(),r=(0,e$.Z)({pinKey:a?{type:"deprecated",data:a}:null,viewParameter:156}),o=a?.board,s=a?.pinner;return a&&s&&o?(0,ew.jsx)(tk,{...e,boardCollaboratedByMe:o.collaborated_by_me??!1,boardCollaboratorPermissions:o.collaborator_permissions,boardId:o.id,boardIsCollaborative:o.is_collaborative,boardOwnerId:o.owner?.id,boardUrl:o.url,closeupAttributionFullName:a.closeup_attribution?.full_name,commentsDisabled:a?.comments_disabled,embedSrc:a.embed?.src,embedSubtype:a.embed?.subtype,embedType:a.embed?.type,feedbackType:r,graphqlRefs:null,hasLinkDomain:!!a.link_domain,hasLinkDomainOfficialUser:!!a.link_domain?.official_user,hasLinkUserWebsiteOfficialUser:!!a.link_user_website?.official_user,hasNativeCreator:!!a.native_creator,hasRichMetadata:!!a.rich_metadata,hasRichMetadataArticle:!!a.rich_metadata?.article,hasRichMetadataProducts:!!a.rich_metadata?.products,hasRichMetadataRecipe:!!a.rich_metadata?.recipe,hasRichMetadataTutorial:!!a.rich_metadata?.tutorial,hasThirdPartyPinOwner:!!a.third_party_pin_owner,imageSignature:a.image_signature,imagesUrls:a.images?Object.keys(a.images).reduce((e,n)=>n&&a.images?.[n]?.url?{...e,[n]:a.images[n].url}:e,{}):void 0,isDeletedStoryPin:a.story_pin_data?.is_deleted??!1,isDownstreamPromotion:a.is_downstream_promotion,isEligibleForAggregatedComments:a.is_eligible_for_aggregated_comments,isGoLinkless:a.is_go_linkless,isPromoted:a.is_promoted,isV1IdeaPin:a.is_v1_idea_pin,isVideoPin:!!a.videos?.video_list,link:a.link,linkDomainName:a.link_domain?.name,mobileLink:a.mobile_link,nodeId:a.node_id,pinAnnotations:a?.pin_join?.visual_annotation||[],pinCreatedAt:a.created_at,pinDomain:a.domain,pinId:n,pinKey:a?{type:"deprecated",data:a}:null,pinnedToBoardId:a.pinned_to_board?.id,pinnedToBoardUrl:a.pinned_to_board?.url,pinnerDomainUrl:s.domain_url,pinnerDomainVerified:s.domain_verified,pinnerId:s.id,pinSectionId:a.section?.id,pinTrackingParams:a.tracking_params,promotedIsRemovable:a.promoted_is_removable,recommendationReason:a.recommendation_reason&&{reason:a.recommendation_reason.reason,reasonId:a.recommendation_reason.reason_id},seoBreadcrumbs:a.pin_join?.seo_breadcrumbs,shouldOpenInStream:a.should_open_in_stream||!1,storyPinDataId:a.story_pin_data_id,trackedLink:a.tracked_link,utmLink:a.utm_link,videosId:a.videos?.id}):(0,ew.jsx)(V.xu,{margin:5,children:t||l&&(0,eD.fY)(i)?(0,ew.jsx)(l1.Z,{}):(0,ew.jsx)(i_,{})})}function tS({graphqlRefs:e,...n}){let{pinId:l}=n,i=(0,Q.Z)((void 0!==D||(D=a(768857)).hash&&"0ab8c40d2ec11c70904f89cd84ece93f"!==D.hash&&console.error("The definition of 'Closeup_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),D),e.pageRef),t=(0,eZ.Z)({type:"graphqlRef",data:i}),{board:r,pinner:o}=i,s=i.pinJoin?.seoBreadcrumbs?.map(({name:e,url:n})=>({name:e??"",url:n??""})),d=(0,e$.Z)({pinKey:{type:"graphqlRef",data:i},viewParameter:156}),u=i.isInstagramApi&&i.nativeCreator?.isPrimaryWebsiteVerified&&i.nativeCreator?.isDirectToSiteAllowed&&i.nativeCreator?.websiteUrl?i.nativeCreator.websiteUrl:null;return(0,ew.jsx)(tk,{...n,boardCollaboratedByMe:r?.collaboratedByMe??!1,boardCollaboratorPermissions:r?.collaboratorPermissions,boardId:r?.entityId,boardIsCollaborative:r?.isCollaborative,boardOwnerId:r?.owner?.entityId,boardUrl:r?.url,closeupAttributionFullName:i.closeupAttribution?.fullName??"",commentsDisabled:i.commentsDisabled,embedSrc:i.embed?.src,embedSubtype:i.embed?.subtype,embedType:i.embed?.type,feedbackType:d,graphqlRefs:{...e,pageRef:i},hasLinkDomain:!!i.linkDomain,hasLinkDomainOfficialUser:!!i.linkDomain?.officialUser,hasLinkUserWebsiteOfficialUser:!!i.linkUserWebsite?.officialUser,hasNativeCreator:!!i.nativeCreator,hasRichMetadata:!!i.richMetadata,hasRichMetadataArticle:!!i.richMetadata?.article,hasRichMetadataProducts:!!i.richMetadata?.products?.length,hasRichMetadataRecipe:!!i.richMetadata?.recipe,hasRichMetadataTutorial:!!i.richMetadata?.tutorial,hasThirdPartyPinOwner:!!i.thirdPartyPinOwner,imageSignature:i.imageSignature,imagesUrls:t,isDeletedStoryPin:i.storyPinData?.isDeleted??!1,isDownstreamPromotion:i.isDownstreamPromotion,isEligibleForAggregatedComments:i.isEligibleForAggregatedComments,isGoLinkless:i.isGoLinkless,isPromoted:i.isPromoted,isV1IdeaPin:i.isV1IdeaPin,isVideoPin:!!i.videos?.entityId,link:i.link,linkDomainName:i.linkDomain?.name,mobileLink:i.mobileLink,nativeCreatorVerifiedWebsite:u,nodeId:i.nodeId,pinAnnotations:i?.pinJoin?.visualAnnotation||[],pinCreatedAt:i.createdAt,pinDomain:i.domain,pinId:l,pinKey:i,pinnedToBoardId:i.pinnedToBoard?.entityId,pinnedToBoardUrl:i.pinnedToBoard?.url,pinnerDomainUrl:o?.domainUrl,pinnerDomainVerified:o?.domainVerified,pinnerId:o?.entityId,pinSectionId:i.section?.entityId,pinTrackingParams:i.trackingParams,promotedIsRemovable:i.promotedIsRemovable,recommendationReason:i.recommendationReason&&{reason:i.recommendationReason.reason,reasonId:i.recommendationReason.reasonId},seoBreadcrumbs:s??[],shouldOpenInStream:i.shouldOpenInStream||!1,storyPinDataId:i.storyPinDataId,trackedLink:i.trackedLink,utmLink:i.utmLink,videosId:i.videos?.entityId})}function tb({graphqlRefs:e,...n}){if(!e)return(0,ew.jsx)(tx,{...n});let{isStoryPin:a,pinId:l}=n;return a?(0,ew.jsx)(th,{pinId:l,children:a=>a&&(0,ew.jsx)(tS,{...n,graphqlRefs:{...e,storyPinRef:a}})}):(0,ew.jsx)(tS,{...n,graphqlRefs:{...e,storyPinRef:null}})}function tP({data:e}){let n=(0,ei.A)(),a=(0,eE.ZP)(),{derived:{imageUrl:l,placeholder:i},pin:t}=e,r=lI();return(0,ew.jsx)(e5.Z,{fullWidth:!0,onTouch:e=>{e.preventDefault(),e.stopPropagation(),r({linkType:t.mobileLink&&"mobile"||t.utmLink&&"utm"||t.trackedLink&&"tracked"||t.link&&"external"||"original",viewParameter:(0,n4.CK)({hasRichMetadata:!!t.richMetadata,hasRichMetadataProducts:!!t.richMetadata?.products?.length,hasRichMetadataArticle:!!t.richMetadata?.article,hasRichMetadataRecipe:!!t.richMetadata?.recipe})})},pressState:"none",children:(0,ew.jsx)(aV.Z,{alt:a._('Pin image', 'Pin closeup image', 'Pin closeup image'),color:t.dominantColor||"#efefef",naturalHeight:i?.height??1,naturalWidth:i?.width??1,placeholder:i?.url??"",pwtElementTimingId:aO,pwtSurfaceContext:n,showSpinner:!1,src:l})})}function tv({data:e}){return(0,O.Z)("CloseupPreview","/app/www/closeup/duplo/CloseupPreview.tsx"),(0,ew.jsxs)(lq.default,{dataLayoutShiftBoundaryId:"CloseupPageContainer",hasFixedHeader:!0,hasGutter:!0,children:[(0,ew.jsx)(G.Z,{id:"CloseupStickyHeader",children:(0,ew.jsx)(ik,{})}),(0,ew.jsx)(G.Z,{id:"CloseupBodyLayout",children:(0,ew.jsx)(e9,{detail:null,isShowingBreadcrumbs:!1,media:(0,ew.jsx)(e1.Z,{roundedForLargeDevice:!0,children:(0,ew.jsx)(tP,{data:e})}),sideBySideOptions:null})}),(0,ew.jsx)(G.Z,{id:"CloseupPageLoadingSpinner",children:(0,ew.jsx)(l1.Z,{})})]})}var tw=a(818059),tT=a(443934),tI=a(684692),tC=a(650422),tE=a(81580);function tF({excludeFromGridRepTests:e,description:n,dominantColor:a,graphqlRefs:l,imageSignature:i,isGif:t,isLoaded:r,isProductPin:o,isRecipePin:s,isStoryPin:d,isVideoPin:u,pinId:c,pinImage:p,pinTitle:g,seoTitle:m,renderAuthMobilePinLandingToast:_,uanuthDesktopSocialLandingPopover:h}){let y=(0,tE.U)(),f=(0,N.I0)(),k=(0,z.TH)(),x=(0,$._P)({id:1000112}),S=(0,X.Z)(),b=S.isAuth?S.id:"",{isAuthenticated:P,isBot:v}=(0,er.B)(),w=(0,nM.mN)()(b),T=(0,N.v9)(({experiences:e})=>e),{checkExperiment:I}=(0,el.r)(),C=(0,ee.b)(),{isDirect:E}=(0,en.Z)(),F=t&&"gif"||o&&"productPin"||s&&"recipePin"||d&&"storyPin"||u&&"video"||"image";(0,Z.useEffect)(()=>{y&&setTimeout(()=>{y.preload?.((0,tC.ke)("pin/[id]/repin.js"))},500)},[]),(0,q.Z)({pageUniqueKey:c,containerPage:"closeup"});let j=(0,eu.HG)(),{previous:A,forward:L}=(0,J.ou)(),R=0===A.length&&0===L.length;(0,ec.Z)(()=>{C&&R&&E&&!P&&(j?(0,nI.nP)("unauth.entry_channel.direct.landing_page.closeup_page.dweb",{sampleRate:1}):(0,nI.nP)("unauth.entry_channel.direct.landing_page.closeup_page.mweb",{sampleRate:1}))});var D="closeup";let K=(0,z.TH)(),B=(0,W.g)();(0,Z.useEffect)(()=>{if(B){let{showDesktopSignupModal:e,pinLinkClickHandler:n}=B,{mt:a,l:l,showsignup:i}=(0,Y.Z)(K.search);a?e({signupFlow:"login"===a?{type:"login"}:{type:"signup"},attributionLabel:"navigation_1",container:D,reason:"UPSELL_LOGIN_OR_SIGNUP"}):i?e({signupFlow:{type:"signup"},attributionLabel:"closeup_query_param_showSignup",source:"defaultSource",reason:"UPSELL_LOGIN_OR_SIGNUP"}):l&&n&&n()}},[D,K,!!B]),(0,Z.useEffect)(()=>{let e=()=>{f((0,i4.Cp)()),window.removeEventListener("scroll",e)};if(j||v?f(d?(0,i4.FK)():(0,i4.Cp)()):window.addEventListener("scroll",e),P)i&&f((0,i4.xu)(i));else{let e=k.pathname,l=n??"";(0,tT.Mt)({key:H._b,lastVisitedPage:e,imageSignature:i,pinDescription:l,imageInfo:p}),(0,tT.CC)({path:e,image:p,dominant_color:a??null,pin_description:l,pin_id:c});let t=(0,es.mB)(k.search).invite_code;(0,tT.dp)(e,i,c,p,l??"",t),k.state?.isFromNavFooterPage||(0,tT.p9)(e,i,c,p,"pin")}},[k]),(0,Z.useEffect)(()=>{document.title=g||m||ea.yp},[g,m]);let O=(0,ls.u)(),M=O?.onPinTypeLoad,U=!!r;(0,Z.useEffect)(()=>{U&&M&&M(d)},[U,d,M]);let Q=(0,ei.A)(),eo=(0,Z.useRef)(!1);U&&Q&&!eo.current&&(Q.addBinaryAnnotation("pinType",F,"STRING"),Q.addBinaryAnnotation("pinId",c,"STRING"),(0,et.rt)("pinType",F,"STRING"),(0,et.rt)("pinId",c,"STRING"),eo.current=!0);let ed=(0,ep.Z)(),eg=(0,tI.o)({canUpsellNativeApp:ed,isAuthenticated:P}),em=(0,ev.w2)();(0,ec.Z)(()=>{if(!_||!em||em.hasSeenAuthMobileLandingToast)return()=>{};let{setHasSeenAuthMobileLandingToast:e}=em,l=setTimeout(()=>{_({type:"pin",id:c,data:{title:g||n||"",imgUrl:p?.url||"",dominantColor:a||""}})},3e3);return()=>{e(!0),clearTimeout(l)}});let e_=(0,Z.useMemo)(()=>({web_gestalt_calico:{anyEnabled:!0,group:"enabled"}}),[]);return e&&I("web_exclude_from_grid_rep_tests").anyEnabled?(0,ew.jsx)("div",{className:"excludeFromGridRepTests",children:(0,ew.jsx)(V.II,{value:e_,children:(0,ew.jsx)(G.Z,{id:"Closeup",children:(0,ew.jsx)(tb,{clickthroughInterstitialExperience:T[1000162],experience:x,graphqlRefs:l,isProductPin:o,isStoryPin:d,pinId:c,postDownloadModalEligibilityType:eg,uanuthDesktopSocialLandingPopover:h,viewerId:b,viewingUser:w})})})}):(0,ew.jsx)(G.Z,{id:"Closeup",children:(0,ew.jsx)(tb,{clickthroughInterstitialExperience:T[1000162],experience:x,graphqlRefs:l,isProductPin:o,isStoryPin:d,pinId:c,postDownloadModalEligibilityType:eg,uanuthDesktopSocialLandingPopover:h,viewerId:b,viewingUser:w})})}function tj({pinId:e,queryRefs:n,...l}){let i=(0,M.usePreloadedQuery)((void 0!==K||(K=a(512814)).hash&&"41c978954e5f0a907009c1636937ad23"!==K.hash&&console.error("The definition of 'CloseupPageQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),K),n.pageRef),t=(0,Q.Z)((void 0!==B||(B=a(397756)).hash&&"a3495f8715155a7c21d5d58fd44767f8"!==B.hash&&console.error("The definition of 'CloseupPage_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),B),i.v3GetPinQuery?.__typename==="V3GetPin"?i.v3GetPinQuery.data:null),{isAuthenticated:r}=(0,er.B)();if(!t)return(0,ew.jsx)(U.l_,{to:{pathname:r?"/":"/ideas/",state:{showError:!0}}});let o=t?.gridTitle||t?.gridDescription||t?.richMetadata?.title||t?.richSummary?.displayName||t?.richMetadata?.article?.name;return(0,ew.jsx)(G.Z,{id:"CloseupPage",children:(0,ew.jsx)(tF,{...l,description:t.description,dominantColor:t.dominantColor,excludeFromGridRepTests:t&&t?.adData&&t?.adData.excludeFromGridRepTests,graphqlRefs:{...n,pageRef:t},imageSignature:t.imageSignature??"",isGif:(0,ea.sY)(t.embed?.type),isLoaded:!0,isProductPin:!!t.isEligibleForPdp,isRecipePin:t.richSummary?.typeName==="recipe",isStoryPin:!!t.storyPinDataId,isVideoPin:!!t.videos?.videoUrls?.length,pinId:e,pinImage:t.imageSpec_236x?{dominant_color:t.imageSpec_236x.dominantColor??"",height:t.imageSpec_236x.height??0,type:t.imageSpec_236x.type??"",url:t.imageSpec_236x.url??"",width:t.imageSpec_236x.width??0}:null,pinTitle:o&&o.trim()||"",seoTitle:t?.seoTitle?.trim()||"",storyPinDataId:t.storyPinDataId})})}function tA({pinId:e,queryRefs:n,...a}){let l=(0,tw.Z)(e);return(0,ew.jsx)(Z.Suspense,{fallback:"GraphQL"===l.kind?(0,ew.jsx)(G.Z,{id:"CloseupPreview",children:(0,ew.jsx)(tv,{data:l.data})}):(0,ew.jsx)(G.Z,{id:"CloseupPageLoadingSpinner",children:(0,ew.jsx)(l1.Z,{})}),children:"QUERY_MISS"!==n&&(0,ew.jsx)(G.Z,{id:"CloseupPageWithGraphQLLoaded",children:(0,ew.jsx)(tj,{...a,pinId:e,queryRefs:n})})})}function tL({pinId:e,...n}){let{countryFromIp:a,isBot:l,isAuthenticated:i,isSocialBot:t}=(0,er.B)(),r=(0,eu.HG)(),o=(0,aB.Z)(a??"",l,r),s=(0,tw.Z)(e),d=(0,eo.Z)({name:"PinResource",options:(({id:e,isAuthenticated:n,addUserConnectionType:a,shouldLazyLoadPinJoin:l,getPageMetadata:i})=>((0,O.Z)("CloseupPage","/app/www/pages/duplo/CloseupPage.tsx"),n?{id:e,field_set_key:"detailed",fetch_visual_search_objects:!0,is_mobile_fork:!0,add_connection_type:a}:{id:e,field_set_key:"unauth_react_main_pin",get_page_metadata:i?"seo":void 0,add_connection_type:a,fetch_pin_join_by_default:!l}))({id:e,isAuthenticated:i,addUserConnectionType:o,shouldLazyLoadPinJoin:!r&&!i&&!l,getPageMetadata:!!(!i&&t)})}),u=(0,aE.S6)()(e),c=d.data||u;if(!c&&"GraphQL"===s.kind)return(0,ew.jsx)(G.Z,{id:"CloseupPreview",children:(0,ew.jsx)(tv,{data:s.data})});let p=c?.grid_title||c?.grid_description||c?.rich_metadata?.title||c?.rich_summary?.display_name||c?.rich_metadata?.article?.name;return(0,ew.jsx)(G.Z,{id:"CloseupPage",children:(0,ew.jsx)(tF,{...n,description:c?.description,dominantColor:c?.dominant_color,excludeFromGridRepTests:(c?.ad_data&&c?.ad_data?.exclude_from_grid_rep_tests)??null,graphqlRefs:null,imageSignature:c?.image_signature,isGif:(0,ea.sY)(c?.embed?.type),isLoaded:!!c,isProductPin:!!c?.is_eligible_for_pdp,isRecipePin:c?.rich_summary?.type_name==="recipe",isStoryPin:!!c?.story_pin_data_id,isVideoPin:!!c?.videos?.video_list,pinId:e,pinImage:c?.images?.["236x"]??null,pinTitle:p&&p.trim()||"",storyPinDataId:c?.story_pin_data_id})})}function tR({queryRefs:e,...n}){(0,O.Z)("CloseupPage","/app/www/pages/duplo/CloseupPage.tsx");let a=(0,U.$B)(),{pinId:l}=(0,ed.Z)(a.params.id||"");return(0,ew.jsx)(G.Z,{id:"CloseupPwtSurface",children:(0,ew.jsx)(eg.Z,{type:"duplo",children:"GRAPHQL_DISABLED"===e?(0,ew.jsx)(G.Z,{id:"CloseupPageWithResource",children:(0,ew.jsx)(tL,{...n,pinId:l})}):(0,ew.jsx)(G.Z,{id:"CloseupPageWithGraphQL",children:(0,ew.jsx)(tA,{...n,pinId:l,queryRefs:e})})})})}},560983:function(e,n,a){a.d(n,{Z:()=>i});var l=a(500908);let i=(e,n,a)=>!n&&!a&&l.ZR.has(e)},588836:function(e,n,a){a.d(n,{Z:()=>f});var l=a(281098),i=a(581722),t=a(825332),r=a(20256),o=a(111330),s=a(521009),d=a(346955),u=a(667835),c=a(19585),p=a(506662),g=a(753143),m=a(941404),_=a(572227),h=a(647709),y=a(785893);function f({alignIconLeft:e,bgColor:n,color:a,disableRedirect:f=!1,fallbackUrl:k,icon:x="arrow-back",onTouch:S,padding:b,placement:P,shouldUseFallbackUrl:v,size:w="lg",viewParameter:T,viewType:I,isVisualSearch:C}){(0,l.Z)("BackButton","/app/www/routing/BackButton.tsx");let E=(0,c.Z)(),F=(0,t.s0)(),j=(0,t.TH)(),A=(0,h.HG)(),L=(0,i.v9)(e=>e.session.isAuthenticated),R=(0,s.Z)(),D=(0,_.Z)(),K=(0,u.vs)(),{viewType:B,viewParameter:O}=(0,d.SU)(),[Z,N]=I?[I,T]:[B,O],M=()=>{let e=(0,g.M0)().getItem(o.pm);j.key||"/ideas"!==k?(0,m.My)(`pinner_conversion.back_button.${String(e?.[0].pageType)}`):(0,m.My)("pinner_conversion.back_button.no_history"),(0,m.My)(`web_back_button_click.${String(P)}.is_auth_${String(L)}`),D({action:"click",item:"back-button"}),Z&&R({view_type:Z,view_parameter:N,element:34,event_type:102}),S&&S(),f||((!j.key||!j.state||j.state?.referrer==="redirect"||v)&&k?F(k):j.pathname.includes("/password/reset/")&&j.search&&j.search.includes("?nativeShouldDismiss=true")?F("/login/?dismissWebview=true"):F(-1))},U=K?u.t4:"white",z=(0,p.am)(j)||C||"white"===a;return(0,y.jsx)(r.xu,{"data-test-id":"back-button",children:e?(0,y.jsx)(r.xu,{alignItems:"center",display:"flex",height:48,marginStart:"cancel"===x?-1:-2,width:48,children:(0,y.jsx)(r.hU,{accessibilityLabel:E._('Back', 'navigation button', 'navigation button'),bgColor:n,icon:x,iconColor:!a&&(!n||["white","lightGray","transparent"].includes(n))?"gray":a,onClick:M,padding:"auto"!==b?b:2,size:w})}):(0,y.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:A||z||n?"":U,width:K&&!z?"fit-content":""}},rounding:"circle",children:(0,y.jsx)(r.hU,{accessibilityLabel:E._('Back', 'navigation button', 'navigation button'),bgColor:n||A?n:"transparent",icon:x,iconColor:!a&&(!n||["white","lightGray","transparent"].includes(n))?"gray":a,onClick:M,padding:"auto"!==b?b:2,size:w})})})}},573993:function(e,n,a){a.d(n,{Z:()=>_});var l=a(581722),i=a(825332),t=a(521009),r=a(525839),o=a(425102),s=a(572227),d=a(307178),u=a(8512),c=a(747129),p=a(156618),g=a(352908),m=a(793698);function _({embedSrc:e,embedType:n,hasRichMetadata:a,hasRichMetadataProducts:_,hasRichMetadataArticle:h,hasRichMetadataRecipe:y,imagesUrls:f,isFromUnauthContextMenu:k,pinId:x,nodeId:S,attributionLabel:b}){let P=(0,t.Z)(),v=(0,s.Z)(),{isAuthenticated:w,userId:T}=(0,l.v9)(({session:e})=>e),I=(0,g.Z)(),C=(0,r.ZP)(),E=(0,m.mN)()(T),F=(0,i.TH)();k=k??!1;let j=(0,d.Z)({embedSrc:e,embedType:n,imagesUrls:f,pinId:x,nodeId:S,isFromUnauthContextMenu:k,attributionLabel:b});return e=>{v({action:"click",item:"save-button"}),k||P({view_type:3,view_parameter:x?(0,u.CK)({hasRichMetadata:a,hasRichMetadataProducts:_,hasRichMetadataArticle:h,hasRichMetadataRecipe:y}):67,element:48,event_type:102,aux_data:{...w?{login_state:(0,c.xT)(E)?o.Z.LIMITED:o.Z.DEFAULT}:{}}}),!w&&(e.preventDefault(),j&&j.onSave()),I({fn:()=>{},modalHeader:(0,p.Bx)(C),nextLocation:(0,p.Qj)(F)})(e)}}},542696:function(e,n,a){a.d(n,{I:()=>l,g:()=>i});let{Provider:l,get:i}=(0,a(729434).Z)("ScreenSize")},688191:function(e,n,a){a.d(n,{Cc:()=>o,Dv:()=>_,Wz:()=>s,_P:()=>m,dP:()=>h,gx:()=>u,h8:()=>t,hk:()=>d,lp:()=>p,r4:()=>g});var l=a(20256),i=a(883817);let t={GENERIC_STICKER:"story_pin_generic_interactive_sticker_block",HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MENTION_STICKER:"story_pin_mention_sticker_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",PRODUCT_STICKER:"story_pin_product_sticker_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",VTO_MAKEUP_STICKER:"story_pin_virtual_try_on_makeup_sticker_block"},r={alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1},o={...r,font:{default_size:28,letter_spacing:-.4,line_height:1.25,name:"Graphik Regular",url:"https://pinterest-taipei.s3.amazonaws.com/Graphik-Regular.otf"},font_size:28},s={...r,font:{default_size:48,letter_spacing:0,line_height:1,name:"Graphik Bold Italic",url:"https://pinterest-taipei.s3.amazonaws.com/Graphik-Bold-Italic.otf"},font_size:48},d=64,u=48,c=new l.H3([i.ej]),p=new l.H3([c]),g=4;function m(e){return e?{paddingX:0,paddingY:0}:{paddingX:2,paddingY:g}}let _=60,h=3},226030:function(e,n,a){a.d(n,{Z:()=>m});var l=a(281098),i=a(20256),t=a(525839),r=a(302148),o=a(706563),s=a(63749),d=a(169330),u=a(785893);let c=({minutes:e,type:n,size:a})=>{let l=(0,t.ZP)();if("compact"===n){let n=(0,d.Z)(e,l);return(0,u.jsx)(i.xv,{inline:!0,size:a,children:n})}let r=(0,s.Z)((0,o.X)({m:e}),l);return(0,u.jsxs)(i.xu,{children:[(0,u.jsx)(i.xv,{inline:!0,size:a,weight:"bold",children:l._('Cook Time: ', 'closeup.storyPin.basicsLayout.cookTime.label', 'Label for cook time (ex. Cook Time: 3 minutes)')}),(0,u.jsx)(i.xv,{inline:!0,size:a,children:r})]})},p=({servingSize:e,type:n,size:a})=>{let l=(0,t.ZP)(),o=(0,r.nk)(l.ngettext('{{servingSize}} serving', '{{servingSize}} servings', e, 'number of servings for a recipe', 'number of servings for a recipe'),{servingSize:e});return"compact"===n?(0,u.jsx)(i.xv,{inline:!0,size:a,children:o}):(0,u.jsxs)(i.xu,{children:[(0,u.jsx)(i.xv,{inline:!0,size:a,weight:"bold",children:l._('Serving Size: ', 'closeup.storyPin.basicsLayout.servingSize.label', 'Label for serving size')}),(0,u.jsx)(i.xv,{inline:!0,size:a,children:o})]})},g=({difficulty:e,type:n,size:a})=>{let l=(0,t.ZP)(),r={1:l._('Easy', 'closeup.storyPin.basicsLayout.difficulty', 'Easy difficulty level'),2:l._('Intermediate', 'closeup.storyPin.basicsLayout.difficulty', 'Intermediate difficulty level'),3:l._('Expert', 'closeup.storyPin.basicsLayout.difficulty', 'Expert difficulty level')};return(0,u.jsxs)(i.xu,{children:[(0,u.jsx)(i.xv,{inline:!0,size:a,weight:"compact"===n?"normal":"bold",children:l._('Difficulty: ', 'closeup.storyPin.basicsLayout.difficulty.label', 'Label for difficulty')}),(0,u.jsx)(i.xv,{inline:!0,size:a,children:r[e??"1"]})]})};function m({categoryType:e,value:n,type:a,size:i}){if((0,l.Z)("StoryPinDetailTemplate","/app/www/storyPins/duplo/expressiveCloseup/StoryPinDetailTemplate.tsx"),0===e){let e=parseInt(n,10);return e?(0,u.jsx)(c,{minutes:e,size:i,type:a}):null}if(1===e){let e=parseInt(n,10);return(0,u.jsx)(p,{servingSize:e,size:i,type:a})}return 2===e?(0,u.jsx)(g,{difficulty:n,size:i,type:a}):null}},859033:function(e,n,a){a.d(n,{F:()=>s,Z:()=>d});var l=a(667294),i=a(821342),t=a(351222),r=a(647709),o=a(688191);let s="100vh";function d(){let{isAuth:e}=(0,i.Z)(),n=(0,r.ZP)(),a="desktop"===n,s="tablet"===n,{paddingY:d}=(0,o._P)(a),u=4*d,[c,p]=(0,l.useState)(null),[g,m]=(0,l.useState)(null),[_,h]=(0,l.useState)(null),[y,f]=(0,l.useState)(null),k=(0,l.useCallback)(()=>{let l=s&&_?_:window?.innerHeight;e||(l-="tablet"===n?t.Pw:t.SB),a||(l-=o.hk+u),p(l),m(l)},[e,n,u,_,a,s]);return(0,l.useEffect)(()=>("undefined"!=typeof window&&(screen.orientation&&y!==screen.orientation.type&&(f(screen.orientation.type),h(window?.innerHeight)),k()),window.addEventListener("resize",k),()=>{window.removeEventListener("resize",k)}),[n,e,y,k]),{storyPinHeight:c,fillerPaddingTop:g}}},529994:function(e,n,a){a.d(n,{JJ:()=>l,N3:()=>t,zu:()=>i});let l=["TR","WB"],i=["BR","CG","HP","HR","JH","MP","RJ","UK","UP"],t=[...l,...i,"AP","TG"]},24906:function(e,n,a){a.d(n,{UZ:()=>p,WG:()=>g,s:()=>m});var l,i=a(281098);a(244311);var t=a(415546),r=a(274320),o=a(15667),s=a(647709),d=a(6789),u=a(361949);let c=(void 0!==l||(l=a(551884)).hash&&"b0c6b5112691f13c9217bf0ac7b77e04"!==l.hash&&console.error("The definition of 'useSeoDrawerExperimentUtil_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),p=({pinKey:e,pinType:n,trafficSource:a,componentType:l,viewParameter:r})=>{(0,i.Z)("useSeoDrawerExperimentUtil","/app/www/unauth/SeoDrawer/util/useSeoDrawerExperimentUtil.tsx");let o=(0,s.Wb)(),p=(0,t.Z)(c,e),g=(0,u.Z)(p,r),m=o&&"feed"===n;return m?{showCreator:m,showCredit:!(0,d.Z)({trafficSource:a,componentType:l})&&!!g}:{showCreator:!1,showCredit:!1}},g=e=>{(0,i.Z)("useSeoDrawerExperimentUtil","/app/www/unauth/SeoDrawer/util/useSeoDrawerExperimentUtil.tsx");let{checkExperiment:n}=(0,r.r)(),{isAuthenticated:a}=(0,o.B)();return!a&&("closeup"===e?"enabled_main_pin"===n("ffe_video_transcript_for_closeup").group:"closeup_feed"===e&&"enabled_pin_feed"===n("ffe_video_transcript_for_closeup").group)},m=({skipExpActivation:e})=>{(0,i.Z)("useSeoDrawerExperimentUtil","/app/www/unauth/SeoDrawer/util/useSeoDrawerExperimentUtil.tsx");let{checkExperiment:n}=(0,r.r)(),{isBot:a,isAuthenticated:l}=(0,o.B)();return!l&&!a&&!(!a&&n("lop_ucan_mau_ui_holdout",{dangerouslySkipActivation:e}).anyEnabled)}},976083:function(e,n,a){a.d(n,{Z:()=>o});var l,i=a(667294);a(167912);var t=a(415546);let r=(void 0!==l||(l=a(1211)).hash&&"11d828252f89045bc37e6aa5eb3fbea6"!==l.hash&&console.error("The definition of 'useReactionCountsFragment_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),o=e=>{let n=(0,t.Z)(r,e),a=n?.reactionCountsData;return(0,i.useMemo)(()=>a?a.reduce((e,n)=>({...e,[String(n.reactionType??0)]:n.reactionCount??0}),{}):a,[a])}},225251:function(e,n,a){a.d(n,{Z:()=>w});var l,i=a(281098),t=a(581722);a(167912);var r=a(20256),o=a(937805),s=a(521009),d=a(821342),u=a(415546),c=a(525839),p=a(607001),g=a(941404),m=a(572227),_=a(732690),h=a(38817),y=a(676244),f=a(401450),k=a(906553),x=a(302148),S=a(15667),b=a(785893);let P=({followerCount:e})=>{(0,i.Z)("UserRepFollowerCount","/app/www/user/duplo/UserRepFollowerCount.tsx");let n=(0,c.ZP)(),a=(0,k.Z)(),{locale:l}=(0,S.B)();return(0,b.jsx)(r.xv,{children:(0,x.nk)(n.ngettext('{{followers}} follower', '{{followers}} followers', e, 'pinPage.attribution.followersCount', 'Count of a user\'s followers'),{followers:a(l,e,{shortform:!0,shortform_maximum_fraction_digits:0})})})},v=(void 0!==l||(l=a(23017)).hash&&"3aa915f8ddd58c7ab54f435ed3309484"!==l.hash&&console.error("The definition of 'UserRep_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l);function w(e){(0,i.Z)("UserRep","/app/www/user/duplo/UserRep.tsx");let n=(0,d.Z)(),a=n.isAuth&&n.id,l=n.isAuth,k=(0,c.ZP)(),x=(0,p.Z)(),S=(0,s.Z)(),w=(0,m.Z)(),T=(0,t.I0)(),I=e=>T((0,y.ZN)(e)),C=e=>T((0,y.fv)(e)),{mWebCloseupRedesignEnabled:E}=(0,o.Z)(),{avatarSize:F,detailText:j,hideButtons:A,blockedByMe:L,explicitlyFollowedByMe:R,avatarColorIndex:D,followerCount:K,fullName:B,id:O,imageLargeUrl:Z,imageMediumUrl:N,imageSmallUrl:M,isEligibleForPdp:U,isVerifiedMerchant:z,verifiedIdentityVerified:V,username:G,isCurrentUser:H,isOnCloseup:W,isImagePinForUnauthOnTablet:Y,pinId:q,pinKey:$,shouldNavigateToProfile:X=!0,textColor:Q,type:J,viewParameter:ee,viewType:en,unauthFollow:ea,activateLexFollowExp:el,clientTrackingParams:ei,isSmallAvatarEnabled:et}=e,er=(0,u.Z)(v,$),eo=(q&&q.length,()=>(0,b.jsx)(h.Z,{clientTrackingParams:ei,disableLog:!0,followEventType:45,id:O,isFollowed:R||!1,isSecondaryButton:!0,isUserFollowButton:!0,isUserMe:a===O,onFollow:()=>W?void(l?(I(O),S({event_type:45,view_type:3,view_parameter:156,view_data:{isCurrentUser:H,viewObjectId:q,viewObjectIdStr:q},object_id_str:O,clientTrackingParams:ei})):x({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:"click_follow",desktopOptions:{modalType:"login"}})):I(O),onUnfollow:()=>W?void(C(O),S({event_type:46,view_type:3,view_parameter:156,object_id_str:O,clientTrackingParams:ei})):C(O),pinKey:er,size:"md",unfollowEventType:46,viewParameter:ee,viewType:en})),es=()=>{if(L)return(0,b.jsx)(r.zx,{color:"gray",fullWidth:!0,onClick:()=>T((0,f.h2)(O,S)),size:"md",text:k._('Unblock', ' - ', ' -- ')});if(l)return eo();if(el){if(!el().group.includes("hide_follow")&&ea)return eo()}else if(ea)return eo();return null},ed=e=>(0,b.jsx)(r.xu,{"data-test-id":"avatar-image",children:(0,b.jsx)(r.HE,{accessibilityLabel:k._('User`s avatar', 'User`s avatar', 'User`s avatar'),collaborators:[{name:B??"",src:Z||N||M||void 0,color:D}],onClick:()=>{w({action:"click",item:"avatar-image"})},size:(e||{}).size})}),eu=Y?"calc(100% - 48px)":void 0,ec=z||V,ep=!l&&U&&!ec,eg=!ec&&!l,em=(0,b.jsxs)(r.kC,{alignItems:"center",flex:"shrink",justifyContent:"start",children:[(0,b.jsx)(r.xu,{flex:"none",height:E?16:void 0,marginEnd:et?1:2,width:E?16:void 0,children:ed({size:F||"md"})}),(0,b.jsxs)(r.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",maxWidth:eu,children:[(0,b.jsxs)(r.kC,{alignItems:"stretch",justifyContent:"start",children:[ep&&(0,b.jsx)(r.xu,{marginEnd:1,children:(0,b.jsx)(r.xv,{children:k._('Saved by', 'Context on user rep', 'userRep.saveContext')})}),(0,b.jsx)(r.xu,{"data-test-id":"username",children:(0,b.jsx)(r.iP,{onTap:()=>{w({action:"click",item:"username"})},children:(0,b.jsx)(r.xv,{color:Q||"default",lineClamp:Y?1:void 0,size:E?"200":void 0,weight:"bold",children:B})})}),ec&&(0,b.jsx)(r.xu,{marginStart:1,paddingY:1,children:(0,b.jsx)(_.Z,{showVerifiedIdentity:!z,size:"sm"})})]}),(0,b.jsx)(r.xv,{color:Q||"default",lineClamp:Y?1:void 0,children:j}),!!K&&!eg&&!E&&(0,b.jsx)(r.xu,{"data-test-id":"user-follower-count",children:(0,b.jsx)(r.iP,{onTap:()=>{w({action:"click",item:"user-follower-count"})},children:(0,b.jsx)(P,{followerCount:K})})})]})]}),e_="row"===J?(0,b.jsxs)(r.kC,{alignItems:"center",justifyContent:"between",children:[em,!A&&(0,b.jsx)(r.xu,{flex:"none",marginStart:2,children:es()})]}):(0,b.jsxs)(r.xu,{maxWidth:eu,padding:2,children:[ed(),(0,b.jsxs)(r.xu,{display:"flex",paddingY:2,children:[(0,b.jsx)(r.xv,{align:"center",lineClamp:1,size:"200",weight:"bold",children:B}),ec&&(0,b.jsx)(r.xu,{marginStart:1,paddingY:1,children:(0,b.jsx)(_.Z,{showVerifiedIdentity:!z,size:"sm"})})]}),!A&&es()]}),eh=(0,b.jsxs)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},display:"flex",justifyContent:"between",overflow:"hidden",children:[(0,b.jsx)(r.Tg,{href:`/${encodeURIComponent(G)}/`,onTap:()=>{l||((0,g.NC)("click_pin_closeup_profile"),w({action:"click",item:"user-rep"}))},rounding:2,tapStyle:"compress",children:em}),!A&&(0,b.jsx)(r.xu,{flex:"none",marginStart:2,children:es()})]});return(0,b.jsx)(r.xu,{"data-test-id":"user-rep",width:"100%",children:X?eh:e_})}},761112:function(e,n,a){a.d(n,{Z:()=>o});var l=a(281098);let i={"&":"\\u0026",">":"\\u003e","<":"\\u003c","\u2028":"\\u2028","\u2029":"\\u2029"},t=/[&><\u2028\u2029]/g;var r=a(785893);function o({id:e,isRelayResponseScript:n,testId:a,type:o="application/json",value:s}){(0,l.Z)("JsonScript","/pws/react/JsonScript.tsx");let d=JSON.stringify(s).replace(t,e=>i[e]);return(0,r.jsx)("script",{"data-test-id":a,id:e,...n?{"data-relay-response":!0}:{},dangerouslySetInnerHTML:{__html:d},type:o})}},81580:function(e,n,a){a.d(n,{U:()=>t,Z:()=>r});var l=a(667294);let i=(0,l.createContext)();function t(){return(0,l.useContext)(i)}let r=i}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/96359-1bafd5039f18fc04.mjs.map