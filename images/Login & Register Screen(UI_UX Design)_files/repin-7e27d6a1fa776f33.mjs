(self.modernJsonp=self.modernJsonp||[]).push([["34940"],{376030:function(e,t,n){n.d(t,{Z:()=>et});var i,r,a={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},o={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},s=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],l={},d={};function c(e,t,n){return Math.min(Math.max(e,t),n)}function u(e,t){return e.indexOf(t)>-1}function p(e,t){return e.apply(null,t)}var h={arr:function(e){return Array.isArray(e)},obj:function(e){return u(Object.prototype.toString.call(e),"Object")},pth:function(e){return h.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||h.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},nil:function(e){return h.und(e)||null===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return h.hex(e)||h.rgb(e)||h.hsl(e)},key:function(e){return!a.hasOwnProperty(e)&&!o.hasOwnProperty(e)&&"targets"!==e&&"keyframes"!==e}};function g(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map(function(e){return parseFloat(e)}):[]}function _(e,t){var n=g(e),i=c(h.und(n[0])?1:n[0],.1,100),r=c(h.und(n[1])?100:n[1],.1,100),a=c(h.und(n[2])?10:n[2],.1,100),o=c(h.und(n[3])?0:n[3],.1,100),s=Math.sqrt(r/i),l=a/(2*Math.sqrt(r*i)),u=l<1?s*Math.sqrt(1-l*l):0,p=l<1?(l*s+-o)/u:-o+s;function _(e){var n=t?t*e/1e3:e;return(n=l<1?Math.exp(-n*l*s)*(+Math.cos(u*n)+p*Math.sin(u*n)):(1+p*n)*Math.exp(-n*s),0===e||1===e)?e:1-n}return t?_:function(){var t=d[e];if(t)return t;for(var n=1/6,i=0,r=0;;)if(1===_(i+=n)){if(++r>=16)break}else r=0;var a=i*n*1e3;return d[e]=a,a}}function m(e){return void 0===e&&(e=10),function(t){return Math.ceil(c(t,1e-6,1)*e)*(1/e)}}var f=function(){function e(e,t,n){return(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e}function t(e,t,n){return 3*(1-3*n+3*t)*e*e+2*(3*n-6*t)*e+3*t}return function(n,i,r,a){if(0<=n&&n<=1&&0<=r&&r<=1){var o=new Float32Array(11);if(n!==i||r!==a)for(var s=0;s<11;++s)o[s]=e(.1*s,n,r);return function(s){return n===i&&r===a||0===s||1===s?s:e(function(i){for(var a=0,s=1;10!==s&&o[s]<=i;++s)a+=.1;var l=a+(i-o[--s])/(o[s+1]-o[s])*.1,d=t(l,n,r);if(d>=.001){for(var c=l,u=0;u<4;++u){var p=t(c,n,r);if(0===p)break;var h=e(c,n,r)-i;c-=h/p}return c}return 0===d?l:function(t,n,i,r,a){var o,s,l=0;do(o=e(s=n+(i-n)/2,r,a)-t)>0?i=s:n=s;while(Math.abs(o)>1e-7&&++l<10)return s}(i,a,a+.1,n,r)}(s),i,a)}}}}(),y=(i={linear:function(){return function(e){return e}}},r={Sine:function(){return function(e){return 1-Math.cos(e*Math.PI/2)}},Circ:function(){return function(e){return 1-Math.sqrt(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}},Elastic:function(e,t){void 0===e&&(e=1),void 0===t&&(t=.5);var n=c(e,1,10),i=c(t,.1,2);return function(e){return 0===e||1===e?e:-n*Math.pow(2,10*(e-1))*Math.sin(2*Math.PI*(e-1-i/(2*Math.PI)*Math.asin(1/n))/i)}}},["Quad","Cubic","Quart","Quint","Expo"].forEach(function(e,t){r[e]=function(){return function(e){return Math.pow(e,t+2)}}}),Object.keys(r).forEach(function(e){var t=r[e];i["easeIn"+e]=t,i["easeOut"+e]=function(e,n){return function(i){return 1-t(e,n)(1-i)}},i["easeInOut"+e]=function(e,n){return function(i){return i<.5?t(e,n)(2*i)/2:1-t(e,n)(-2*i+2)/2}},i["easeOutIn"+e]=function(e,n){return function(i){return i<.5?(1-t(e,n)(1-2*i))/2:(t(e,n)(2*i-1)+1)/2}}}),i);function b(e,t){if(h.fnc(e))return e;var n=e.split("(")[0],i=y[n],r=g(e);switch(n){case"spring":return _(e,t);case"cubicBezier":return p(f,r);case"steps":return p(m,r);default:return p(i,r)}}function x(e){try{return document.querySelectorAll(e)}catch(e){return}}function v(e,t){for(var n=e.length,i=arguments.length>=2?arguments[1]:void 0,r=[],a=0;a<n;a++)if(a in e){var o=e[a];t.call(i,o,a,e)&&r.push(o)}return r}function P(e){return e.reduce(function(e,t){return e.concat(h.arr(t)?P(t):t)},[])}function w(e){return h.arr(e)?e:(h.str(e)&&(e=x(e)||e),e instanceof NodeList||e instanceof HTMLCollection)?[].slice.call(e):[e]}function S(e,t){return e.some(function(e){return e===t})}function I(e){var t={};for(var n in e)t[n]=e[n];return t}function k(e,t){var n=I(e);for(var i in e)n[i]=t.hasOwnProperty(i)?t[i]:e[i];return n}function j(e,t){var n=I(e);for(var i in t)n[i]=h.und(e[i])?t[i]:e[i];return n}function T(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function A(e,t){return h.fnc(e)?e(t.target,t.id,t.total):e}function B(e,t){return e.getAttribute(t)}function C(e,t,n){if(S([n,"deg","rad","turn"],T(t)))return t;var i=l[t+n];if(!h.und(i))return i;var r=document.createElement(e.tagName),a=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;a.appendChild(r),r.style.position="absolute",r.style.width=100+n;var o=100/r.offsetWidth;a.removeChild(r);var s=o*parseFloat(t);return l[t+n]=s,s}function R(e,t,n){if(t in e.style){var i=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r=e.style[t]||getComputedStyle(e).getPropertyValue(i)||"0";return n?C(e,r,n):r}}function Z(e,t){return h.dom(e)&&!h.inp(e)&&(!h.nil(B(e,t))||h.svg(e)&&e[t])?"attribute":h.dom(e)&&S(s,t)?"transform":h.dom(e)&&"transform"!==t&&R(e,t)?"css":null!=e[t]?"object":void 0}function E(e){if(h.dom(e)){for(var t,n=e.style.transform||"",i=/(\w+)\(([^)]*)\)/g,r=new Map;t=i.exec(n);)r.set(t[1],t[2]);return r}}function F(e,t,n,i){switch(Z(e,t)){case"transform":var r,a;return r=u(t,"scale")?1:0+(u(t,"translate")||"perspective"===t?"px":u(t,"rotate")||u(t,"skew")?"deg":void 0),a=E(e).get(t)||r,i&&(i.transforms.list.set(t,a),i.transforms.last=t),n?C(e,a,n):a;case"css":return R(e,t,n);case"attribute":return B(e,t);default:return e[t]||0}}function z(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var i=T(e)||0,r=parseFloat(t),a=parseFloat(e.replace(n[0],""));switch(n[0][0]){case"+":return r+a+i;case"-":return r-a+i;case"*":return r*a+i}}function L(e,t){if(h.col(e)){var n,i,r;return h.rgb(e)?(n=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e))?"rgba("+n[1]+",1)":e:h.hex(e)?(i=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,n,i){return t+t+n+n+i+i}),"rgba("+parseInt((r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i))[1],16)+","+parseInt(r[2],16)+","+parseInt(r[3],16)+",1)"):h.hsl(e)?function(e){var t,n,i,r=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),a=parseInt(r[1],10)/360,o=parseInt(r[2],10)/100,s=parseInt(r[3],10)/100,l=r[4]||1;function d(e,t,n){return(n<0&&(n+=1),n>1&&(n-=1),n<1/6)?e+(t-e)*6*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(0==o)t=n=i=s;else{var c=s<.5?s*(1+o):s+o-s*o,u=2*s-c;t=d(u,c,a+1/3),n=d(u,c,a),i=d(u,c,a-1/3)}return"rgba("+255*t+","+255*n+","+255*i+","+l+")"}(e):void 0}if(/\s/g.test(e))return e;var a=T(e),o=a?e.substr(0,e.length-a.length):e;return t?o+t:o}function O(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function M(e){for(var t,n=e.points,i=0,r=0;r<n.numberOfItems;r++){var a=n.getItem(r);r>0&&(i+=O(t,a)),t=a}return i}function D(e){var t;if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return 2*Math.PI*B(e,"r");case"rect":return 2*B(e,"width")+2*B(e,"height");case"line":return O({x:B(e,"x1"),y:B(e,"y1")},{x:B(e,"x2"),y:B(e,"y2")});case"polyline":return M(e);case"polygon":return t=e.points,M(e)+O(t.getItem(t.numberOfItems-1),t.getItem(0))}}function N(e,t){var n=t||{},i=n.el||function(e){for(var t=e.parentNode;h.svg(t)&&h.svg(t.parentNode);)t=t.parentNode;return t}(e),r=i.getBoundingClientRect(),a=B(i,"viewBox"),o=r.width,s=r.height,l=n.viewBox||(a?a.split(" "):[0,0,o,s]);return{el:i,viewBox:l,x:l[0]/1,y:l[1]/1,w:o,h:s,vW:l[2],vH:l[3]}}function K(e,t){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,i=L(h.pth(e)?e.totalLength:e,t)+"";return{original:i,numbers:i.match(n)?i.match(n).map(Number):[0],strings:h.str(e)||t?i.split(n):[]}}function H(e){return v(e?P(h.arr(e)?e.map(w):w(e)):[],function(e,t,n){return n.indexOf(e)===t})}function $(e){var t=H(e);return t.map(function(e,n){return{target:e,id:n,total:t.length,transforms:{list:E(e)}}})}var W={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,i,r){if(i.list.set(t,n),t===i.last||r){var a="";i.list.forEach(function(e,t){a+=t+"("+e+") "}),e.style.transform=a}}};function U(e,t){$(e).forEach(function(e){for(var n in t){var i=A(t[n],e),r=e.target,a=T(i),o=F(r,n,a,e),s=z(L(i,a||T(o)),o);W[Z(r,n)](r,n,s,e.transforms,!0)}})}function q(e,t){var n=e.length,i=function(e){return e.timelineOffset?e.timelineOffset:0},r={};return r.duration=n?Math.max.apply(Math,e.map(function(e){return i(e)+e.duration})):t.duration,r.delay=n?Math.min.apply(Math,e.map(function(e){return i(e)+e.delay})):t.delay,r.endDelay=n?r.duration-Math.max.apply(Math,e.map(function(e){return i(e)+e.duration-e.endDelay})):t.endDelay,r}var Y=0,G=[],V=function(){var e;function t(n){for(var i=G.length,r=0;r<i;){var a=G[r];a.paused?(G.splice(r,1),i--):(a.tick(n),r++)}e=r>0?requestAnimationFrame(t):void 0}return"undefined"!=typeof document&&document.addEventListener("visibilitychange",function(){Q.suspendWhenDocumentHidden&&(X()?e=cancelAnimationFrame(e):(G.forEach(function(e){return e._onDocumentVisibility()}),V()))}),function(){e||X()&&Q.suspendWhenDocumentHidden||!(G.length>0)||(e=requestAnimationFrame(t))}}();function X(){return!!document&&document.hidden}function Q(e){void 0===e&&(e={});var t,n,i,r,s,l,d,u,p,g=0,m=0,f=0,y=0,x=null;function w(e){var t=window.Promise&&new Promise(function(e){return x=e});return e.finished=t,t}var S=(n=k(a,t=e),r=function(e,t){var n=[],i=t.keyframes;for(var r in i&&(t=j(function(e){for(var t=v(P(e.map(function(e){return Object.keys(e)})),function(e){return h.key(e)}).reduce(function(e,t){return 0>e.indexOf(t)&&e.push(t),e},[]),n={},i=0;i<t.length;i++)!function(i){var r=t[i];n[r]=e.map(function(e){var t={};for(var n in e)h.key(n)?n==r&&(t.value=e[n]):t[n]=e[n];return t})}(i);return n}(i),t)),t)h.key(r)&&n.push({name:r,tweens:function(e,t){var n=I(t);if(/^spring/.test(n.easing)&&(n.duration=_(n.easing)),h.arr(e)){var i=e.length;2!==i||h.obj(e[0])?h.fnc(t.duration)||(n.duration=t.duration/i):e={value:e}}var r=h.arr(e)?e:[e];return r.map(function(e,n){var i=h.obj(e)&&!h.pth(e)?e:{value:e};return h.und(i.delay)&&(i.delay=n?0:t.delay),h.und(i.endDelay)&&(i.endDelay=n===r.length-1?t.endDelay:0),i}).map(function(e){return j(e,n)})}(t[r],e)});return n}(i=k(o,t),t),d=q(l=v(P((s=$(t.targets)).map(function(e){return r.map(function(t){var n=e,i=t,r=Z(n.target,i.name);if(r){var a,o=i.tweens.map(function(e){var t=function(e,t){var n={};for(var i in e){var r=A(e[i],t);h.arr(r)&&1===(r=r.map(function(e){return A(e,t)})).length&&(r=r[0]),n[i]=r}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}(e,n),r=t.value,o=h.arr(r)?r[1]:r,s=T(o),l=F(n.target,i.name,s,n),d=a?a.to.original:l,c=h.arr(r)?r[0]:d,u=T(c)||T(l),p=s||u;return h.und(o)&&(o=d),t.from=K(c,p),t.to=K(z(o,c),p),t.start=a?a.end:0,t.end=t.start+t.delay+t.duration+t.endDelay,t.easing=b(t.easing,t.duration),t.isPath=h.pth(r),t.isPathTargetInsideSVG=t.isPath&&h.svg(n.target),t.isColor=h.col(t.from.original),t.isColor&&(t.round=1),a=t,t}),s=o[o.length-1];return{type:r,property:i.name,animatable:n,tweens:o,duration:s.end,delay:o[0].delay,endDelay:s.endDelay}}})})),function(e){return!h.und(e)}),i),u=Y,Y++,j(n,{id:u,children:[],animatables:s,animations:l,duration:d.duration,delay:d.delay,endDelay:d.endDelay}));function B(){var e=S.direction;"alternate"!==e&&(S.direction="normal"!==e?"normal":"reverse"),S.reversed=!S.reversed,p.forEach(function(e){return e.reversed=S.reversed})}function C(e){return S.reversed?S.duration-e:e}function R(){g=0,m=C(S.currentTime)*(1/Q.speed)}function E(e,t){t&&t.seek(e-t.timelineOffset)}function L(e){for(var t=0,n=S.animations,i=n.length;t<i;){var r=n[t],a=r.animatable,o=r.tweens,s=o.length-1,l=o[s];s&&(l=v(o,function(t){return e<t.end})[0]||l);for(var d=c(e-l.start-l.delay,0,l.duration)/l.duration,u=isNaN(d)?1:l.easing(d),p=l.to.strings,h=l.round,g=[],_=l.to.numbers.length,m=void 0,f=0;f<_;f++){var y=void 0,b=l.to.numbers[f],x=l.from.numbers[f]||0;y=l.isPath?function(e,t,n){function i(n){void 0===n&&(n=0);var i=t+n>=1?t+n:0;return e.el.getPointAtLength(i)}var r=N(e.el,e.svg),a=i(),o=i(-1),s=i(1),l=n?1:r.w/r.vW,d=n?1:r.h/r.vH;switch(e.property){case"x":return(a.x-r.x)*l;case"y":return(a.y-r.y)*d;case"angle":return 180*Math.atan2(s.y-o.y,s.x-o.x)/Math.PI}}(l.value,u*b,l.isPathTargetInsideSVG):x+u*(b-x),h&&!(l.isColor&&f>2)&&(y=Math.round(y*h)/h),g.push(y)}var P=p.length;if(P){m=p[0];for(var w=0;w<P;w++){p[w];var I=p[w+1],k=g[w];isNaN(k)||(I?m+=k+I:m+=k+" ")}}else m=g[0];W[r.type](a.target,r.property,m,a.transforms),r.currentValue=m,t++}}function O(e){S[e]&&!S.passThrough&&S[e](S)}function M(e){var t=S.duration,n=S.delay,i=t-S.endDelay,r=C(e);S.progress=c(r/t*100,0,100),S.reversePlayback=r<S.currentTime,p&&function(e){if(S.reversePlayback)for(var t=y;t--;)E(e,p[t]);else for(var n=0;n<y;n++)E(e,p[n])}(r),!S.began&&S.currentTime>0&&(S.began=!0,O("begin")),!S.loopBegan&&S.currentTime>0&&(S.loopBegan=!0,O("loopBegin")),r<=n&&0!==S.currentTime&&L(0),(r>=i&&S.currentTime!==t||!t)&&L(t),r>n&&r<i?(S.changeBegan||(S.changeBegan=!0,S.changeCompleted=!1,O("changeBegin")),O("change"),L(r)):S.changeBegan&&(S.changeCompleted=!0,S.changeBegan=!1,O("changeComplete")),S.currentTime=c(r,0,t),S.began&&O("update"),e>=t&&(m=0,S.remaining&&!0!==S.remaining&&S.remaining--,S.remaining?(g=f,O("loopComplete"),S.loopBegan=!1,"alternate"===S.direction&&B()):(S.paused=!0,!S.completed&&(S.completed=!0,O("loopComplete"),O("complete"),!S.passThrough&&"Promise"in window&&(x(),w(S)))))}return w(S),S.reset=function(){var e=S.direction;S.passThrough=!1,S.currentTime=0,S.progress=0,S.paused=!0,S.began=!1,S.loopBegan=!1,S.changeBegan=!1,S.completed=!1,S.changeCompleted=!1,S.reversePlayback=!1,S.reversed="reverse"===e,S.remaining=S.loop,y=(p=S.children).length;for(var t=y;t--;)S.children[t].reset();(S.reversed&&!0!==S.loop||"alternate"===e&&1===S.loop)&&S.remaining++,L(S.reversed?S.duration:0)},S._onDocumentVisibility=R,S.set=function(e,t){return U(e,t),S},S.tick=function(e){f=e,g||(g=f),M((f+(m-g))*Q.speed)},S.seek=function(e){M(C(e))},S.pause=function(){S.paused=!0,R()},S.play=function(){S.paused&&(S.completed&&S.reset(),S.paused=!1,G.push(S),R(),V())},S.reverse=function(){B(),S.completed=!S.reversed,R()},S.restart=function(){S.reset(),S.play()},S.remove=function(e){ee(H(e),S)},S.reset(),S.autoplay&&S.play(),S}function J(e,t){for(var n=t.length;n--;)S(e,t[n].animatable.target)&&t.splice(n,1)}function ee(e,t){var n=t.animations,i=t.children;J(e,n);for(var r=i.length;r--;){var a=i[r],o=a.animations;J(e,o),o.length||a.children.length||i.splice(r,1)}n.length||i.length||t.pause()}Q.version="3.2.1",Q.speed=1,Q.suspendWhenDocumentHidden=!0,Q.running=G,Q.remove=function(e){for(var t=H(e),n=G.length;n--;)ee(t,G[n])},Q.get=F,Q.set=U,Q.convertPx=C,Q.path=function(e,t){var n=h.str(e)?x(e)[0]:e,i=t||100;return function(e){return{property:e,el:n,svg:N(n),totalLength:D(n)*(i/100)}}},Q.setDashoffset=function(e){var t=D(e);return e.setAttribute("stroke-dasharray",t),t},Q.stagger=function(e,t){void 0===t&&(t={});var n=t.direction||"normal",i=t.easing?b(t.easing):null,r=t.grid,a=t.axis,o=t.from||0,s="first"===o,l="center"===o,d="last"===o,c=h.arr(e),u=c?parseFloat(e[0]):parseFloat(e),p=c?parseFloat(e[1]):0,g=T(c?e[1]:e)||0,_=t.start||0+(c?u:0),m=[],f=0;return function(e,t,h){if(s&&(o=0),l&&(o=(h-1)/2),d&&(o=h-1),!m.length){for(var y=0;y<h;y++){if(r){var b=l?(r[0]-1)/2:o%r[0],x=l?(r[1]-1)/2:Math.floor(o/r[0]),v=y%r[0],P=Math.floor(y/r[0]),w=b-v,S=x-P,I=Math.sqrt(w*w+S*S);"x"===a&&(I=-w),"y"===a&&(I=-S),m.push(I)}else m.push(Math.abs(o-y));f=Math.max.apply(Math,m)}i&&(m=m.map(function(e){return i(e/f)*f})),"reverse"===n&&(m=m.map(function(e){return a?e<0?-1*e:-e:Math.abs(f-e)}))}return _+(c?(p-u)/f:u)*(Math.round(100*m[t])/100)+g}},Q.timeline=function(e){void 0===e&&(e={});var t=Q(e);return t.duration=0,t.add=function(n,i){var r=G.indexOf(t),a=t.children;function s(e){e.passThrough=!0}r>-1&&G.splice(r,1);for(var l=0;l<a.length;l++)s(a[l]);var d=j(n,k(o,e));d.targets=d.targets||e.targets;var c=t.duration;d.autoplay=!1,d.direction=t.direction,d.timelineOffset=h.und(i)?c:z(i,c),s(t),t.seek(d.timelineOffset);var u=Q(d);s(u),a.push(u);var p=q(a,e);return t.delay=p.delay,t.endDelay=p.endDelay,t.duration=p.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t},Q.easing=b,Q.penner=y,Q.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};let et=Q},764227:function(e,t,n){n.r(t),n.d(t,{default:()=>r});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardPickerList_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"Pin",abstractKey:null};i.hash="76b22cc5d658befe1dc27454d3aee77f";let r=i},853213:function(e,t,n){var i;n.r(t),n.d(t,{default:()=>a});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardTitleSuggestionList_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:i,storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};r.hash="69ffcdea57a7778d2ebbcd41c276c0d0";let a=r},645632:function(e,t,n){n.r(t),n.d(t,{default:()=>r});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupRepinPage_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null}],type:"Pin",abstractKey:null};i.hash="60ba8f292ef82335c3d4cbce50f362d8";let r=i},148281:function(e,t,n){var i;n.r(t),n.d(t,{default:()=>a});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RepinAddSection_pin",selections:[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};r.hash="b3ec14d29962e56f80dd52e7e6d7a6d9";let a=r},205725:function(e,t,n){var i;n.r(t),n.d(t,{default:()=>a});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RepinBoardPicker_pin",selections:[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[i],storageKey:null},{args:null,kind:"FragmentSpread",name:"BoardPickerList_pin"},{args:null,kind:"FragmentSpread",name:"BoardTitleSuggestionList_pin"},{args:null,kind:"FragmentSpread",name:"useClientTrackingParams_pin"}],type:"Pin",abstractKey:null};r.hash="475036dcb56a51d3552313200b8c9d45";let a=r},727382:function(e,t,n){var i;n.r(t),n.d(t,{default:()=>a});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RepinCreateBoardButton_pin",selections:[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[i],storageKey:null}],type:"Pin",abstractKey:null};r.hash="1612c2df94f42990b3d4f6ccede72a70";let a=r},252031:function(e,t,n){n.r(t),n.d(t,{default:()=>r});let i=(a=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],o=[{kind:"Variable",name:"pin",variableName:"pinId"}],l={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},u=[s={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"RepinPageQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[s,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"RepinPage_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"RepinPageQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[s,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},l,{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},c,l,d],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},c],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:u,storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:u,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:u,storageKey:null}],storageKey:null},c],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"07d289e6c922ebc4ed21efcdd6fb425983d982a2c8a0484ddaf1b91db1391adf",metadata:{},name:"RepinPageQuery",operationKind:"query",text:null}});i.hash="76093586a269ca0330e25a57bd33f665";let r=i;var a,o,s,l,d,c,u,p=i.default||i;if("query"===p.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(p);else{let e=[p.params.name,p.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[e]=p}},713443:function(e,t,n){n.r(t),n.d(t,{default:()=>r});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RepinPage_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"RepinAddSection_pin"},{args:null,kind:"FragmentSpread",name:"RepinBoardPicker_pin"},{args:null,kind:"FragmentSpread",name:"RepinSectionPicker_pin"},{args:null,kind:"FragmentSpread",name:"RepinCreateBoardButton_pin"}],type:"Pin",abstractKey:null};i.hash="b1432f4e80d112c155f930f7ed3760cd";let r=i},428988:function(e,t,n){var i;n.r(t),n.d(t,{default:()=>a});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RepinSectionPicker_pin",selections:[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[i],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"Pin",abstractKey:null};r.hash="f0b2fbadfba92480a2077999a000a308";let a=r},182522:function(e,t,n){n.r(t),n.d(t,{default:()=>r});let i={fragment:{argumentDefinitions:a=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"useFetchBoardTitleSuggestionsQuery",selections:[{alias:null,args:o=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[l={alias:null,args:null,concreteType:"BoardTitleSuggestions",kind:"LinkedField",name:"boardTitleSuggestions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null},d={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useFetchBoardTitleSuggestionsQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[s,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null},d],storageKey:null}]},params:{id:"dfccee15ebd4af4563083cc11670f30e6390ba0f2d1317da3d908269f01eadba",metadata:{},name:"useFetchBoardTitleSuggestionsQuery",operationKind:"query",text:null}};i.hash="a8967078f1de7ce3a263a224d0d0e710";let r=i;var a,o,s,l,d,c=i.default||i;if("query"===c.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(c);else{let e=[c.params.name,c.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[e]=c}},377654:function(e,t,n){n.d(t,{Rq:()=>i,Vf:()=>r,jd:()=>a,oy:()=>o});let i=e=>"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436,r=28,a=e=>window.innerHeight>=748&&i(e),o=()=>"undefined"!=typeof window&&!!window.navigator&&(/iPad/.test(navigator.platform)||"MacIntel"===navigator.platform&&"ontouchend"in document&&Math.min(window.screen.width,window.screen.height)>=700)},473304:function(e,t,n){n.d(t,{Z:()=>p});var i=n(281098),r=n(667294),a=n(20256),o=n(937805),s=n(667835),l=n(461951),d=n(816358),c=n(516114),u=n(785893);function p({children:e,footerConfig:t,headerConfig:n,height:p,hideOnScroll:h,hideOnScrollState:{isHidden:g,updateHiddenState:_},isFooterHidden:m,noPadding:f,paddingX:y,paddingY:b=c.og,type:x,zIndex:v}){let P,w;(0,i.Z)("FixedContent","/app/packages/layout/FixedContent.tsx");let{headerLimitedOverflow:S,ignoreObstructions:I,zIndexForGestaltBug:k}=n||{},{appUpsellFooterConfig:j,footerInLego:T,navFooterConfig:A}=t||{},B=!!j,C="header"===x?"top":"bottom",R=(0,s.vs)(),{mWebCloseupRedesignEnabled:Z}=(0,o.Z)(),E=(0,r.useRef)(null),F=(0,r.useRef)(null);(0,r.useEffect)(()=>{try{if(!I){let e=E.current;F.current=S&&e&&Array.isArray(e.children)?e.children[0]:e,F.current instanceof HTMLElement&&d.Z.addObstruction(C,F.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{!I&&F.current instanceof HTMLElement&&d.Z.removeObstruction(C,F.current)}},[I,S,C,R]);let z="top"===C?"relative":"fixed",L=f?0:b,O=(p??c.R$)+(n?.overrideTop||0),M=h||A?{transition:T||Z?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",...g||m?{transform:`translateY(${"top"===C?-O:O}px)`,opacity:T||Z?0:1}:Object.freeze({})}:{},D=2*!("relative"!==z||n?.noGutter),N=D?-D:0,K=R?s.k7:"rgba(255,255,255,.95)";R&&("header"===x?P=-1:w=-1);let H=T?B?void 0:p??c.R$:"100%",$=T?c.KJ:void 0,W=n?.isTranslucent&&K||R?K:l.Wmm,U=n?.isTransparentBackground&&l.Wyp?l.Wyp:W,q=(0,r.useMemo)(()=>({height:"footer"===x&&Z?`calc(${H} + env(safe-area-inset-bottom))`:H,...Z&&"footer"===x?{paddingBottom:`calc(env(safe-area-inset-bottom) + ${4*(L||0)}px)`}:Object.freeze({})}),[Z,H,x,L]);return(0,u.jsx)(a.xu,{ref:E,bottom:"footer"===x,dangerouslySetInlineStyle:{__style:{top:P,bottomStyle:w,...!v||k?{zIndex:k||1}:Object.freeze({}),...S?{background:"transparent",overflow:"hidden",paddingBottom:c.UB,marginBottom:-c.UB,pointerEvents:"none"}:Object.freeze({}),...n?.hasBorder?{borderBottom:c.dS}:Object.freeze({}),...t?.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...M}},"data-test-id":x,display:B?"flex":void 0,height:p&&!T?p:void 0,left:!0,marginEnd:T?"auto":N,marginStart:T?"auto":N,onTransitionEnd:()=>{(h||A)&&F.current&&(g||m?d.Z.removeObstruction(C,F.current):d.Z.addObstruction(C,F.current))},position:z,right:!0,top:"header"===x,width:T||"fixed"!==z?void 0:"100%",zIndex:k?void 0:v,children:(0,u.jsx)(a.xu,{alignItems:t?.alignCenter?"center":void 0,dangerouslySetInlineStyle:{__style:{backgroundColor:U,...q,boxShadow:Z&&"footer"===x?`0 10px 0 0 ${U}, ${c.KJ}`:$,marginBottom:T&&!A?.docked?16:void 0,...S?{pointerEvents:"auto"}:Object.freeze({}),...n?.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},display:T||t?.alignCenter?"flex":void 0,marginEnd:T?"auto":void 0,marginStart:T?"auto":void 0,paddingX:y||4*("footer"===x&&!f)+D,paddingY:L,position:"relative",rounding:T&&!A?.docked?"pill":void 0,width:A?A.footerWidth:B?void 0:"100%",children:"function"==typeof e?e({updateHiddenState:_}):e})})}},394962:function(e,t,n){n.d(t,{Z:()=>s});var i=n(281098),r=n(473304),a=n(211887),o=n(785893);function s({alignCenter:e,appUpsellFooterConfig:t,footerInLego:n,hasTopShadow:s,navFooterConfig:l,...d}){return(0,i.Z)("FixedFooter","/app/packages/layout/FixedFooter.tsx"),(0,o.jsx)(a.Z,{appUpsellFooterConfig:t,hideOnScroll:d.hideOnScroll,navFooterConfig:l?.scrollConfig,children:i=>(0,o.jsx)(r.Z,{...d,footerConfig:{alignCenter:e,appUpsellFooterConfig:t,footerInLego:n,hasTopShadow:s,navFooterConfig:l},hideOnScrollState:i,type:"footer"})})}},588367:function(e,t,n){n.r(t),n.d(t,{default:()=>d});var i=n(281098),r=n(20256),a=n(516114),o=n(473304),s=n(211887),l=n(785893);function d({hasBorder:e,headerLimitedOverflow:t,ignoreObstructions:n,isTranslucent:d,isTransparentBackground:c,noGutter:u,overrideTop:p,useRoundedCorners:h,zIndexForGestaltBug:g,..._}){(0,i.Z)("FixedHeader","/app/packages/layout/FixedHeader.tsx");let{noPadding:m,paddingY:f=a.og,zIndex:y}=_;return(0,l.jsx)(r.Le,{height:t?a.LV+2*(m?0:f)*4:void 0,top:p||0,zIndex:y||void 0,children:(0,l.jsx)(s.Z,{hideOnScroll:_.hideOnScroll,children:i=>(0,l.jsx)(o.Z,{..._,headerConfig:{isTranslucent:d,isTransparentBackground:c,headerLimitedOverflow:t,hasBorder:e,ignoreObstructions:n,noGutter:u,overrideTop:p,zIndexForGestaltBug:g,useRoundedCorners:h},hideOnScrollState:i,type:"header"})})})}},211887:function(e,t,n){n.d(t,{Z:()=>o});var i=n(667294),r=n(159527);function a(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class o extends i.Component{constructor(...e){super(...e),a(this,"state",{isHidden:!!this.props.appUpsellFooterConfig||!!this.props.navFooterConfig?.isDockedNavOnPlp}),a(this,"lastScrollPos",0),a(this,"updateHiddenState",e=>{this.reqAnimationId=window.requestAnimationFrame(()=>{this.setState({isHidden:e})})}),a(this,"handleScroll",(0,r.Z)(()=>{let{appUpsellFooterConfig:e,navFooterConfig:t}=this.props,{isHidden:n}=this.state,i=window.scrollY,r=i-this.lastScrollPos,a="none",{scrollHeight:o,clientHeight:s}=document.documentElement||{};Number.isNaN(o)||Number.isNaN(s)||(a=r<0?i<=Math.abs((window.scrollMinY||0)+Math.max(r,20))?"start":"none":i>=(window.scrollMaxY||o-s)-Math.max(r,20)?"end":"none");let l=55*!t?.isModal;e?r>20&&n&&i>=500?e.shouldShowAfterScroll()&&(this.updateHiddenState(!1),t?.onScroll(!1)):(r<-20&&!n||i<=l)&&(this.updateHiddenState(!0),t?.onScroll(!0)):this.props.navFooterConfig?.isDockedNavOnPlp?"start"===a&&!n||i<=l?(this.updateHiddenState(!0),t?.onScroll(!0)):(i>l||"end"===a)&&n&&(this.updateHiddenState(!1),t?.onScroll(!1)):(r<-20||"start"===a)&&n||i<=l?(this.updateHiddenState(!1),t?.onScroll(!1)):(r>20||"end"===a)&&!n&&(this.updateHiddenState(!0),t?.onScroll(!0)),this.lastScrollPos=i},30))}componentDidMount(){try{(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){!e.hideOnScroll&&this.props.hideOnScroll||!e.navFooterConfig?.isDockedNavOnPlp&&this.props.navFooterConfig?.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||e.navFooterConfig?.isDockedNavOnPlp&&!this.props.navFooterConfig?.isDockedNavOnPlp)&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}render(){let{children:e,navFooterConfig:t}=this.props,{isHidden:n}=this.state;return e({isHidden:!t?.forceShow&&n,updateHiddenState:this.updateHiddenState})}}},914061:function(e,t,n){n.r(t),n.d(t,{default:()=>c});var i=n(281098),r=n(20256),a=n(93966),o=n(377654),s=n(657389),l=n(15667),d=n(785893);let c=({children:e,dataLayoutShiftBoundaryId:t,hasFixedHeader:n=!1,hasGutter:c=!0,height:u,showKeychainError:p=!1,useViewport:h=!1})=>{(0,i.Z)("MobilePageContainer","/app/packages/layout/MobilePageContainer.tsx");let g=(0,l.B)(),_=(0,o.jd)(g.userAgent.platform)?o.Vf:0;return(0,d.jsx)(r.xu,{"data-layout-shift-boundary-id":t||"PageContainer",height:h?`calc(100vh - ${_}px)`:u,paddingX:c?a.D6:void 0,paddingY:n||p?void 0:3,children:(0,d.jsx)(s.C,{value:!!c,children:e})})}},516114:function(e,t,n){n.d(t,{KJ:()=>s,LV:()=>o,R$:()=>i,UB:()=>a,dS:()=>l,og:()=>r});let i=64,r=3,a=100,o=44,s="0px 0px 8px rgba(0, 0, 0, 0.1)",l="1px solid #efefef"},978417:function(e,t,n){n.d(t,{AS:()=>d,Ps:()=>a,Q6:()=>h,ZP:()=>c,le:()=>g,qe:()=>u,yU:()=>p});var i=n(503246),r=n(734215);let a=(e,t)=>e.length===t.length&&e.every((e,n)=>(0,r.Z)(e,t[n])),o=(e,t)=>e.length===t.length&&e.every((e,n)=>e===t[n]),s=e=>e;function l(e,t=o,n=s){return function(i){let r=[];return function(...a){let o=r.find(e=>t(e.args,n(a)));if(o)return o.result;let s=i(...a);return r.push({args:n(a),result:s}),e&&r.length>e&&r.shift(),s}}}function d(e,t=o,n=s){let i=[];return{memoize:function(r){return function(...a){let o=n(a),s=i.find(e=>t(e.args,o));if(s)return s.result;let l=r(...a);return i.push({args:o,result:l}),e&&i.length>e&&i.shift(),l}},clearCache:function(){i=[]}}}let c=l(),u=l(1),p=l(void 0,o,e=>[JSON.stringify(e)]),h=l(0,a),g=l(0,(e,t)=>e.length===t.length&&e.every((e,n)=>(0,i.ZP)(e,t[n])))},461920:function(e,t,n){function i(e,t){let n;if(e.error){let{httpStatus:i,api_error_code:r,redirectUrl:a}=e.error;(404===i||401===i&&7===r)&&(n={pathname:t?"/ideas/":"/",state:{showError:!0}}),301===i&&a&&(n={pathname:a})}return n}n.d(t,{Z:()=>i})},444185:function(e,t,n){n.d(t,{Z:()=>a});var i=n(849233),r=n(943257);function a(e){let{enabledRouteRefresh:t,headers:n,name:a,noCache:o,options:s,schema:l}=e??{name:i.fY,options:null},d=!e,{fetchResource:c,ref:u,fetchMore:p,isFetching:h,isLoaded:g,isRefreshing:_,refresh:m}=(0,r.Z)({enabledRouteRefresh:t,headers:n,name:a,noCache:o,options:s,schema:l},d,!1);return d||c(),{ref:u,fetchMore:p,isFetching:h,isLoaded:g,isRefreshing:_,refresh:m}}},374078:function(e,t,n){n.d(t,{Z:()=>l});var i=n(825332),r=n(821342),a=n(506662),o=n(461920),s=n(886981);function l(e){let t=(0,i.s0)(),n=(0,i.TH)(),{isAuth:l}=(0,r.Z)(),d=!l&&(0,a.L6)(n),c=(0,s.Z)(e),u=(0,o.Z)(c,d);return u&&t(u.pathname,{replace:!0,state:u.state}),c}},762525:function(e,t,n){n.d(t,{Z:()=>o});var i=n(281098),r=n(20256),a=n(785893);function o({text:e}){return(0,i.Z)("AccessibilityHiddenHeading","/app/www/Header/AccessibilityHiddenHeading.tsx"),(0,a.jsx)(r.xu,{display:"visuallyHidden",children:(0,a.jsx)(r.X6,{accessibilityLevel:1,children:e})})}},629315:function(e,t,n){n.d(t,{Z:()=>u});var i=n(281098),r=n(20256),a=n(19585),o=n(588367),s=n(914061),l=n(477213),d=n(588836),c=n(785893);function u(e){(0,i.Z)("BoardSectionCreate","/app/www/boardSection/BoardSectionCreate.tsx");let t=(0,a.Z)(),{backButtonIcon:n,errorMessage:u,name:p,onNextButtonTouch:h,onNameChange:g,selectedPinIds:_=[],useRoundedCorners:m}=e,f=_.length>0?130:64;return(0,c.jsxs)(s.default,{hasFixedHeader:!0,children:[(0,c.jsxs)(o.default,{height:f,paddingY:3,useRoundedCorners:m,children:[(0,c.jsxs)(r.kC,{alignItems:"center",justifyContent:"between",children:[(0,c.jsx)(d.Z,{color:"darkGray",icon:n||"cancel",padding:3,size:"sm"}),(0,c.jsx)(r.X6,{accessibilityLevel:1,size:"300",children:t._('Add section', 'for add board section page', 'for add board section page')}),(0,c.jsx)(r.xu,{"data-test-id":"create-section-button",children:(0,c.jsx)(r.zx,{accessibilityLabel:t._('Add', 'boardSectionCreate.Add.Button.Text', 'Add button accessibility label for board section create page'),color:"red",disabled:""===p.trim(),onClick:h,size:"lg",text:t._('Next', 'Next button for board section create page', 'Next button for board section create page')})})]}),_&&(0,c.jsx)(l.Z,{selectedPinIds:_})]}),(0,c.jsx)(r.xu,{"data-test-id":"addSectionName",paddingX:2,paddingY:3,children:(0,c.jsx)(r.nv,{errorMessage:u||"",id:"section-name-input",label:t._('Name', 'boardSectionCreate.TextField.Name.Label', 'TextField label to Name on BoardSectionCreate'),onChange:e=>g(e.event),size:"lg",value:p})})]})}},791694:function(e,t,n){n.d(t,{Z:()=>m});var i=n(281098),r=n(667294),a=n(581722),o=n(20256),s=n(821342),l=n(19585),d=n(886981),c=n(435289),u=n(214239),p=n(145127),h=n(482633),g=n(993127),_=n(785893);function m({excludeBoardId:e,hideSectionPickerList:t,onRepin:n}){var m;(0,i.Z)("RepinBoard","/app/www/boardSection/RepinBoard.tsx");let f=(0,l.Z)(),y=(0,s.Z)(),b=(m=y.isAuth?y.username:"",(0,d.Z)({name:"BoardsResource",options:u.O.options({username:m,boardOrder:"custom",filterStories:!0,mixPublicSecret:!0})}),(0,a.v9)(e=>(0,p.Z)(e)||[])),[x,v]=(0,r.useState)(null);return b.length>0&&(x&&!t?(0,_.jsx)(g.Z,{boardId:x?.id,repin:(e,t)=>{x&&n(x,t)},showSectionRep:!0}):(0,_.jsxs)(o.xu,{"data-test-id":"board-picker-row-container",children:[(0,_.jsx)(o.xu,{marginTop:3,children:(0,_.jsx)(o.xv,{children:f._('All boards', 'title for board picker all boards section', 'title for board picker all boards section')})}),(0,_.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:`${c.T}px`}},paddingY:3,children:b.filter(t=>t.id!==e).map(e=>(0,_.jsx)(h.Z,{boardId:e.id,onBoardSelected:i=>((e,i)=>{if(!t&&e&&i)return void v(i);n(i)})(i,e)},e.id))})]}))}},701523:function(e,t,n){n.d(t,{Wx:()=>T,ZP:()=>B});var i=n(281098),r=n(667294),a=n(581722),o=n(825332),s=n(20256),l=n(475498),d=n(19585),c=n(394962),u=n(588367),p=n(914061),h=n(87853),g=n(435289),_=n(791694),m=n(477213),f=n(366859),y=n(782677),b=n(575108),x=n(72918),v=n(388023);let P=e=>t=>{let{source:n,target:i,pinIds:r}=e;if(t({type:"PINS_MOVE",payload:e}),n.boardlessPins||i.boardId!==n.boardId){let e={board_id:i.boardId,pin_ids:r,section_id:i.sectionId};return b.Z.create("BulkEditResource",e).callUpdate()}if(i.sectionId){let e={section_id:i.sectionId,pins:r},n="BoardSectionEditResource";return b.Z.create(n,e).callUpdate().then(i=>{let r=(0,y.Fv)(i.resource_response.data,v.Z[n]);return t((0,x.XM)(n,e,i,r)),i})}let a={section_id:n.sectionId,pins:r};return b.Z.create("BoardSectionPinsResource",a).callDelete()};var w=n(987782),S=n(588836),I=n(993127),k=n(785893);function j(e,t,n){return e?n._('Got it! Hang tight while we move all those Pins...', 'Toast message for bulk pins move.', 'Toast message for bulk pins move.'):t?n._('Saved to section!', ' - ', ' -- '):n._('Saved to board!', ' - ', ' -- ')}function T({onAddNewSection:e,useIconWithBackground:t}){(0,i.Z)("RepinSection","/app/www/boardSection/RepinSection.tsx");let n=(0,d.Z)();return(0,k.jsx)(c.Z,{alignCenter:t,height:t?g.y:g.T,children:(0,k.jsx)(f.Z,{onTouch:e,pressState:"none",children:(0,k.jsxs)(s.xu,{alignItems:"center","data-test-id":"addSectionButton",display:"flex",padding:+!t,children:[t?(0,k.jsx)(s.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{padding:"14px"}},rounding:2,children:(0,k.jsx)(s.JO,{accessibilityLabel:n._('Create board button', 'RepinSection.CreateBoard.Button', 'accessibility label for create board button'),color:"default",icon:"add",size:20})}):(0,k.jsx)(s.JO,{accessibilityLabel:n._('Add section button', ' - ', ' -- '),color:"error",icon:"add-circle",size:38}),t?(0,k.jsx)(s.xu,{marginStart:2,children:(0,k.jsx)(s.xv,{size:"400",weight:"bold",children:n._('Add section', 'Add new section to Pin to', 'Add new section to Pin to')})}):(0,k.jsx)(s.xu,{marginStart:3,children:(0,k.jsx)(s.xv,{weight:"bold",children:n._('Add section', 'Add new section to Pin to', 'Add new section to Pin to')})})]})})})}class A extends r.PureComponent{constructor(...e){var t,n,i;super(...e),t="onRepinToBoard",n=e=>{e.section_count?this.props.onRepinToBoardWithSections(e):this.props.repinToOtherBoard(e.id,this.props.i18n)},(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}render(){let{boardId:e,boardSectionId:t,orginalBoardId:n,onAddNewSection:i,repin:r,hideBoardPickerRow:a,selectedPinIds:o,isCollaborative:l}=this.props,d=n===e;return(0,k.jsxs)(p.default,{hasFixedHeader:!0,children:[(0,k.jsxs)(u.default,{hasBorder:!0,height:140,children:[(0,k.jsxs)(s.kC,{alignItems:"center",justifyContent:"start",children:[(0,k.jsx)(s.xu,{column:2,children:(0,k.jsx)(S.Z,{})}),(0,k.jsx)(s.xu,{column:8,children:(0,k.jsx)(s.X6,{accessibilityLevel:1,align:"center",size:"300",children:this.props.i18n._('Choose section', 'title for section selection in repin flow', 'title for section selection in repin flow')})}),(0,k.jsx)(s.xu,{column:2})]}),(0,k.jsx)(m.Z,{selectedPinIds:o})]}),e&&(0,k.jsx)(I.Z,{boardId:e,hideBoardPickerRow:d&&a,originalBoardId:n,repin:r,sectionId:t}),d&&(0,k.jsxs)(s.xu,{children:[!l&&(0,k.jsx)(_.Z,{excludeBoardId:e,hideSectionPickerList:!0,onRepin:this.onRepinToBoard}),(0,k.jsx)(T,{onAddNewSection:i})]})]})}}let B=function(e){let{inSelectAll:t,pinIds:n,orginalBoardId:i,boardSectionId:r,onRefreshBoardSection:s,url:c}=e,{showToast:u}=(0,h.dI)(),p=(0,d.Z)(),g=(0,o.s0)(),_=(0,a.I0)(),m=async(e,a,o)=>{let d=a&&a.id,p={boardId:i,sectionId:r},h={boardId:e,sectionId:d},m=t?(0,w.Z)({source:p,target:h,excludePinIds:n}):P({source:p,target:h,pinIds:n});i!==e?(await _(m),g(c,{})):(await _(m),s&&await s()),u(({hideToast:e})=>(0,k.jsx)(l.Z,{onHide:e,text:j(t,d,o)}))},f=async(e,a)=>{let o={boardId:i,sectionId:r},s={boardId:e,sectionId:void 0};u(({hideToast:e})=>(0,k.jsx)(l.Z,{onHide:e,text:j(t,void 0,a)})),await _(t?(0,w.Z)({source:o,target:s,excludePinIds:n}):P({source:o,target:s,pinIds:n})),g(-2)};return(0,k.jsx)(A,{...e,i18n:p,repin:m,repinToOtherBoard:f})}},477213:function(e,t,n){n.d(t,{Z:()=>d});var i=n(281098),r=n(667294),a=n(20256),o=n(19585),s=n(169053),l=n(785893);function d({selectedPinIds:e}){(0,i.Z)("SelectedPinsPreview","/app/www/boardSection/SelectedPinsPreview.tsx");let t=(0,o.Z)(),n=(0,r.useRef)(null),d=(0,s.JC)(),c=(e||[]).map(e=>d[e]).filter(Boolean);(0,r.useEffect)(()=>{let e=n.current;e&&(e.scrollLeft=e.scrollWidth-e.offsetWidth)},[c]);let u=c.map((e,n)=>{let{description:i,images:r}=e,o=r?.["236x"];return(0,l.jsx)(a.xu,{marginEnd:1,children:(0,l.jsx)(a.zd,{height:65,rounding:2,wash:!0,width:50,children:o?.url&&(0,l.jsx)(a.Ee,{alt:!!i?.trim()&&i?.trim()||t._('Selected Pin', 'SelectedPinsPreview.image.accessibilityLabel', 'Accessibility label for Pin image without description'),color:e.dominant_color??"",fit:"contain",naturalHeight:o?.height??1,naturalWidth:o?.width??1,src:o.url})})},n)});return(0,l.jsx)(a.xu,{ref:n,display:"flex",marginTop:2,overflow:"scroll",children:u})}},435289:function(e,t,n){n.d(t,{T:()=>i,y:()=>r});let i=70,r=80},156618:function(e,t,n){n.d(t,{Bb:()=>_,Bx:()=>s,F4:()=>o,Qj:()=>l,_6:()=>g,gv:()=>a,hg:()=>d,is:()=>p,jP:()=>h,lt:()=>r,oM:()=>c,wI:()=>u});var i=n(378888);let r=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),a=({firstName:e,i18n:t})=>e?(t._('{{ name }} invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends({{ name }}) board')).replace("{{ name }}",e):t._('Your friends invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends board'),o=e=>{let t=(0,i.mB)(e.search).board_url;if(t){let e=(0,i.Jx)(t),n=(0,i.XP)({accept_invite:!0,seamless:!0});return e.includes("?")?`${e}&${n}`:`${e}?${n}`}return e.pathname},s=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),l=e=>{let t=e.pathname;if(t.startsWith("/pin/")){let e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/repin/`}return t},d=e=>e._('Log in to send this Pin', 'limitedLogin.modalHeader.send', 'Title on mobile web limited login modal to prompt users to login after they clicked send button.'),c=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),u=e=>{let t=e.pathname;if(t.startsWith("/pin/")){let e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/edit/`}return t},p=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.'),h=e=>e._('Log in to hide this Pin', 'limitedLogin.modalHeader.hidePin', 'Title on mobile web limited login modal to prompt users to login after they clicked hide Pin button.'),g=e=>e._('Log in to share the profile', 'limitedLogin.modalHeader.shareProfile', 'Title on mobile web limited login modal to prompt users to login after they clicked share button on profile page.'),_=e=>e._('Log in to create a board', 'limitedLogin.modalHeader.createBoard', 'Title on mobile web limited login modal to prompt users to login to create a board.')},753830:function(e,t,n){n.d(t,{Z:()=>l});var i=n(281098),r=n(525839),a=n(156618),o=n(848387),s=n(785893);function l({children:e,callbackFunction:t,modalHeader:n,nextLocation:l}){(0,i.Z)("WithLimitedLogin","/app/www/login/duplo/LimitedLogin/WithLimitedLogin.tsx");let d=(0,r.ZP)(),{viewer:c,loginForMore:u,limitedLoginModalSubheader:p,limitedLoginModalNextLocation:h}=(0,o.m)(),g="LIMITED_LOGIN"===c.type;return(0,s.jsx)("div",{onClickCapture:e=>{g&&(t&&t(),e&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()),u?.setVisible(!0),p?.setText(n||(0,a.lt)(d)),l&&h?.setRoute(l))},children:e})}},979922:function(e,t,n){n.d(t,{BT:()=>z,Du:()=>O,Fh:()=>B,HY:()=>L,HZ:()=>R,IY:()=>F,Jw:()=>y,Kp:()=>H,L7:()=>i,LT:()=>u,Lj:()=>N,Nw:()=>I,Q_:()=>S,Qc:()=>r,R5:()=>j,RA:()=>k,Tt:()=>A,UF:()=>d,UV:()=>o,VB:()=>x,W1:()=>a,Ws:()=>p,X5:()=>T,Yt:()=>E,ZW:()=>l,cK:()=>v,cy:()=>f,fA:()=>D,fn:()=>Z,gm:()=>b,h7:()=>w,k:()=>_,mE:()=>K,o4:()=>g,oL:()=>M,qf:()=>h,tr:()=>c,uD:()=>P,uO:()=>m,vF:()=>s,wJ:()=>C});let i=1,r=2,a="female",o="male",s="unspecified",l="en-US",d="US",c=3,u="Welcome",p="Gender",h="CountryLocale",g="InterestPicker",_="UseCase",m="PinPicker",f="LoadingStep",y="AppInstall",b="NUX_PIN_PICKER_STEP_STATUS",x="NUX_USE_CASE_STEP_STATUS",v={NUX_GENDER_STEP_NAME:p,NUX_COUNTRY_LOCALE_STEP_NAME:h,NUX_INTEREST_PICKER_STEP_NAME:g,NUX_USE_CASE_STEP_NAME:_,NUX_PIN_PICKER_STEP_NAME:m,NUX_LOADING_STEP_NAME:f,NUX_APP_INSTALL_STEP_NAME:y},P=2,w=3,S=6,I=112,k=160,j=60,T=1e3,A=2500,B=1900,C=2e3,R=3,Z=5,E=1,F=2,z=3,L=3,O=5e3,M=250,D=1e10,N=507641,K=300,H=200},96105:function(e,t,n){n.d(t,{Z:()=>j});var i=n(281098),r=n(667294),a=n(376030),o=n(20256),s=n(980787),l=n(525839),d=n(32937),c=n(341742),u=n(369416),p=n(785893);let h=`
@keyframes baseEduToastIconScale {
  0% {
    transform: scale(0)
  }
  30% {
    transform: scale(1.2);
  }
  50% {
    transform: scale(1);
  }
}
`;function g({addedStyles:e,button:t,headerText:n,icon:a,iconOverride:s,minHeight:l,subHeaderText:d}){return(0,i.Z)("BaseEduToast","/app/www/nux/education/BaseEduToast.tsx"),(0,p.jsx)(o.xu,{display:"flex",justifyContent:"center",paddingX:2,width:"100vw",children:(0,p.jsxs)(o.xu,{alignContent:"center",alignItems:"center",bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{boxShadow:"0 3px 6px rgba(0,0,0,0.18)",transform:"translateY(-20px)",...e}},display:"flex",minHeight:l||75,padding:6,position:"relative",rounding:4,width:"100%",children:[(()=>{let e=s||(0,p.jsxs)(r.Fragment,{children:[(0,p.jsx)(u.Z,{unsafeCSS:h}),(0,p.jsx)(o.xu,{alignItems:"center",color:"education",dangerouslySetInlineStyle:{__style:{animation:"baseEduToastIconScale 3s"}},"data-test-id":"pin-save-toast",direction:"column",display:"flex",height:60,justifyContent:"center",minHeight:60,minWidth:60,rounding:"circle",width:60,children:(0,p.jsx)(o.JO,{accessibilityLabel:a.accessibilityLabel,color:a.color,dangerouslySetSvgPath:a.dangerouslySetSvgPath,icon:a.icon,inline:a.inline,size:a.size})})]});return(0,p.jsx)(o.xu,{marginEnd:4,children:e})})(),(0,p.jsxs)(o.xu,{"data-test-id":"pin-save-toast-header",marginEnd:"auto",children:[(0,p.jsx)(o.xv,{color:"default",weight:"bold",children:n}),!!d&&(0,p.jsx)(o.xu,{paddingY:1,children:(0,p.jsx)(o.xv,{color:"default",size:"300",children:d})})]}),(0,p.jsx)(o.xu,{display:"flex",flex:"shrink",marginStart:2,children:t})]})})}var _=n(783556);function m(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let f="cubicBezier(0.25, 0.1, 0.25, 1)",y="encourageToastIconContainer",b="encourageToastIconRadiateBg",x="encourageToastIconRadiateRing",v={targets:`#${y}`,duration:300,scale:1.4,easing:f},P={targets:`#${y}`,duration:300,scale:1,easing:f,endDelay:1e3},w={targets:`#${y}`,duration:300,scale:.42,easing:f},S={targets:`#${b}`,duration:400,opacity:0,scale:1.6,easing:f},I={targets:`#${x}`,duration:650,opacity:0,scale:2,easing:f};class k extends r.PureComponent{constructor(...e){super(...e),m(this,"delayTimer",null),m(this,"requestAnimationFrameId",null),m(this,"playAnimation",()=>{this.requestAnimationFrameId=window.requestAnimationFrame(()=>{(0,a.Z)(S),(0,a.Z)(I),(0,a.Z)(v).finished.then(()=>{(0,a.Z)(P).finished.then(()=>{a.Z.set(`#${y}`,{transformOrigin:"top right"}),(0,a.Z)(w)})})})}),m(this,"getHeaderText",()=>{let{text:e}=this.props;return Array.isArray(e)?e[0]:e}),m(this,"getIconProps",()=>({accessibilityLabel:this.props.i18n._('Check icon', 'Label for check icon on toast shown after board create', 'Label for check icon on toast shown after board create'),color:"inverse",icon:"check",size:30})),m(this,"getSubHeaderText",()=>{let{text:e}=this.props;return e instanceof Array&&e.length>1&&e[1]?e[1]:""}),m(this,"renderAnimatedIcon",()=>(0,p.jsxs)(o.xu,{height:68,position:"relative",width:68,children:[(0,p.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{left:"4px",top:"4px"}},"data-test-id":"pin-save-toast",height:60,overflow:"hidden",position:"absolute",rounding:4,width:60,children:this.props.thumbnail}),(0,p.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{transform:"scale(0)"}},height:68,id:y,position:"absolute",width:68,children:[(0,p.jsx)(o.xu,{color:"infoBase",dangerouslySetInlineStyle:{__style:{left:"0px",top:"0px",transform:"scale(0)"}},height:68,id:b,position:"absolute",rounding:"circle",width:68}),(0,p.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{borderWidth:"2px",borderStyle:"solid",borderColor:"#0074e8",left:"1px",top:"1px",transform:"scale(0)"}},height:66,id:x,opacity:1,position:"absolute",rounding:"circle",width:66}),(0,p.jsx)(o.xu,{alignItems:"center",color:"infoBase",direction:"column",display:"flex",height:68,justifyContent:"center",minHeight:68,minWidth:68,position:"absolute",rounding:"circle",width:68,children:(0,p.jsx)(o.JO,{accessibilityLabel:this.props.i18n._('Check icon', 'Label for check icon on toast shown after board create', 'Label for check icon on toast shown after board create'),color:"inverse",icon:"check",size:30})})]})]}))}componentDidMount(){this.delayTimer=setTimeout(this.playAnimation,700)}componentWillUnmount(){this.delayTimer&&clearTimeout(this.delayTimer),this.requestAnimationFrameId&&window.cancelAnimationFrame(this.requestAnimationFrameId)}render(){let{isRepinToExistingBoard:e,button:t}=this.props;return(0,p.jsx)(g,{button:t,headerText:this.getHeaderText(),icon:this.getIconProps(),iconOverride:e?void 0:this.renderAnimatedIcon(),subHeaderText:this.getSubHeaderText()})}}function j(e){(0,i.Z)("EncouragementToast","/app/www/nux/encouragements/EncouragementToast.tsx");let{duration:t,onHide:n,isQuickSave:a}=e,u=(0,l.ZP)(),[h,g]=(0,r.useState)(!1),[m,f]=(0,r.useState)(!1),y=(0,r.useRef)(void 0),{logContextEvent:b}=(0,s.u)(),x=()=>{g(!0),y.current=setTimeout(n,200)},v=()=>{y.current&&clearTimeout(y.current)};(0,c.Z)(()=>(setTimeout(()=>f(!0),100),y.current=setTimeout(x,t||_.w),v));let P=(0,p.jsx)(k,{...e,i18n:u});return e.href&&(P=(0,p.jsx)(o.rU,{href:e.href,onClick:()=>{a&&b({event_type:102,component:14409}),x()},rounding:"pill",tapStyle:"none",children:P})),(0,p.jsx)(d.Z,{children:(0,p.jsx)(o.mh,{children:(0,p.jsx)(o.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{...function({hiding:e,visible:t}){return t?e?{opacity:0,transform:"scale(1.0)",transition:"opacity transform .2s",pointerEvents:"none"}:{opacity:1,transition:"all 0.7s cubic-bezier(.19, 1.15, .48, 1)"}:Object.freeze({})}({hiding:h,visible:m})}},display:"flex",justifyContent:"center",position:"fixed",width:"100%",zIndex:_.k,children:P})})})}},810008:function(e,t,n){n.d(t,{_:()=>g,Z:()=>_});var i=n(281098),r=n(667294),a=n(20256),o=n(525839),s=n(298097),l=n(169053),d=n(785893);function c({pinId:e}){(0,i.Z)("DrawerImageForToast","/app/www/nux/encouragements/DrawerImageForToast.tsx");let t=(0,l.S6)()(e);if(!t)return null;let n=[{url:t.images?.["236x"]?.url,name:t.grid_title||""}].filter(e=>e.url);return(0,d.jsx)(s.Z,{images:n})}let u=(0,r.lazy)(()=>Promise.resolve().then(n.bind(n,222401))),p=()=>(0, o.ZP)()._('Sweet save!', 'Header text on toast that appears after user creates their first board', 'Header text on toast that appears after user creates their first board'),h=()=>(0, o.ZP)()._('All your boards live on your profile', 'Subheader text on toast that appears after user creates their first board', 'Subheader text on toast that appears after user creates their first board'),g=e=>((0,i.Z)("encouragementsUtils","/app/www/nux/encouragements/encouragementsUtils.tsx"),(0,d.jsx)(a.zd,{rounding:4,children:(0,d.jsxs)(a.kC,{alignItems:"stretch",direction:"row",height:"100%",justifyContent:"start",children:[(0,d.jsx)(a.sg,{span:8,children:(0,d.jsx)(a.xu,{"data-test-id":"pin-save-toast",height:36,width:36,children:e?(0,d.jsx)(a.Ee,{alt:"",color:"secondary",fit:"cover",naturalHeight:1,naturalWidth:1,src:e}):(0,d.jsx)(a.xu,{color:"secondary",height:"100%",width:"100%"})})}),(0,d.jsx)(a.sg,{span:5,children:(0,d.jsxs)(a.xu,{height:"100%",children:[(0,d.jsx)(a.xu,{height:"49%",position:"relative",children:(0,d.jsx)(a.xu,{color:"secondary",overflow:"hidden",width:"100%",children:(0,d.jsx)(a.xu,{bottom:!0,left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:(0,d.jsx)(a.xu,{color:"secondary",height:"100%",width:"100%"})})})}),(0,d.jsx)(a.xu,{height:"3%",position:"relative",children:(0,d.jsx)(a.xu,{color:"transparent",overflow:"hidden",width:"100%",children:(0,d.jsx)(a.xu,{bottom:!0,left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:(0,d.jsx)(a.xu,{color:"transparent",height:"100%",width:"100%"})})})}),(0,d.jsx)(a.xu,{height:"49%",position:"relative",children:(0,d.jsx)(a.xu,{color:"secondary",overflow:"hidden",width:"100%",children:(0,d.jsx)(a.xu,{bottom:!0,left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:(0,d.jsx)(a.xu,{color:"secondary",height:"100%",width:"100%"})})})})]})})]})})),_=({boardId:e,getReduxBoard:t,isFBC:n,pinId:o,viewType:s})=>{(0,i.Z)("encouragementsUtils","/app/www/nux/encouragements/encouragementsUtils.tsx");let l=t(e);return{duration:5e3,thumbnail:(0,d.jsx)(a.xu,{"data-test-id":"pin-save-toast",children:(0,d.jsx)(r.Suspense,{children:o?(0,d.jsx)(c,{pinId:o}):(0,d.jsx)(u,{boardKey:l?{type:"deprecated",data:l}:null,type:"thumbnail",viewType:s})})}),text:n?[(0,d.jsx)(p,{},"0"),(0,d.jsx)(h,{},"1")]:void 0}}},782251:function(e,t,n){n.d(t,{Z:()=>l});var i=n(667294),r=n(581722),a=n(87853),o=n(979922),s=n(258644);function l(){let e=(0,r.I0)(),{showToast:t,showOneToast:n}=(0,a.dI)(),l=(0,r.oR)(),d=(0,i.useCallback)((n,i)=>{i||e((0,s.a5)()),t(n)},[e,t]);return{showToast:t,showOneToast:n,showRepinConfirmation:(t,n)=>{n||e((0,s.WF)()),setTimeout(()=>{l.getState().session.isShowingRepinConfettiAnimation?setTimeout(()=>{d(t,n)},o.wJ):d(t,n)},o.Tt)}}}},128061:function(e,t,n){n.d(t,{ZP:()=>tb,vY:()=>ty});var i,r,a,o,s,l,d,c,u,p=n(281098),h=n(667294),g=n(581722),_=n(167912),m=n(616550),f=n(787558),y=n(825332),b=n(172045),x=n(20256),v=n(575108),P=n(521009),w=n(364843),S=n(877956),I=n(982166),k=n(678213),j=n(475498),T=n(821342),A=n(415546),B=n(801082),C=n(525839),R=n(302148),Z=n(377654),E=n(226967),F=n(13020),z=n(588367),L=n(914061),O=n(274320),M=n(444185),D=n(374078),N=n(647709),K=n(341742),H=n(701523),$=n(762525),W=n(620427);function U(e,t){return!!(e&&e.placement_id&&e.experience_id===t)}var q=n(156618),Y=n(753830),G=n(469526),V=n(978417),X=n(785893);let Q="cubic-bezier(0.66, 0.025, 0.33, 0.975)",J=(0,V.qe)((e,t,n,i,r)=>{let a=e,o=t,s=0,l=0,d="",c=Math.floor(t/3);if("shrinkToPin"===n&&(s="24px",l=1,a=Math.floor(3*c/2),o=c),"pinToGrid"===n&&i&&r){let e=i.getBoundingClientRect(),t=r.getBoundingClientRect(),n=t.x+t.width/2-(e.x+e.width/2),u=t.y+t.height/2-(e.y+e.height/2);d=`translate(${n}px, ${u}px)`,s="24px 0px 0px 24px",l=1,a=c,o=c}return{borderRadius:s,height:a,opacity:l,overflow:"hidden",width:o,WebkitTransformOrigin:"center center",transformOrigin:"center center",WebkitTransform:d,transform:d,WebkitTransition:`all .42s ${Q}`,transition:`all .42s ${Q}`}}),ee=(0,V.qe)(e=>({opacity:+!!e,WebkitTransition:`opacity .42s ${Q}`,transition:`opacity .42s ${Q}`})),et=(0,V.qe)(e=>({opacity:+!e,WebkitTransition:`all .25s ${Q}`,transition:`all .25s ${Q}`,zIndex:3}));function en({completeExperience:e,pinDominantColor:t,pinImageHeight:n,pinImageWidth:i,pinImageUrl:r}){let a,o,s,l;(0,p.Z)("BoardCreateEdu","/app/www/nux/BoardCreateEdu.tsx");let d=(0,C.ZP)(),[c,u]=(0,h.useState)("visible"),[g,_]=(0,h.useState)("none"),m=window.innerWidth,f=Math.floor(m/3),y=Math.floor(m/6);(0,h.useEffect)(()=>{r&&"none"===g&&(a=setTimeout(()=>{_("shrinkToPin")},85)),r&&"shrinkToPin"===g&&(o=setTimeout(()=>{_("pinToGrid")},2e3)),"pinToGrid"===g&&"visible"===c&&(s=setTimeout(()=>{u("hidden")},2e3)),"hidden"===c&&(l=setTimeout(()=>{u("none"),e()},300))}),(0,h.useEffect)(()=>()=>{clearTimeout(a),clearTimeout(o),clearTimeout(s),clearTimeout(l)},[]);let b=(0,h.useRef)(null),v=(0,h.useRef)(null);return(0,X.jsxs)(x.xu,{alignItems:"center",bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:et("hidden"===c)},direction:"column",display:"none"===c?"none":"flex",justifyContent:"center",left:!0,position:"fixed",right:!0,top:!0,children:[(0,X.jsxs)(x.xu,{alignItems:"center",display:"flex",height:m/2,justifyContent:"center",marginBottom:8,position:"relative",width:"100%",children:[(0,X.jsx)(x.xu,{dangerouslySetInlineStyle:{__style:ee("pinToGrid"===g)},position:"absolute",children:(0,X.jsx)(x.zd,{height:f,rounding:6,width:f+y+1,children:(0,X.jsxs)(x.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,X.jsx)(x.xu,{ref:v,color:"transparent",height:f,width:f}),(0,X.jsxs)(x.kC,{alignItems:"stretch",direction:"column",justifyContent:"between",children:[(0,X.jsx)(x.xu,{color:"secondary",height:y,width:y}),(0,X.jsx)(x.xu,{color:"secondary",height:y,width:y})]})]})})}),(0,X.jsx)(x.xu,{ref:b,dangerouslySetInlineStyle:{__style:J(n/i*m,m,g,b.current,v.current)},position:"absolute",children:(0,X.jsx)(x.Ee,{alt:d._('Pin image', 'Pin image on repin page', 'Pin image on repin page'),color:t,fit:"cover",naturalHeight:n,naturalWidth:i,src:r})})]}),(0,X.jsx)(x.xu,{marginBottom:8,marginTop:8,paddingX:12,children:(0,X.jsx)(x.X6,{align:"center",size:"600",children:d._('Keep your ideas organized by creating a board', 'boardPicker.edu.heading', 'board create education shown before user create their first board')})})]})}var ei=n(810008),er=n(96105),ea=n(516114);function eo(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let es=["#0074e8","#0FA573","#B469EB","#F13535","#E2780D"],el=(e,t)=>Math.random()*((e||1)-(t||0))+(t||0),ed=e=>Math.PI/180*e;class ec extends h.PureComponent{constructor(...e){super(...e),eo(this,"animationTimer",null),eo(this,"canvasRemovalTimer",null),eo(this,"childrenContainerRef",(0,h.createRef)()),eo(this,"containerRef",(0,h.createRef)()),eo(this,"buildCanvas",()=>{if(!this.containerRef.current)return null;let e=window.innerWidth,{height:t,top:n}=this.containerRef.current.getBoundingClientRect(),i=document.createElement("canvas");return i.style.position="absolute",i.style.left="0px",i.style.top=`${n-(e-t)/2}px`,i.style.pointerEvents="none",i.style.width=`${e}px`,i.style.height=`${e}px`,i.width=e,i.height=e,i}),eo(this,"explode",()=>{let e=this.buildCanvas();if(!e)return;let t=this.containerRef.current,n=this.childrenContainerRef.current,i=e.getContext("2d");t?.insertBefore(e,n);let r=Array.from(Array(120)).map(()=>({x:e.width/2,y:e.height/2,radius:Math.round(el(10,30)),color:es[Math.floor(Math.random()*es.length)],degree:Number(el(0,360).toFixed(1)),speed:Math.round(el(0,25)),friction:.9,opacity:Number(el(0,.5).toFixed(1)),yVel:0,gravity:.04})),a=(e,t,n,i)=>{window.requestAnimationFrame(()=>a(e,t,n,i)),t.clearRect(0,0,n,i),e.forEach(e=>{e.x+=e.speed*Math.cos(ed(e.degree)),e.y+=e.speed*Math.sin(ed(e.degree)),e.opacity-=.01,e.speed*=e.friction,e.radius*=e.friction,e.yVel+=e.gravity,e.y+=e.yVel,e.opacity<0||e.radius<0||(t.beginPath(),t.globalAlpha=e.opacity,t.fillStyle=e.color,t.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),t.fill())})};i&&a(r,i,e.width,e.height),this.canvasRemovalTimer=setTimeout(()=>{t?.removeChild(e)},(this.props.delay||0)+1e3)})}componentDidUpdate(e){let{delay:t,startAnimation:n}=this.props,{startAnimation:i}=e;n&&i!==n&&(this.animationTimer=setTimeout(this.explode,t))}componentWillUnmount(){this.animationTimer&&clearTimeout(this.animationTimer),this.canvasRemovalTimer&&clearTimeout(this.canvasRemovalTimer)}render(){return(0,X.jsx)(x.xu,{ref:this.containerRef,children:(0,X.jsx)(x.xu,{ref:this.childrenContainerRef,children:this.props.children})})}}function eu(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}eo(ec,"defaultProps",{delay:0});class ep extends h.PureComponent{constructor(...e){super(...e),eu(this,"state",{startAnimation:!1}),eu(this,"dismissTimer",null),eu(this,"pinRef",(0,h.createRef)()),eu(this,"pinDestinationRef",(0,h.createRef)()),eu(this,"handleAnimationAndCompletion",()=>{let{onComplete:e,savePin:t,selectedBoardName:n}=this.props;if(!n)return;let i=this.startAnimation();Promise.all([i,t(n)]).then(t=>{let[,i]=t;e(i,n)}).catch(e=>{i.then(()=>{e?.onError?.()})})}),eu(this,"startAnimation",()=>new Promise(e=>{this.setState({startAnimation:!0},()=>{this.dismissTimer=setTimeout(()=>{e()},2600)})}))}componentWillUnmount(){this.dismissTimer&&clearTimeout(this.dismissTimer)}componentDidUpdate(){let{selectedBoardName:e}=this.props,{startAnimation:t}=this.state;e&&!t&&this.handleAnimationAndCompletion()}render(){let{pinDominantColor:e,pinImageUrl:t,selectedBoardName:n}=this.props,{startAnimation:i}=this.state;return(0,X.jsxs)(h.Fragment,{children:[(0,X.jsx)(x.Le,{top:ea.R$,zIndex:new x.Ry(3),children:(0,X.jsx)(x.xu,{alignItems:"center",color:i?"transparent":"default",display:"flex",justifyContent:"center",children:(0,X.jsx)(x.xu,{ref:this.pinRef,dangerouslySetInlineStyle:{__style:((e,t,n)=>{let i=[],r=t.current?.getBoundingClientRect(),a=n.current?.getBoundingClientRect();if(r&&a){let e={x:a.left-r.left,y:a.top-r.top},t={x:a.width/r.width,y:a.height/r.height};i.push(`translate(${e.x}px, ${e.y}px)`),i.push(`scale(${t.x}, ${t.y})`)}return{WebkitTransformOrigin:"left top",transformOrigin:"left top",WebkitTransform:e?i.join(" "):"none",transform:e?i.join(" "):"none",WebkitTransition:"all .5s ease-in-out",transition:"all .5s ease-in-out",borderRadius:e?"8px 0px 0px 0px":"8px",overflow:"hidden",marginBottom:24}})(i,this.pinRef,this.pinDestinationRef)},height:84,position:"relative",width:84,children:(0,X.jsx)(x.Ee,{alt:this.props.i18n._('Pin image', 'Pin image on repin page', 'Pin image on repin page'),color:e,fit:"cover",naturalHeight:84,naturalWidth:84,src:t})})})}),(0,X.jsx)(x.xu,{bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{pointerEvents:"none",opacity:+!!i,WebkitTransition:"opacity .4s ease-in-out",transition:"opacity .4s ease-in-out",zIndex:2}},left:!0,position:"fixed",right:!0,top:!0,children:(0,X.jsxs)(x.kC,{alignItems:"center",direction:"column",height:"100%",justifyContent:"center",children:[(0,X.jsx)(ec,{delay:1200,startAnimation:i,children:(0,X.jsx)(x.zd,{rounding:2,width:148,children:(0,X.jsx)(x.kC,{alignItems:"stretch",justifyContent:"start",wrap:!0,children:Array.from([,,,,]).map((e,t)=>{let n=t<=1,i=t%2,r=0===t?this.pinDestinationRef:null;return(0,X.jsx)(x.xu,{ref:r,color:0===t?"transparent":"secondary",height:72,marginBottom:+!!n,marginEnd:+!i,width:72},t)})})})}),(0,X.jsx)(x.xu,{dangerouslySetInlineStyle:{__style:{opacity:+!!i,WebkitTransform:i?"translateY(0)":"translateY(20%)",transform:i?"translateY(0)":"translateY(20%)",WebkitTransition:"all .25s ease-in-out .5s",transition:"all .25s ease-in-out .5s",textAlign:"center",marginTop:"50px"}},paddingX:4,children:(0,X.jsx)(x.X6,{children:(0,R.nk)(this.props.i18n._('You saved your first Pin to {{ selectedBoardName }}!', 'First repin confirmation message', 'First repin confirmation message'),{selectedBoardName:n})})})]})})]})}}let eh=function(e){let t=(0,C.ZP)();return(0,X.jsx)(ep,{...e,i18n:t})};var eg=n(782251),e_=n(310916),em=n(548286),ef=n(282919),ey=n(373950),eb=n(428725),ex=n(145127),ev=n(975740),eP=n(793698),ew=n(588836),eS=n(681721),eI=n(87853),ek=n(629315),ej=n(978857),eT=n(744557),eA=n(438556);let eB=(void 0!==i||(i=n(148281)).hash&&"b3ec14d29962e56f80dd52e7e6d7a6d9"!==i.hash&&console.error("The definition of 'RepinAddSection_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function eC({createSectionAndRepin:e,errorMessage:t,i18n:n,pin:i,setErrorMessage:r,useRoundedCorners:a}){let[o,s]=(0,h.useState)("");return(0,X.jsx)(ek.Z,{backButtonIcon:"arrow-back",errorMessage:t,name:o,onNameChange:e=>{r(""),s(e.target.value)},onNextButtonTouch:()=>{e(o,n)},selectedPinIds:[i.entityId],useRoundedCorners:a})}function eR(e){(0,p.Z)("RepinAddSection","/app/www/save/duplo/RepinAddSection.tsx");let{boardId:t,isEditingPin:n,onSuccess:i,pinKey:r,pinBoardId:a,pinSectionId:o,trackingParams:s,useRoundedCorners:l}=e,d=(0,A.Z)(eB,r),c=(0,g.I0)(),u=(0,y.s0)(),_=(0,C.ZP)(),{showToast:m}=(0,eI.dI)(),f=(0,P.Z)(),b=(0,eA.n)(),{checkExperiment:x}=(0,O.r)(),v=(0,w.cO)(),[S,I]=(0,h.useState)(""),k=e=>u(e);return(0,X.jsx)(eC,{createSectionAndRepin:e=>{let r=e=>I(e.message_detail||e.message);c((0,ej.Z)(t,[],e,f)).then(e=>{m(({hideToast:e})=>(0,X.jsx)(j.Z,{onHide:e,text:_._('Section added!', ' - ', ' -- ')}));let l=e.resource_response.data;c((0,ef.w)({checkExperiment:x,i18n:_,logContextEvent:f,pinId:d.entityId,boardId:t,onSuccess:n?void 0:()=>{v("Save",{pin_id:d.entityId}),i()},showToast:m,section:l,trackingParams:{clientTrackingParams:s,pinnedToBoardId:d.pinnedToBoard?d.pinnedToBoard.entityId:""},historyPush:k,savePinId:b?.save??(()=>{})})).then(()=>{d&&a&&c((0,eT.q)({pinId:d.entityId,boardId:a,boardSectionId:o,clientTrackingParams:s})).then(()=>d.pinnedToBoard?u(d.pinnedToBoard.url??"",{replace:!0}):void 0)}).catch(r)}).catch(r)},errorMessage:S,i18n:_,pin:d,setErrorMessage:I,useRoundedCorners:l})}var eZ=n(30216),eE=n(841982),eF=n(657043),ez=n(536652),eL=n(72918),eO=n(448505),eM=n(7872),eD=n(370347),eN=n(352908),eK=n(189976),eH=n(831786),e$=n(936705),eW=n(206459),eU=n(696323),eq=n(482633);function eY({pinId:e,handleSelected:t,surfaceOriginViewParameter:n}){(0,p.Z)("ProfilePickerRow","/app/www/save/duplo/ProfilePickerRow.tsx");let i=(0,C.ZP)(),r=(0,P.Z)();return(0,h.useEffect)(()=>{r({view_parameter:3990,event_type:13,view_type:21,aux_data:{board_picker_surface_origin:n,pin_id:e}})},[]),(0,X.jsx)(x.iP,{onTap:()=>{t(!1,null)},rounding:2,children:(0,X.jsxs)(x.xu,{alignItems:"center",column:12,"data-test-id":"board-picker-row",display:"flex",marginBottom:4,rounding:2,children:[(0,X.jsx)(x.xu,{alignItems:"center",color:"secondary",display:"flex",flex:"none",height:48,justifyContent:"center",rounding:2,width:48,children:(0,X.jsx)(x.JO,{accessibilityLabel:i._('Profile', 'save.ProfilePickerRow.IconAccessibilityLabel', 'Accessibility label for icon on option to save Pin to profile'),color:"default",icon:"history",size:22})}),(0,X.jsx)(x.xu,{direction:"column",display:"flex",justifyContent:"center",marginStart:2,overflow:"hidden",width:"100%",children:(0,X.jsx)(x.xv,{lineClamp:1,size:"400",weight:"bold",children:i._('Profile', 'save.ProfilePickerRow', 'Option to save Pin to profile')})})]})})}var eG=n(422578);function eV(){let e=(0,eG.useRelayEnvironment)();return(0,h.useCallback)(t=>{e&&(0,eG.commitLocalUpdate)(e,e=>{e.get(t)?.invalidateRecord()})},[e])}let eX=e=>e.map(e=>({board_title_id:String(e.id),board_title_kind:JSON.parse(e.recommendation_reason??"{}").reason,board_title:String(e.name),board_title_score:JSON.parse(e.recommendation_reason??"{}").score})),eQ=e=>"profile"===e?3990:"topChoices"===e?3988:3989,eJ=(void 0!==r||(r=n(764227)).hash&&"76b22cc5d658befe1dc27454d3aee77f"!==r.hash&&console.error("The definition of 'BoardPickerList_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),e0=(e,t,n)=>({field_set_key:"detailed",id:e,preserve_component_state:t,...n?{orbac_subject_id:n}:Object.freeze({})});function e1({boards:e,boardsShortlist:t=[],closeModal:n,dismissFlyout:i,history:r,isEditingPin:a,isFromToast:o,logContextEvent:s,onSelect:l,originalPinId:d,pinKey:c,pinBoardId:u,saveToProfileEnabled:_,surfaceOriginViewParameter:m,trackingParams:f}){(0,p.Z)("BoardPickerList","/app/www/save/duplo/BoardPickerList.tsx");let y=(0,C.ZP)(),b=(0,A.Z)(eJ,c),P=eV(),S=(0,g.I0)(),I=(0,eN.Z)(),k=(0,eA.n)(),B=(0,G.m)(),R=(0,w.cO)(),Z=r.location.state&&r.location.state.isOneTapSave,{checkExperiment:E}=(0,O.r)(),{showRepinConfirmation:F,showToast:z}=(0,eg.Z)(),L=e=>r.push(e),M=t.map(e=>e.id);_&&M.unshift("PROFILE_PINS");let D=(0,eO.Z)(),N=(0,T.Z)(),H=(0,eM.lJ)(N,D),{logStat:$}=(0,eD.Yg)(),W=_&&E("mweb_curation_board_picker_reorder_profile_option").anyEnabled;(0,K.Z)(()=>{M&&s({event_type:13,clientTrackingParams:f.clientTrackingParams,component:7,element:1001,view_type:3,aux_data:{pin_id:b.entityId,suggested_boards:M}})}),(0,h.useEffect)(()=>{s({view_parameter:3988,event_type:13,view_type:21,aux_data:{board_picker_surface_origin:m,pin_id:b.entityId,board_picker_suggested_boards:JSON.stringify(eX(t))}})},[t]);let U=e=>S((0,em.Br)(e)),Y=I({fn:async(e,t,c)=>{if(e&&t)l(t,c);else try{if(!a){let e=!t?.id,n=await (({boardId:e,i18n:t,isQuickSave:n})=>(i(),$("main_pin_repin"),S((0,ef.w)({checkExperiment:E,i18n:t,isQuickSave:n,logContextEvent:s,pinId:b.entityId,boardId:e,onSuccess:()=>{R("Save",{pin_id:b.entityId,is_promoted:b.isPromoted}),r.goBack()},originalPinId:d,showRepinConfirmation:F,trackingParams:f,historyPush:L,suggestedBoardIds:M,savePinId:(e,t)=>(B?.save(e),k?.save(e,t))}))))({boardId:t?.id,i18n:y,isQuickSave:e});if(n){let e=n?.id;if(Z){let n;n={boardId:t?.id,localPinId:e,pinId:b.entityId,nodeId:b.__id},S((0,e$.a)({...n}))}else b?.entityId&&S((0,eW.Ur)({id:b.entityId,nodeId:b.__id,boardId:t.id,title:t.name??"",url:t.url??"",localPinId:e}))}}if(a){let e=t?.id,i={board_id:e,id:b.entityId,...H?{orbac_subject_id:H}:Object.freeze({})},a=u!==e;v.Z.create("PinResource",i).callUpdate().then(t=>{let n;if(a&&e&&u){let t,n,i;t={selectedPinIds:[b.entityId],source:{boardId:u,sectionId:void 0},target:{boardId:e,sectionId:void 0}},S((0,eH.S)(t)),U({boardId:e,sectionId:void 0,increment:1}),U({boardId:u,sectionId:void 0,increment:-1}),N.isAuth&&N.id&&!u&&(n=N.id,i=b.entityId,S((0,eK.EX)({feedId:n,feedType:eU.Z.BOARDLESS_PINS,itemIds:[i],itemType:"pin"})))}S((0,ez.b)("PinResource",{options:i})),n=b.entityId,S((0,eL.jB)("PinResource",e0(n,!0,H))),P(b.__id),S((0,eL.Sr)("PinResource",e0(t.resource_response.data.id,!1,H),t)),r.goBack()}),o&&n()}}catch(e){z(({hideToast:t})=>(0,X.jsx)(j.Z,{onHide:t,text:(0,eF.Z)(e,"message")||y._('Sorry! Something went wrong on our end.', 'error during repin', 'error during repin'),type:"error"}))}},modalHeader:(0,q.Bx)(y)}),V=(0,X.jsx)(eY,{handleSelected:(e,t)=>Y(e,{...t,gridIndex:0},"profile"),pinId:b.entityId,surfaceOriginViewParameter:m});return(0,X.jsxs)(x.kC,{direction:"column",gap:4,children:[(0,X.jsxs)(x.xu,{children:[_&&!W&&V,t.length>0&&(0,X.jsx)(x.xu,{marginBottom:4,marginTop:2,children:(0,X.jsx)(x.X6,{accessibilityLevel:3,size:"300",children:(0,X.jsx)(x.xv,{inline:!0,children:y._('Top choices', 'boardPicker.header.topChoices', 'Header of a list of user\'s boards')})})}),t.map((e,t)=>(0,X.jsx)(eq.Z,{boardId:e.id,onBoardSelected:n=>Y(n,{...e,gridIndex:t},"topChoices"),showSingleBoardRep:!0},e.id))]}),(0,X.jsxs)(x.xu,{"data-test-id":"all-boards-list",children:[(0,X.jsx)(x.xu,{marginBottom:4,children:(0,X.jsx)(x.X6,{accessibilityLevel:3,size:"300",children:(0,X.jsx)(x.xv,{inline:!0,children:y._('All boards', 'RepinFlow.BoardPickerList.AllBoards', 'Board picker list all boards title')})})}),e.map((e,t)=>(0,X.jsx)(eq.Z,{boardId:e.id,onBoardSelected:n=>Y(n,{...e,gridIndex:t},"allBoards"),showSingleBoardRep:!0},e.id)),W&&V]})]})}var e2=n(366859);let e3=()=>((0,p.Z)("EmptyBoardRep","/app/www/save/duplo/EmptyBoardRep.tsx"),(0,X.jsx)(x.xu,{color:"secondary",display:"inlineBlock",height:60,minWidth:60,overflow:"hidden",position:"relative",rounding:4,children:(0,X.jsxs)(h.Fragment,{children:[(0,X.jsx)(x.xu,{color:"default",dangerouslySetInlineStyle:{__style:{left:"50%"}},height:"100%",position:"absolute",width:1}),(0,X.jsx)(x.xu,{color:"default",dangerouslySetInlineStyle:{__style:{top:"50%"}},height:1,position:"absolute",right:!0,width:"50%"})]})}));var e8=n(611251),e5=n(890774);let e6=(void 0!==a||(a=n(853213)).hash&&"69ffcdea57a7778d2ebbcd41c276c0d0"!==a.hash&&console.error("The definition of 'BoardTitleSuggestionList_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);function e7({isEditingPin:e,isFirstBoard:t,isFromToast:n,history:i,onFirstBoardCreate:r,originalPinId:a,pinBoardId:o,pinKey:s,pinSectionId:l,surfaceOriginViewParameter:d,titleSuggestions:c,clientTrackingParams:u}){(0,p.Z)("BoardTitleSuggestionList","/app/www/save/duplo/BoardTitleSuggestionList.tsx");let _=(0,P.Z)(),m=(0,e5.Z)(),f=(0,C.ZP)(),y=(0,eN.Z)(),{showRepinConfirmation:b}=(0,eg.Z)(),v=(0,g.I0)(),w=(0,A.Z)(e6,s),S=w.entityId,I=(0,e8.A)({hasRichMetadata:!!w.richMetadata,hasRichMetadataProducts:!!w.richMetadata?.products,hasRichMetadataArticle:!!w.richMetadata?.article,hasRichMetadataRecipe:!!w.richMetadata?.recipe}),k=(0,eA.n)(),j=(0,G.m)(),T=(0,ev.gC)(),B=(0,W.Z)(u,w.trackingParams),R=e=>i.push(e),{checkExperiment:Z}=(0,O.r)();(0,h.useEffect)(()=>{_({view_parameter:3992,component:13282,event_type:13,view_type:21,aux_data:{board_picker_surface_origin:d,pin_id:S,board_title_suggestions:c}})},[]);let E=async()=>{await void v((0,eT.q)({pinId:S,boardId:o||"",boardSectionId:l,clientTrackingParams:B}));let e=w.pinnedToBoard?.url;if(w.section){let t=`${e??""}${w.section.slug??""}/`;i.replace(t??"")}else i.replace(e??"")},F=y({fn:(o,s,l)=>{_({view_parameter:3992,component:13282,element:23,event_type:101,view_type:91,aux_data:{board_picker_surface_origin:d,pin_id:S,board_title_suggestions:c}}),(({allSuggestions:e,handleCreateBoard:t,index:n,isFBC:i,logContextEvent:r,pinViewParameter:a})=>{t(),r({aux_data:{board_title_list:JSON.stringify(e),is_fbc:i.toString(),selected_board_title_index:n},component:7,element:23,event_type:102,view_parameter:a,view_type:3})})({allSuggestions:l,handleCreateBoard:()=>{t?r(s):m({boardCreateOptions:{name:s,initial_pin_client_tracking_params:[u],privacy:"public"}}).then(t=>{let{url:r="",id:o}=t||{};v((0,ef.w)({checkExperiment:Z,i18n:f,logContextEvent:_,originalPinId:a,pinId:S,boardId:o,trackingParams:{clientTrackingParams:B,pinnedToBoardId:o},historyPush:R,savePinId:(e,t)=>(j?.save(e),k?.save(e,t))})).then(()=>{e?n?i.goBack():E():i.goBack();let{href:t,text:a}=(0,eS.Z)(r,s,f),{duration:l,text:d,thumbnail:c}=(0,ei.Z)({boardId:o,getReduxBoard:T,pinId:S,viewType:3});b(({hideToast:e})=>(0,X.jsx)(er.Z,{duration:l,href:t,onHide:e,text:d||a,thumbnail:c}))})})},index:o,isFBC:t,logContextEvent:_,pinViewParameter:I})},modalHeader:(0,q.Bb)(f)});return c?c.map((e,t,n)=>(0,X.jsx)(x.xu,{children:(0,X.jsx)(e2.Z,{dataTestId:"board-suggestion-row-button",onTouch:()=>F(t,e,n),pressState:"none",rounding:2,children:(0,X.jsxs)(x.xu,{alignItems:"center",display:"flex",paddingY:2,rounding:2,children:[(0,X.jsx)(e3,{}),(0,X.jsx)(x.xu,{column:10,marginStart:3,children:(0,X.jsx)(x.X6,{size:"400",children:e})})]})},t)},t)):null}let e9=(void 0!==o||(o=n(182522)).hash&&"a8967078f1de7ce3a263a224d0d0e710"!==o.hash&&console.error("The definition of 'useFetchBoardTitleSuggestionsQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o),e4=e=>{let{v3GetPinQuery:t}=(0,_.useLazyLoadQuery)(e9,{pinId:e});if(t?.error?.message)throw t?.error;return t?.data?.boardTitleSuggestions?.map(({title:e})=>e).filter(Boolean)||[]},te=(void 0!==s||(s=n(205725)).hash&&"475036dcb56a51d3552313200b8c9d45"!==s.hash&&console.error("The definition of 'RepinBoardPicker_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),s);function tt({allBoards:e,saveToProfileEnabled:t,boardsShortlist:n,closeModal:i,dismissFlyout:r,history:a,isEditingPin:o,isFromToast:s,onSelect:l,originalPinId:d,shouldUseSaveToProfileBehavior:c,pin:u,pinBoardId:p,pinSectionId:g,trackingParams:_}){let m=(0,P.Z)();return(0,X.jsx)(h.Fragment,{children:(0,X.jsx)(e1,{boards:e,boardsShortlist:n,closeModal:i,dismissFlyout:r,history:a,isEditingPin:o,isFromToast:s,logContextEvent:m,onSelect:l,originalPinId:d,pinBoardId:p,pinKey:u,pinSectionId:g,saveToProfileEnabled:t||c,trackingParams:_})})}function tn({allBoards:e,boardsShortlist:t,closeModal:n,saveToProfileEnabled:i,dismissFlyout:r,history:a,isEditingPin:o,isFirstRepinExperience:s,isFromToast:l,onFirstBoardCreate:d,originalPinId:c,onSelect:u,shouldUseSaveToProfileBehavior:p,pin:h,pinBoardId:g,pinSectionId:_,trackingParams:m,titleSuggestions:f}){let y=(0,C.ZP)(),b=s||0===e.length&&!i,v=(0,P.Z)(),w=()=>(0,X.jsx)(e7,{clientTrackingParams:m.clientTrackingParams,history:a,isEditingPin:o,isFirstBoard:b,isFromToast:l,onFirstBoardCreate:d,originalPinId:c,pinBoardId:g,pinKey:h,pinSectionId:_,titleSuggestions:f});return b&&!p?(0,X.jsxs)(x.xu,{paddingX:1,children:[(0,X.jsx)(x.xu,{marginBottom:4,children:(0,X.jsx)(x.xv,{children:y._('Tap to create your first board', 'CTA for board title suggestions', 'Explain to user that tapping on suggestion creates a board')})}),w()]}):(0,X.jsxs)(x.xu,{marginBottom:4,children:[(0,X.jsx)(e1,{boards:e,boardsShortlist:t,closeModal:n,dismissFlyout:r,history:a,isEditingPin:o,isFromToast:l,logContextEvent:v,onSelect:u,originalPinId:c,pinBoardId:g,pinKey:h,pinSectionId:_,saveToProfileEnabled:i||p,trackingParams:m}),f?(0,X.jsxs)(x.xu,{children:[(0,X.jsx)(x.xu,{paddingY:1,children:(0,X.jsx)(eE.Z,{children:(0,X.jsx)(x.iz,{})})}),(0,X.jsx)(x.xu,{paddingY:4,children:(0,X.jsx)(x.xv,{children:y._('Or tap to create a new board', 'boardPicker.suggestedBoardName.title', 'Title for repin page suggested board name section')})}),w()]}):(0,X.jsx)(x.xu,{paddingY:6,children:(0,X.jsx)(x.xH,{accessibilityLabel:y._('Loading repin page content', ' - ', ' -- '),show:!0})})]})}function ti({allBoards:e,boardsShortlist:t,closeModal:n,saveToProfileEnabled:i,dismissFlyout:r,history:a,isEditingPin:o,isFetchingBoards:s,isFirstRepinExperience:l,isFromToast:d,onFirstBoardCreate:c,onSelect:u,originalPinId:h,shouldUseSaveToProfileBehavior:g,pinKey:_,pinBoardId:m,pinDescription:f,pinSectionId:y,surfaceOriginViewParameter:b,saveSessionId:v}){let w;(0,p.Z)("RepinBoardPicker","/app/www/save/duplo/RepinBoardPicker.tsx");let S=(0,A.Z)(te,_),I=e4(S.entityId),k=(0,C.ZP)(),j=(0,P.Z)(),T={clientTrackingParams:(0,eZ.Z)({pinKey:S}),pinnedToBoardId:S.pinnedToBoard?S.pinnedToBoard.entityId:""},B=(e,n)=>{j({event_type:101,component:13282,clientTrackingParams:T.clientTrackingParams,object_id_str:e.id,view_type:91,view_parameter:eQ(n),aux_data:{board_id:e.id,board_component:eQ(n),board_picker_surface_origin:b,board_picker_suggested_boards:JSON.stringify(eX(t)),board_title_suggestions:I,board_index:e.gridIndex,is_profile_save:"profile"===n,pin_id:S.entityId,save_session_id:v}}),u(e,n)};if(0===e.length&&s)return(0,X.jsx)(x.xu,{paddingY:2,children:(0,X.jsx)(x.xH,{accessibilityLabel:k._('Loading repin page content', ' - ', ' -- '),show:!0})});let{checkExperiment:R}=(0,O.r)();switch(R("mweb_curation_board_picker_tune_complex_board_picker").group){case"enabled_8":w=8;break;case"enabled_9":w=9;break;case"enabled_11":w=11;break;case"enabled_12":w=12;break;default:w=10}return e.length>=w?(0,X.jsx)(tt,{allBoards:e,boardsShortlist:t,closeModal:n,dismissFlyout:r,history:a,isEditingPin:o,isFromToast:d,onSelect:B,originalPinId:h,pin:S,pinBoardId:m,pinDescription:f,pinSectionId:y,saveToProfileEnabled:i,shouldUseSaveToProfileBehavior:g,trackingParams:T}):(0,X.jsx)(tn,{allBoards:e,boardsShortlist:t,closeModal:n,dismissFlyout:r,history:a,isEditingPin:o,isFirstRepinExperience:l,isFromToast:d,onFirstBoardCreate:c,onSelect:B,originalPinId:h,pin:S,pinBoardId:m,pinDescription:f,pinSectionId:y,saveToProfileEnabled:i,shouldUseSaveToProfileBehavior:g,titleSuggestions:I,trackingParams:T})}var tr=n(394962),ta=n(611282);let to=(void 0!==l||(l=n(727382)).hash&&"1612c2df94f42990b3d4f6ccede72a70"!==l.hash&&console.error("The definition of 'RepinCreateBoardButton_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l);function ts({isEditingPin:e,isFirstBoardCreateActive:t,pinKey:n,pinBoardId:i,pinDescription:r,pinSectionId:a,trackingParams:o,onTouch:s,useIconWithBackground:l}){(0,p.Z)("RepinCreateBoardButton","/app/www/save/duplo/RepinCreateBoardButton.tsx");let d=(0,C.ZP)(),c=(0,A.Z)(to,n),u=(0,ta.Z)({href:{pathname:`/board/create/${c.entityId}/`,state:{isFirstBoardCreateActive:t,pinnedToBoardId:c.pinnedToBoard?c.pinnedToBoard.entityId:"",pinDescription:r,trackingParams:o,isEditingPin:e,pinBoardId:i,pinSectionId:a}}});return(0,X.jsx)(tr.Z,{hasTopShadow:l,height:l?void 0:70,children:(0,X.jsx)(x.iP,{onTap:({event:e})=>{s?.(),u({event:e})},children:(0,X.jsxs)(x.xu,{alignItems:"center","data-test-id":"repinCreateBoardButton",display:"flex",paddingX:+!!l,paddingY:+!l,children:[l?(0,X.jsx)(x.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{padding:"14px"}},rounding:2,children:(0,X.jsx)(x.JO,{accessibilityLabel:d._('Create board button', ' - ', ' -- '),color:"default",icon:"add",size:20})}):(0,X.jsx)(x.JO,{accessibilityLabel:d._('Create board button', ' - ', ' -- '),color:"error",icon:"add-circle",size:38}),(0,X.jsx)(x.xu,{marginStart:l?2:3,children:(0,X.jsx)(x.xv,{weight:"bold",children:d._('Create board', 'Create new board to Pin to', 'Create new board to Pin to')})})]})})})}var tl=n(120651),td=n(993127);let tc=(void 0!==d||(d=n(428988)).hash&&"f0b2fbadfba92480a2077999a000a308"!==d.hash&&console.error("The definition of 'RepinSectionPicker_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),d),tu=(e,t,n)=>({field_set_key:"detailed",id:e,preserve_component_state:t,...n?{orbac_subject_id:n}:Object.freeze({})});function tp({boardId:e,history:t,location:{search:n},showSectionRep:i,pinKey:r,onSuccess:a,trackingParams:o,dismissFlyout:s,boardViewParameterType:l,surfaceOriginViewParameter:d}){(0,p.Z)("RepinSectionPicker","/app/www/save/duplo/RepinSectionPicker.tsx");let c=(0,g.I0)(),u=(0,C.ZP)(),_=(0,A.Z)(tc,r),m=eV(),{showToast:f}=(0,eI.dI)(),y=new URLSearchParams(n),b=y.get("isEditingPin"),x=y.get("pinBoardId")??"",S=y.get("pinSectionId")??"",I=(0,W.Z)(o,_.trackingParams),k=(0,P.Z)(),j=(0,eA.n)(),{checkExperiment:B}=(0,O.r)(),R=e=>t.push(e),Z=(0,eO.Z)(),E=(0,T.Z)(),F=(0,eM.lJ)(E,Z),z=(0,w.cO)();(0,h.useEffect)(()=>{k({event_type:13,clientTrackingParams:I,component:13282,object_id_str:e,view_type:275,aux_data:{board_id:e,board_picker_surface_origin:d,board_title_suggestions:[],board_index:0,is_profile_save:!1,pin_id:_.entityId,board_component:l}})});let L=e=>c((0,em.Br)(e)),M=async(n,i)=>{if(i&&k({event_type:101,clientTrackingParams:I,component:13282,element:36,object_id_str:n,view_type:91,view_parameter:3133,aux_data:{board_id:n,board_picker_surface_origin:d,board_title_suggestions:[],board_index:0,is_profile_save:!1,pin_id:_.entityId,section_id:i?.id??"",board_component:l}}),b||await void(s(),c((0,ef.w)({checkExperiment:B,i18n:u,logContextEvent:k,pinId:_.entityId,boardId:e,onSuccess:b?void 0:()=>{z("Save",{pin_id:_.entityId,is_promoted:_.isPromoted}),a()},showToast:f,section:i,trackingParams:{clientTrackingParams:I,pinnedToBoardId:_.pinnedToBoard?_.pinnedToBoard.entityId:""},historyPush:R,savePinId:j?.save??(()=>{})})).then(()=>{i&&c((0,tl.Z)(i.id??""))})),b){let e=i?.id,r={board_id:n,board_section_id:e,id:_.entityId,...F?{orbac_subject_id:F}:Object.freeze({})},a=x!==n,o=S!==e;v.Z.create("PinResource",r).callUpdate().then(i=>{let s;if(a||o){let t,i,r;t={selectedPinIds:[_.entityId],source:{boardId:x,sectionId:S||null},target:{boardId:n,sectionId:e}},c((0,eH.S)(t)),L({boardId:n,sectionId:e,increment:1}),L({boardId:x,sectionId:S,increment:-1}),E.isAuth&&E.id&&!x&&(i=E.id,r=_.entityId,c((0,eK.EX)({feedId:i,feedType:eU.Z.BOARDLESS_PINS,itemIds:[r],itemType:"pin"})))}c((0,ez.b)("PinResource",{options:r})),s=_.entityId,c((0,eL.jB)("PinResource",tu(s,!0,F))),m(_.__id),c((0,eL.Sr)("PinResource",tu(i.resource_response.data.id,!1,F),i)),t.go(-2)})}};return(0,X.jsx)(td.Z,{boardId:e,repin:M,showSectionRep:i})}function th(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let tg=(void 0!==c||(c=n(713443)).hash&&"b1432f4e80d112c155f930f7ed3760cd"!==c.hash&&console.error("The definition of 'RepinPage_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),c),t_=(void 0!==u||(u=n(252031)).hash&&"76093586a269ca0330e25a57bd33f665"!==u.hash&&console.error("The definition of 'RepinPageQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),u);function tm({children:e}){let t=(0,g.v9)(({session:e})=>72+((0,Z.Rq)(e.userAgentPlatform)?Z.Vf:0));return(0,X.jsx)(x.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:t}},children:e})}class tf extends h.PureComponent{constructor(...e){super(...e),th(this,"state",{boardType:"allBoards",dupeWarningDismissed:!1,pinDescription:(this.props.pin.description||"").trim(),saved:!1,suggestedBoardName:void 0,trackingParams:(this.props.location.state||{}).trackingParams||"",warningAnchor:void 0,windowInnerHeight:"undefined"!=typeof window?window.innerHeight:0,saveSessionId:(0,b.Z)()}),th(this,"saved",()=>this.setState({saved:!0})),th(this,"onResize",()=>{this.setState({windowInnerHeight:window.innerHeight})}),th(this,"handleBackButtonTouch",()=>{let{logContextEvent:e,match:{params:{boardId:t}}}=this.props;e({view_type:21,view_parameter:87,component:7,element:t?34:75,event_type:102})}),th(this,"handleDismissWarningFlyout",()=>this.setState({dupeWarningDismissed:!0})),th(this,"handleFirstBoardCreateOnSuccess",(e,t)=>{let{closeupExperience:n,completeExperience:i,getReduxBoard:r,navigate:a,i18n:o,pinId:s,repinExperience:l,showRepinConfirmation:d,mountAfterActionPlacement:c}=this.props,{boardId:u,boardUrl:p}=e,{href:h,text:g}=(0,eS.Z)(p,t,o),{duration:_,text:m,thumbnail:f}=(0,ei.Z)({boardId:u,getReduxBoard:r,isFBC:!0,pinId:s,viewType:21});a(-1),d(({hideToast:e})=>(0,X.jsx)(er.Z,{duration:_,href:h,onHide:e,text:m||g,thumbnail:f})),n&&n.placement_id&&503459===n.experience_id&&i(n.placement_id,n.experience_id),l&&U(l,501032)&&i(l.placement_id,l.experience_id),c("Save",{pin_id:this.props.pin.entityId,is_promoted:this.props.pin.isPromoted})}),th(this,"handleSetSelectedBoard",e=>{let{navigate:t,pin:n,location:i}=this.props,{trackingParams:r}=this.state;this.isFirstBoardCreateActive()||t(`/board/create/${n.entityId}/${e}/`,{state:{trackingParams:r},from:i.state?.from}),this.setState({suggestedBoardName:e})}),th(this,"handleFirstBoardCreate",e=>{let{checkExperiment:t,createBoard:n,dispatch:i,navigate:r,location:a,logContextEvent:o,i18n:s,match:l,notifDetailRepinContext:d,pin:c,repinContext:u,showToast:p}=this.props,{trackingParams:h}=this.state,g=l.params.id,_=(0,W.Z)((a.state||{}).trackingParams),{search:m}=a,f=new URLSearchParams(m).get("originalPinId")??"",y=(0,W.Z)(h,c.trackingParams);return n({boardCreateOptions:{name:e,initial_pin_client_tracking_params:[_],privacy:"public"},deprecatedSchemaForNormalization:eb.IY}).then(e=>{let{url:n="",id:a}=e||{};return g&&i((0,ef.w)({checkExperiment:t,i18n:s,logContextEvent:o,originalPinId:f,pinId:g,boardId:a,trackingParams:{clientTrackingParams:y,pinnedToBoardId:a},historyPush:e=>r(e),savePinId:(e,t)=>(d?.save(e),u?.save(e,t))})),{boardId:a,boardUrl:n}},e=>{throw{onError:()=>{r(-1),p(({hideToast:t})=>(0,X.jsx)(j.Z,{onHide:t,text:e.message||this.props.i18n._('Sorry! Something went wrong on our end.', 'error creating board', 'error creating board'),type:"error"}))}}})}),th(this,"handleSelectBoard",(e,t)=>{let{navigate:n,pin:i,location:r}=this.props,{search:a}=r,{trackingParams:o}=this.state,s=new URLSearchParams(a),l=!!s.get("isEditingPin"),d=s.get("pinBoardId")??"",c=s.get("pinSectionId")??"";this.setState(()=>({boardType:t})),l?n(`/pin/${i.entityId}/repin/${e.id}/?isEditingPin=true&pinBoardId=${d}&pinSectionId=${c}`,{trackingParams:o,from:r.state?.from}):n(`/pin/${i.entityId}/repin/${e.id}/`,{},{trackingParams:o,from:r.state?.from})}),th(this,"handleClickAddSectionButton",()=>{let{pin:e,navigate:t,match:{params:{boardId:n}},location:i,logContextEvent:r,boardsShortlist:a,titleSuggestions:o}=this.props;if(!n)return;let{search:s}=i,l=new URLSearchParams(s),d=!!l.get("isEditingPin"),c=l.get("pinBoardId")??"",u=l.get("pinSectionId")??"";r({view_type:91,view_parameter:3132,component:13282,element:10306,event_type:101,aux_data:{board_picker_surface_origin:153,board_title_suggestions:o||[],pin_id:e.entityId,board_component:3132,board_picker_suggested_boards:JSON.stringify(eX(a))}}),d?t(`/pin/${e.entityId}/repin/${n}/add/?isEditingPin=true&pinBoardId=${c}&pinSectionId=${u}`,{from:i.state?.from}):t(`/pin/${e.entityId}/repin/${n}/add/`,{state:{from:i.state?.from}})}),th(this,"handleRepinToExistingSectionSuccess",()=>{this.props.navigate(-2)}),th(this,"handleRepinToNewSectionSuccess",()=>{this.props.navigate(-3)}),th(this,"handleRepinCreateBoardButtonTouch",()=>{let{pin:e,logContextEvent:t,boardsShortlist:n,titleSuggestions:i}=this.props;t({view_type:91,view_parameter:87,component:13282,element:249,event_type:101,aux_data:{board_picker_surface_origin:153,board_title_suggestions:i||[],pin_id:e.entityId,board_component:87,board_picker_suggested_boards:JSON.stringify(eX(n))}})}),th(this,"renderCreateScreen",()=>{let{pin:e,location:{search:t},match:{params:{boardId:n}}}=this.props,{trackingParams:i}=this.state,r=new URLSearchParams(t),a=!!r.get("isEditingPin"),o=r.get("pinBoardId")??"",s=r.get("pinSectionId")??"";return!!n&&(0,X.jsx)(eR,{boardId:n,isEditingPin:a,onSuccess:this.handleRepinToNewSectionSuccess,pinBoardId:o,pinKey:e,pinSectionId:s,trackingParams:i,useRoundedCorners:!0})}),th(this,"isFirstBoardCreateActive",()=>{let{allBoards:e,isFetchingBoards:t,saveToProfileEnabled:n,repinExperience:i}=this.props;return!!U(i,501032)||!t&&0===e.length&&!n}),th(this,"isBoardCreateEduActive",()=>{let{repinExperience:e}=this.props;return U(e,501021)}),th(this,"completeBoardCreateEduExperience",()=>{let{completeExperience:e,repinExperience:t}=this.props;t&&this.isBoardCreateEduActive()&&e(t.placement_id,t.experience_id)}),th(this,"renderPicker",()=>{let{allBoards:e,saveToProfileEnabled:t,boardsShortlist:n,history:i,isFetchingBoards:r,location:a,shouldUseSaveToProfileBehavior:o,pin:s,match:{params:{boardId:l}},location:{search:d}}=this.props,{pinDescription:c,dupeWarningDismissed:u,saved:p,suggestedBoardName:h,trackingParams:g,warningAnchor:_,boardType:m,saveSessionId:f}=this.state,y=c.trim(),{pinnedToBoard:b}=s,v=b?(0,R.nk)(this.props.i18n._('Psst! You already saved this Pin to {{ board_name }}', 'Toast for already having repinned pin', 'Toast for already having repinned pin'),{board_name:b.name}).join(" "):null,{dominantColor:P}=s,w=s.imageSpec_236x,S=w?w.url:"",I=new URLSearchParams(d),k=!!I.get("isEditingPin"),j=I.get("pinBoardId")??"",T=I.get("pinSectionId")??"",A=!!I.get("isFromToast"),B=I.get("originalPinId")??"",C=this.props.i18n._('Save Pin to', 'RepinPage.Section.Header.Title', 'title for section selection in repin flow'),Z=new x.Ry(2),E=this.props.i18n._('Create board', 'Title for first board create', 'Title for first board create. NOTE: we are testing using "collections" in place of "boards" for new users'),F=this.props.i18n._('Save to board', 'boardPicker.header', 'Title for repin page'),O=l?C:0!==e.length||r||t?F:E;return(0,X.jsxs)(L.default,{hasFixedHeader:!0,children:[(0,X.jsx)($.Z,{text:O}),(0,X.jsx)(z.default,{useRoundedCorners:!0,zIndex:Z,children:(0,X.jsxs)(x.kC,{alignItems:"center",height:40,justifyContent:"start",children:[(0,X.jsx)(x.xu,{column:2,children:(0,X.jsx)(ew.Z,{alignIconLeft:!0,color:"darkGray",icon:l?"arrow-back":"cancel",onTouch:this.handleBackButtonTouch,size:"sm"})}),(0,X.jsx)(x.xu,{column:8,children:(0,X.jsx)(x.xu,{"data-test-id":"repin-page-title",children:(0,X.jsx)(x.X6,{accessibilityLevel:2,align:"center",size:"300",children:(0,X.jsx)(x.xv,{inline:!0,weight:"bold",children:O})})})}),(0,X.jsx)(x.xu,{column:2})]})}),s.imageSpec_236x&&(this.isFirstBoardCreateActive()?(0,X.jsx)(eh,{onComplete:this.handleFirstBoardCreateOnSuccess,pinDominantColor:P??"",pinImageUrl:S??"",savePin:this.handleFirstBoardCreate,selectedBoardName:h}):null),(0,X.jsx)(tm,{children:l?(0,X.jsx)(tp,{boardId:l,boardViewParameterType:eQ(m),dismissFlyout:this.saved,history:i,location:a,onSuccess:this.handleRepinToExistingSectionSuccess,pinKey:s,showSectionRep:!0,surfaceOriginViewParameter:153,trackingParams:g}):(0,X.jsx)(ti,{allBoards:e,boardsShortlist:n,closeModal:this.handleBackButtonTouch,dismissFlyout:this.saved,history:i,isEditingPin:k,isFetchingBoards:r,isFirstRepinExperience:this.isFirstBoardCreateActive(),isFromToast:A,onFirstBoardCreate:this.handleSetSelectedBoard,onSelect:this.handleSelectBoard,originalPinId:B,pinBoardId:j,pinDescription:y,pinKey:s,pinSectionId:T,saveSessionId:f,saveToProfileEnabled:t,shouldUseSaveToProfileBehavior:o,surfaceOriginViewParameter:153})}),l?(0,X.jsx)(H.Wx,{onAddNewSection:this.handleClickAddSectionButton,useIconWithBackground:!0}):(0,X.jsx)(Y.Z,{modalHeader:(0,q.Bb)(this.props.i18n),nextLocation:`/board/create/${s.entityId}/`,children:(0,X.jsx)(ts,{isEditingPin:k,isFirstBoardCreateActive:this.isFirstBoardCreateActive(),onTouch:this.handleRepinCreateBoardButtonTouch,pinBoardId:j,pinDescription:y,pinKey:s,pinSectionId:T,trackingParams:g,useIconWithBackground:!0})}),w&&this.isBoardCreateEduActive()&&(0,X.jsx)(en,{completeExperience:this.completeBoardCreateEduExperience,pinDominantColor:P??"",pinImageHeight:w.height??1,pinImageUrl:S??"",pinImageWidth:w.width??1}),_&&!p&&s.pinnedToBoard&&!u&&v&&(0,X.jsx)(x.J2,{anchor:_,idealDirection:"down",onDismiss:this.handleDismissWarningFlyout,shouldFocus:!1,children:(0,X.jsx)(x.xu,{padding:3,children:(0,X.jsx)(x.xv,{weight:"bold",children:(0,X.jsx)("span",{children:v})})})})]})})}componentDidMount(){let{logContextEvent:e,repinExperience:t,triggerExperimentsForPlacement:n,viewExperience:i,pin:r}=this.props,{saveSessionId:a}=this.state;e({view_type:21,event_type:13,aux_data:{board_picker_surface_origin:153,pin_id:r.entityId,save_session_id:a}}),n(1000153),t&&i(1000153,t.experience_id),window.addEventListener("resize",this.onResize)}componentWillUnmount(){window.removeEventListener("resize",this.onResize)}render(){return(0,X.jsx)(I.ZP,{accessibilityModalLabel:this.props.i18n._('Repin page', 'RepinPage.MobileModal.AccessibilityLabel', 'Accessibility label on repin page'),closeOnOutsideClick:!1,isOpen:!0,onDismiss:()=>{},type:"repinPage",children:(0,X.jsx)(x.xu,{height:this.state.windowInnerHeight-k.i_,paddingX:2,paddingY:0,children:(0,X.jsxs)(m.rs,{children:[(0,X.jsx)(f.lt,{exact:!0,path:"/pin/:id/repin/",render:this.renderPicker}),(0,X.jsx)(f.lt,{exact:!0,path:"/pin/:id/repin/:boardId/",render:this.renderPicker}),(0,X.jsx)(f.lt,{exact:!0,path:"/pin/:id/repin/:boardId/add/",render:this.renderCreateScreen})]})})})}}function ty(){return(0,p.Z)("RepinPage","/app/www/pages/duplo/RepinPage.tsx"),(0,X.jsx)(tb,{})}function tb({shouldFetchPinFromGraphQL:e}){(0,p.Z)("RepinPage","/app/www/pages/duplo/RepinPage.tsx");let t=(0,y.s0)(),n=(0,m.TH)(),i=(0,m.k6)(),r=(0,m.$B)(),a=r.params.id??"",o=(0,C.ZP)(),s=(0,P.Z)(),l=(0,S.be)(),d=(0,S.Ig)(),c=(0,e5.Z)(),u=(0,eP.LO)(),h=(0,ev.gC)(),{isAuth:_}=(0,T.Z)(),f=(0,N.HG)(),b=((e,t)=>{let n={field_set_key:"repin"},i=(0,B.Z)({strategy:t?"GRAPHQL":"LEGACY",query:t_,variables:{pinId:e},useGetLegacyData:({pinId:e})=>{let{data:t}=(0,D.Z)({name:"PinResource",options:{...n,id:e}});return t}}),r=i?.v3GetPinQuery?.__typename==="V3GetPin"?i.v3GetPinQuery?.data:null;return(0,A.Z)(tg,r)})(a,e),{isFetching:x,allBoards:I,boardsShortlist:k}=(e=>{let t=(0,g.v9)(e=>e.session.userId),{isFetching:n,data:i}=(0,D.Z)({name:"BoardPickerBoardsResource",options:{pin_id:e,field_set_key:"profile_grid_item",shortlist_length:2,shortlist_suggestions:3,user_id:t}}),r=i?.all_boards||[];return{isFetching:n,allBoards:(0,g.v9)(e=>(0,ex.Z)({...e,boards:r})||[]),boardsShortlist:i?.boards_shortlist||[]}})(a),{checkExperiment:j}=(0,O.r)(),R=(0,G.m)(),Z=(0,eA.n)(),z=e4(a);(0,M.Z)({name:"UserResource",options:{user_id:u?.id,field_set_key:"quicksave"}});let L=(0,g.I0)(),H=(0,g.v9)(({experiences:e})=>e),$=(0,w.cO)(),{showToast:W,showRepinConfirmation:U}=(0,eg.Z)(),{showEnabledSaveBehavior:q}=(0,e_.ZP)(u?.id||""),Y=(0,T.Z)(),V=(()=>{if(!Y.isAuth)return null;let e=Y.pinCount&&Y.pinCount>0||Y.boardCount&&Y.boardCount>0||!1;return(0,E.Z)(Y.createdAt)?j("ap_mweb_new_user_disable_quick_save",{dangerouslySkipActivation:e}).group:(0,F.Z)(null,Y)?j("ap_mweb_res_user_disable_quick_save",{dangerouslySkipActivation:e}).group:null})(),Q="enabled_remove_quick_save"===V;return((0,K.Z)(()=>{if(!Q||!u||!0===u.has_quicksave_board)return;let e={name:o._('Quick Saves', 'quickSave.defaultBoardName', 'Name of the auto-created board for quicksave experience saves.'),layout:"quick_saves",privacy:"public",return_existing:!0,aux_data:{source:"quick_save"}},t=async()=>v.Z.create("BoardResource",e).callCreate();(async()=>{let{resource_response:{data:n}}=await t();L((0,em.oL)(e,n)),L((0,ey.Z)(!0))})()}),!_||f)?(0,X.jsx)(m.l_,{to:`/pin/${a}/`}):b?(0,X.jsx)(tf,{allBoards:I,boardsShortlist:k,checkExperiment:j,closeupExperience:H[1000112],completeExperience:(e,t)=>L(l(e,t)),createBoard:c,dispatch:L,getReduxBoard:h,history:i,i18n:o,isFetchingBoards:x,location:n,logContextEvent:s,match:r,mountAfterActionPlacement:$,navigate:t,notifDetailRepinContext:R,pin:b,pinId:a,repinContext:Z,repinExperience:H[1000153],saveToProfileEnabled:q&&"enabled_remove_all_boardless_saves"!==V,shouldUseSaveToProfileBehavior:Q,showRepinConfirmation:U,showToast:W,titleSuggestions:z,triggerExperimentsForPlacement:e=>L((0,S.kd)(e)),viewExperience:(e,t)=>L(d(e,t))}):null}},889229:function(e,t,n){function i(e,t){return{type:"SECTION_ADDED",payload:{boardId:e,section:t}}}function r(e,t){return{type:"SECTION_DELETED",payload:{boardId:e,sectionId:t}}}n.d(t,{HG:()=>r,OQ:()=>a,hd:()=>i});let a=(e,t)=>({type:"BOARD_SECTION_EDIT",payload:t})},978857:function(e,t,n){n.d(t,{Z:()=>c});var i=n(782677),r=n(575108),a=n(72918),o=n(889229),s=n(189976),l=n(388023),d=n(696323);let c=(e,t,n,c)=>u=>{let p={board_id:e,initial_pins:t,name:n},h="BoardSectionResource";return r.Z.create(h,p).callCreate().then(n=>{let r=n.resource_response.data,g=(0,i.Fv)(r,l.Z[h]);return c({event_type:7100,object_id_str:r.id}),u((0,a.XM)(h,p,n,g)),u((0,o.hd)(e,r)),u((0,s.vX)({feedId:e,feedType:d.Z.BOARD_SECTIONS,itemIds:[r.id],itemType:"boardsection"})),t.length&&u({type:"PINS_MOVE",payload:{source:{boardId:e},target:{boardId:e,sectionId:r.id},pinIds:t}}),n})}},987782:function(e,t,n){n.d(t,{Z:()=>r});var i=n(575108);let r=e=>t=>{t({type:"PINS_MOVE_ALL",payload:e});let{source:n,target:r,excludePinIds:a}=e,o={board_id:n.boardId,new_board_id:r.boardId,pin_ids:a,old_section_id:n.sectionId,new_section_id:r.sectionId};return i.Z.create("BulkEditSelectAllResource",o).callUpdate()}},120651:function(e,t,n){n.d(t,{Z:()=>a});var i=n(575108),r=n(889229);let a=e=>t=>i.Z.create("BoardSectionResource",{section_id:e}).callGet().then(n=>{let i=n.resource_response.data||{id:"",title:""};return t((0,r.OQ)(e,i)),n})},74105:function(e,t,n){n.d(t,{Z:()=>r});var i=n(536652);function r(e,t,n){return(0,i.U)("BoardResource",{options:{board_id:e,field_set_key:t,...n?{orbac_subject_id:n}:{}}})}},831786:function(e,t,n){n.d(t,{S:()=>h,Z:()=>g});var i=n(575108),r=n(74105),a=n(225013),o=n(189976),s=n(686231),l=n(696323),d=n(697063);let c=e=>t=>{d.Z.showError(function(e,t){switch(e.api_error_code){case 2171:case 2172:case 2173:return t._('Please wait until the previous board action finishes.', ' - ', ' -- ');default:return e.message}}(t,e))},u=e=>(0,o.N8)(e.sectionId?l.Z.BOARD_SECTION_PINS:l.Z.BOARDFEED,e.sectionId||e.boardId);function p(e,t){let{source:n,target:i}=e;i.boardId!==n.boardId?(t((0,r.Z)(n.boardId,"pin_count")),t((0,r.Z)(i.boardId,"pin_count"))):n.sectionId&&i.sectionId||t((0,r.Z)(i.boardId,"pin_count")),n.sectionId&&t((0,a.Z)(n.sectionId)),i.sectionId&&t((0,a.Z)(i.sectionId))}function h(e){return t=>{let{selectedPinIds:n,source:i,target:r}=e;t((0,o.EX)({feedId:i.sectionId||i.boardId,feedType:i.sectionId?l.Z.BOARD_SECTION_PINS:l.Z.BOARDFEED,itemIds:n,itemType:"pin"})),t((0,o.vX)({feedId:r.sectionId||r.boardId,feedType:r.sectionId?l.Z.BOARD_SECTION_PINS:l.Z.BOARDFEED,itemIds:n,itemType:"pin"})),n.forEach(e=>{t((0,s.Vp)({pinId:e,boardId:r.boardId,sectionId:r.sectionId||void 0,title:r.name||""}))}),p(e,t)}}function g(e,t){return n=>{let{selectedPinIds:r,target:a}=e;return r.forEach(e=>{n((0,s.Vp)({pinId:e,boardId:a.boardId,sectionId:a.sectionId||void 0,title:a.name||""}))}),(function(e,t,n){let{inverseSelection:r,selectedPinIds:a,source:s,target:d,orbacSubjectId:p}=e;if(s.boardId===d.boardId&&(s.sectionId||null)===(d.sectionId||null))return Promise.reject();if(r){let e={board_id:s.boardId,new_board_id:d.boardId,old_section_id:s.sectionId||void 0,new_section_id:d.sectionId||void 0,pin_ids:a,orbac_subject_id:p};return i.Z.create("BulkEditSelectAllResource",e).callUpdate({showError:!1}).then(()=>Promise.all([t(u(s)),t(u(d))])).catch(c(n))}{let e=(e,n)=>{t((0,o.EX)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?l.Z.BOARD_SECTION_PINS:l.Z.BOARDFEED,itemIds:a,itemType:"pin"})),t((0,o.vX)({feedId:n.sectionId||n.boardId,feedType:n.sectionId?l.Z.BOARD_SECTION_PINS:l.Z.BOARDFEED,itemIds:a,itemType:"pin"}))};e(s,d);let r=()=>e(d,s);if(d.boardId===s.boardId)if(d.sectionId){let e={section_id:d.sectionId,pins:a,orbac_subject_id:p};return i.Z.create("BoardSectionEditResource",e).callUpdate({showError:!1}).catch(e=>{r(),c(n)(e)})}else{let e={section_id:s.sectionId,pins:a,orbac_subject_id:p};return i.Z.create("BoardSectionPinsResource",e).callDelete({showError:!1}).catch(e=>{r(),c(n)(e)})}{let e={board_id:d.boardId,section_id:d.sectionId||void 0,pin_ids:a,orbac_subject_id:p};return i.Z.create("BulkEditResource",e).callUpdate({showError:!1}).catch(e=>{r(),c(n)(e)})}}})(e,n,t).then(()=>p(e,n))}}},936705:function(e,t,n){n.d(t,{a:()=>i,k:()=>r});let i=e=>({type:"ONE_TAP_SAVE",payload:e}),r=e=>({type:"ONE_TAP_UNSAVE",payload:e})},282919:function(e,t,n){n.d(t,{w:()=>a});var i=n(370347),r=n(611251);let a=({pinId:e,boardId:t,checkExperiment:a,i18n:o,isQuickSave:s,logContextEvent:l,onSuccess:d,originalPinId:c,showNewUserSavetoProfileAnimation:u,showRepinConfirmation:p,showToast:h,section:g,trackingParams:_,isOneTapSave:m,viewParameter:f,viewType:y,historyPush:b,suggestedBoardIds:x,savePinId:v})=>async(P,w)=>{let{pins:S,session:I}=w(),k=S[e],{default:j}=await n.e("20019").then(n.bind(n,116856)),T=new j({boardId:t,dispatch:P,i18n:o,isOneTapSave:m,isQuickSave:s,onSuccess:d,originalPinId:c,pinId:k.id,section:g,showNewUserSavetoProfileAnimation:u,showRepinToasts:e=>p?p(e):h?h(e):void 0,trackingParams:_,userId:I.userId,viewParameter:f,viewType:y,historyPush:b,suggestedBoardIds:x,savePinId:v,pinData:{trackingParams:k.tracking_params,viewParameter:(0,r.A)({hasRichMetadata:!!k.rich_metadata,hasRichMetadataProducts:!!k.rich_metadata?.products,hasRichMetadataArticle:!!k.rich_metadata?.article,hasRichMetadataRecipe:!!k.rich_metadata?.recipe}),pinnedToBoardId:k.pinned_to_board?.id}});return(0,i.ib)({checkExperiment:a,isAuthMweb:I.isAuthenticated&&(I.isMobile||I.isTablet)}),T.processRepin(l)}},373950:function(e,t,n){function i(e){return{type:"UPDATE_HAS_QUICKSAVE_BOARD",payload:{createdQuicksaveBoard:e}}}n.d(t,{Z:()=>i})},145127:function(e,t,n){n.d(t,{Z:()=>i});let i=(0,n(442279).createSelector)(({users:e,boards:t,session:n})=>{let i=e[n.userId]||null;return Object.keys(t).reduce((e,n)=>{let r=t[n];return!r.archived_by_me_at&&(r.owner?.id===i?.id||r.collaborating_users&&r.collaborating_users.map(({id:e})=>e).includes(i?.id))&&r.cover_images?e.concat([r]):e},[])},e=>e.sort((e,t)=>e.name.localeCompare(t.name)))},588836:function(e,t,n){n.d(t,{Z:()=>y});var i=n(281098),r=n(581722),a=n(825332),o=n(20256),s=n(111330),l=n(521009),d=n(346955),c=n(667835),u=n(19585),p=n(506662),h=n(753143),g=n(941404),_=n(572227),m=n(647709),f=n(785893);function y({alignIconLeft:e,bgColor:t,color:n,disableRedirect:y=!1,fallbackUrl:b,icon:x="arrow-back",onTouch:v,padding:P,placement:w,shouldUseFallbackUrl:S,size:I="lg",viewParameter:k,viewType:j,isVisualSearch:T}){(0,i.Z)("BackButton","/app/www/routing/BackButton.tsx");let A=(0,u.Z)(),B=(0,a.s0)(),C=(0,a.TH)(),R=(0,m.HG)(),Z=(0,r.v9)(e=>e.session.isAuthenticated),E=(0,l.Z)(),F=(0,_.Z)(),z=(0,c.vs)(),{viewType:L,viewParameter:O}=(0,d.SU)(),[M,D]=j?[j,k]:[L,O],N=()=>{let e=(0,h.M0)().getItem(s.pm);C.key||"/ideas"!==b?(0,g.My)(`pinner_conversion.back_button.${String(e?.[0].pageType)}`):(0,g.My)("pinner_conversion.back_button.no_history"),(0,g.My)(`web_back_button_click.${String(w)}.is_auth_${String(Z)}`),F({action:"click",item:"back-button"}),M&&E({view_type:M,view_parameter:D,element:34,event_type:102}),v&&v(),y||((!C.key||!C.state||C.state?.referrer==="redirect"||S)&&b?B(b):C.pathname.includes("/password/reset/")&&C.search&&C.search.includes("?nativeShouldDismiss=true")?B("/login/?dismissWebview=true"):B(-1))},K=z?c.t4:"white",H=(0,p.am)(C)||T||"white"===n;return(0,f.jsx)(o.xu,{"data-test-id":"back-button",children:e?(0,f.jsx)(o.xu,{alignItems:"center",display:"flex",height:48,marginStart:"cancel"===x?-1:-2,width:48,children:(0,f.jsx)(o.hU,{accessibilityLabel:A._('Back', 'navigation button', 'navigation button'),bgColor:t,icon:x,iconColor:!n&&(!t||["white","lightGray","transparent"].includes(t))?"gray":n,onClick:N,padding:"auto"!==P?P:2,size:I})}):(0,f.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:R||H||t?"":K,width:z&&!H?"fit-content":""}},rounding:"circle",children:(0,f.jsx)(o.hU,{accessibilityLabel:A._('Back', 'navigation button', 'navigation button'),bgColor:t||R?t:"transparent",icon:x,iconColor:!n&&(!t||["white","lightGray","transparent"].includes(t))?"gray":n,onClick:N,padding:"auto"!==P?P:2,size:I})})})}},482633:function(e,t,n){n.d(t,{Z:()=>u});var i=n(281098),r=n(581722),a=n(20256),o=n(525839),s=n(302148),l=n(352908),d=n(786942),c=n(785893);function u({boardId:e,onBoardSelected:t,noArrowIcon:n,showSingleBoardRep:u}){(0,i.Z)("BoardPickerRow","/app/www/save/duplo/BoardPickerRow.tsx");let p=(0,o.ZP)(),h=(0,r.v9)(({boards:e})=>e)[e],g=h.section_count,_=!!g&&g>0,m=(0,l.Z)(),f=h.name??"this board";return(0,c.jsx)(a.iP,{accessibilityLabel:(0,s.Wc)(`${p._('Select {{ boardName }}', 'board.picker.row.select.board', 'Accessibility label for select board button')}`,{boardName:f}),onTap:m({fn:()=>t(_)}),rounding:2,tapStyle:"compress",children:(0,c.jsx)(d.Z,{boardId:e,noArrowIcon:n,showSingleBoardRep:u})})}},786942:function(e,t,n){n.d(t,{Z:()=>h});var i=n(281098),r=n(667294),a=n(581722),o=n(20256),s=n(525839),l=n(302148),d=n(134475),c=n(734263),u=n(222401),p=n(785893);function h({boardId:e,navigateToBoard:t,noArrowIcon:n,showCollaborators:h,showSingleBoardRep:g,shouldShowPinAndSectionCount:_}){(0,i.Z)("BoardRow","/app/www/save/duplo/BoardRow.tsx");let m=(0,s.ZP)(),f=(0,a.v9)(({boards:e})=>e)[e],y=(f.collaborating_users||[]).map(e=>({name:e.username??"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":e.image_medium_url??""})),b="",x=y.slice(0,3).map(e=>e.name);switch(y.length){case 3:b=(0,l.Wc)(`${m._('{{ first }}, {{ second }}, and {{ last }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars', 'List of three usernames')}`,{first:`${x[0]}`,second:`${x[1]}`,last:`${x[2]}`});break;case 2:b=(0,l.Wc)(`${m._('{{ first }} and {{ second }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars', 'List of two usernames.')}`,{first:`${x[0]}`,second:`${x[1]}`});break;default:b=x.join(", ")}let v=y.length>3?(0,l.Wc)(m.ngettext('Collaborators: {{ userNames }} and {{ leftCount }} more.', 'Collaborators: {{ userNames }} and {{ leftCount }} more.', y.length - 3, 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree', 'Accessibility label that lists the names of collaborators and a final count of non-displayed avatars'),{userNames:b,leftCount:`${y.length-3}`}):(0,l.Wc)(`${m._('Collaborators: {{ userNames }}.', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree', 'Accessibility label that lists the names of collaborators')}`,{userNames:b}),P=new o.Ry(0),w=f.pin_count,S=f.section_count,I=(0,p.jsx)(r.Fragment,{children:(0,p.jsx)(o.xu,{"data-test-id":S?"boardWithSection":"boardWithoutSection",children:(0,p.jsxs)(o.xu,{alignItems:"center",column:12,"data-test-id":"board-picker-row",display:"flex",marginBottom:4*!!g,rounding:2,children:[(0,p.jsx)(o.xu,{paddingY:2*!g,children:g?(0,p.jsx)(o.xu,{height:48,overflow:"hidden",width:48,children:(0,p.jsx)(o.zd,{height:"100%",rounding:2,width:"100%",children:(0,p.jsx)(o.Ee,{alt:"",color:"lightGray",fit:"cover",naturalHeight:1,naturalWidth:1,src:f.image_cover_url||" "})})}):(0,p.jsx)(o.xu,{height:60,overflow:"hidden",rounding:4,width:60,children:(0,p.jsx)(u.default,{boardKey:{type:"deprecated",data:f},fullSize:!0,hideSecretBoardIcon:!0,type:"thumbnail",viewType:void 0})})}),(0,p.jsxs)(o.kC,{alignItems:"center",flex:"grow",justifyContent:"between",children:[(0,p.jsxs)(o.xu,{direction:"column",display:"flex",justifyContent:"center",marginStart:g?2:4,overflow:g?"hidden":"auto",width:"100%",children:[(0,p.jsx)(o.xv,{lineClamp:g?1:void 0,size:"400",weight:"bold",children:f.name}),_&&(0,p.jsxs)(o.kC,{children:[(0,p.jsx)(o.xv,{inline:!0,children:!!w&&(0,l.nk)(m.ngettext('{{ PinCount }} Pin', '{{ PinCount }} Pins', w ?? 0, 'BoardRow.pinCount', 'Number of Pins on board or section, pinCount: number of Pins'),{PinCount:w})}),!!w&&!!S&&(0,p.jsx)(c.Z,{}),(0,p.jsx)(o.xv,{inline:!0,children:!!S&&(0,l.nk)(m.ngettext('{{ sectionCount }} section', '{{ sectionCount }} sections', S ?? 0, 'BoardRow.sectionCount', 'Number of sections on board, sectionCount: number of sections'),{sectionCount:S})})]})]}),(0,p.jsxs)(o.kC,{alignItems:g?"center":"start",justifyContent:"start",children:["secret"===f.privacy&&(0,p.jsx)(o.xu,{marginStart:g?3:1,children:(0,p.jsx)(o.JO,{accessibilityLabel:m._('secret board icon', ' - ', ' -- '),color:g?"default":"subtle",icon:"lock"})}),f.is_collaborative&&(g||h)&&y.length>0?(0,p.jsx)(o.xu,{zIndex:P,children:(0,p.jsx)(o.HE,{accessibilityLabel:d.U+v,collaborators:y,size:1===y.length?"sm":"xs"})}):f.is_collaborative&&(0,p.jsx)(o.xu,{marginStart:1,children:(0,p.jsx)(o.JO,{accessibilityLabel:m._('group board icon', ' - ', ' -- '),icon:"people"})}),!n&&!!f.section_count&&(0,p.jsx)(o.xu,{"data-test-id":"boardSectionPicker",marginStart:3*!!g,children:(0,p.jsx)(o.JO,{accessibilityLabel:m._('board section board picker icon', ' - ', ' -- '),color:g?"default":"subtle",icon:"arrow-forward"})})]})]})]})})});return t&&f.url?(0,p.jsx)(o.Tg,{href:f.url,rounding:2,tapStyle:"compress",children:I}):I}},993127:function(e,t,n){n.d(t,{Z:()=>_});var i=n(281098),r=n(581722),a=n(616550),o=n(20256),s=n(525839),l=n(374078),d=n(975740),c=n(482633),u=n(302148),p=n(366859),h=n(785893);function g({onSectionSelected:e,sectionId:t,showSectionRep:n}){(0,i.Z)("SectionPickerRow","/app/www/save/duplo/SectionPickerRow.tsx");let a=(0,r.v9)(({boardsections:e})=>e[t]),l=(0,s.ZP)(),d=a&&a.preview_pins?.[0]&&a.preview_pins[0].image_medium_url,c=a?.title??"";return(0,h.jsx)(p.Z,{onTouch:e,pressState:"none",rounding:2,children:(0,h.jsxs)(o.xu,{alignItems:"center",column:12,"data-test-id":"sectionPickerRow",display:"flex",marginBottom:4*!!n,rounding:2,children:[n&&(0,h.jsx)(o.xu,{height:48,width:51,children:(0,h.jsx)(o.zd,{height:"100%",rounding:2,width:"100%",children:d&&(0,h.jsx)(o.Ee,{alt:(0,u.Wc)(l._('{{ boardSectionName }} thumbnail', 'SectionPickerRow.boardImage.accessibilityLabel.text', 'Additional text explaining board image thumbnail. boardSectionName:Title of the board section for a11y text'),{boardSectionName:c}),color:"lightGray",fit:"cover",naturalHeight:1,naturalWidth:1,src:d})})}),!n&&(0,h.jsx)(o.xu,{column:1,paddingY:2}),(0,h.jsx)(o.xu,{column:11,display:"flex",flex:"grow",justifyContent:"between",paddingY:2,children:n?(0,h.jsx)(o.xu,{marginStart:2,overflow:"hidden",width:"100%",children:(0,h.jsx)(o.xv,{lineClamp:1,size:"400",weight:"bold",children:a?.title})}):(0,h.jsx)(o.xu,{marginStart:2,children:(0,h.jsx)(o.xv,{weight:"bold",children:a?.title})})})]})})}function _({boardId:e,originalBoardId:t,sectionId:n,repin:u,hideBoardPickerRow:p,showSectionRep:_}){(0,i.Z)("SectionPickerList","/app/www/save/duplo/SectionPickerList.tsx");let m=(0,s.ZP)(),{isFetching:f,boardSections:y,filteredBoardSections:b}=((e,t)=>{let{isFetching:n}=(0,l.Z)({name:"BoardSectionsRepinResource",options:{board_id:e}}),i=(0,r.v9)(({feeds:t})=>(t[`board-sections:${e}`]||[]).reduce((e,t)=>{if("boardsection"===t.type){let n={type:"boardsection",id:t.id};e.push(n)}return e},[])),a=(0,r.v9)(n=>i.map(e=>e.id).reduce((i,r)=>{let a=n.boardsections[r??""];return r!==t&&a&&i.push({board:{id:e},id:a.id,title:a.title,type:"boardsection",slug:a.slug}),i},[]));return{isFetching:n,boardSections:i,filteredBoardSections:a}})(e,n),x=(0,a.k6)(),v=(0,d.gC)()(t||"");return(0,h.jsxs)(o.xu,{children:[y.length>0&&(0,h.jsxs)(o.xu,{paddingY:3*!_,children:[_&&(0,h.jsx)(o.xu,{paddingY:2,children:(0,h.jsx)(o.xu,{marginBottom:2,children:(0,h.jsx)(o.X6,{accessibilityLevel:3,size:"300",children:(0,h.jsx)(o.xv,{inline:!0,children:m._('Board', 'RepinFlow.SectionPickerList.Board', 'Section picker board title')})})})}),!p&&(0,h.jsx)(c.Z,{boardId:e,noArrowIcon:!0,onBoardSelected:()=>u(e,void 0,m),showSingleBoardRep:_},e),_&&(0,h.jsx)(o.xu,{paddingY:4,children:(0,h.jsx)(o.X6,{accessibilityLevel:3,size:"300",children:(0,h.jsx)(o.xv,{inline:!0,children:m._('Section', 'RepinFlow.SectionPickerList.Section', 'Section picker all sections title')})})}),b.map(n=>(0,h.jsx)(g,{onSectionSelected:()=>{u(e,n,m),t&&x.push(v?.url??"")},sectionId:n.id??"",showSectionRep:_},n.id))]}),(0,h.jsx)(o.xH,{accessibilityLabel:m._('Loading board section for repin flow', ' - ', ' -- '),show:f})]})}},681721:function(e,t,n){n.d(t,{Z:()=>r});var i=n(302148);let r=(e,t,n)=>({text:t?(0,i.nk)(n._('Saved to {{ board }}', 'Board saved message', 'Board saved message'),{board:t}).join(" "):n._('Saved to new board', 'Board saved message if the new board\'s name is not found', 'Board saved message if the new board\'s name is not found'),href:e})},783556:function(e,t,n){n.d(t,{k:()=>o,w:()=>a});var i=n(20256),r=n(252564);let a=2e3,o=new i.H3([r.Z])},890774:function(e,t,n){n.d(t,{Z:()=>c});var i=n(581722),r=n(782677),a=n(575108),o=n(877956),s=n(440568),l=n(536652),d=n(72918);function c(){let e=(0,i.I0)(),t=(0,i.v9)(e=>e.resources);return async function({boardCreateOptions:n,deprecatedSchemaForNormalization:i}){let c=await a.Z.create("BoardResource",n).callCreate(),u=c.resource_response.data,p=i?(0,r.Fv)(u,i):void 0;e((0,d.XM)("BoardResource",n,c,p)),e((0,o.fO)({event_type:20})),u.owner?.id&&e((0,l.b)("UserResource",{options:{user_id:u.owner.id,field_set_key:"save_behavior"}}));let h=t.BoardsResource||{},g=t.BoardsFeedResource||{};return Object.keys(h).forEach(t=>{(0,s.k)(t).username===u.owner?.username&&e((0,d.jB)("BoardsResource",t))}),Object.keys(g).forEach(t=>{(0,s.k)(t).username===u.owner?.username&&e((0,d.jB)("BoardsFeedResource",t))}),u}}},867576:function(e,t,n){n.d(t,{Z:()=>f});var i,r=n(281098),a=n(616550),o=n(15667),s=n(647709);n(167912);var l=n(561692),d=n(889144),c=n(415546),u=n(394887),p=n(785893);let h=(void 0!==i||(i=n(645632)).hash&&"60ba8f292ef82335c3d4cbce50f362d8"!==i.hash&&console.error("The definition of 'CloseupRepinPage_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function g({pinKey:e}){(0,r.Z)("CloseupRepinPage","/app/www/pages/authDesktop/CloseupRepinPage.tsx");let t=(0,c.Z)(h,e);return t?(0,p.jsx)(u.Z,{type:"authDesktop",children:t.isEligibleForPdp?(0,p.jsx)(d.Z,{showRepin:!0}):(0,p.jsx)(l.ZP,{showRepin:!0})}):null}var _=n(128061),m=n(169053);let f=function(){(0,r.Z)("InternalRepinPage","/app/www/pages/InternalRepinPage.tsx");let{id:e}=(0,a.UO)(),t=(0,s.ZP)(),{isAuthenticated:n}=(0,o.B)(),i=(0,m.S6)(),l=e?i(e):null;return n?"desktop"===t?(0,p.jsx)(g,{pinKey:null!=l?{type:"deprecated",data:l}:null}):(0,p.jsx)(_.ZP,{shouldFetchPinFromGraphQL:!0}):(0,p.jsx)(a.l_,{to:`/pin/${e??""}/`})}},555871:function(e,t,n){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/pin/[id]/repin",function(){return n(867576).Z}])}},function(e){e.O(0,["11154","16369","17448","19610","25418","33171","35108","36849","38457","39176","39810","42985","45591","47707","54505","60471","66986","67243","71416","75830","78946","80976","85724","89999","90542","91714","92184","92503","99324"],function(){return e(e.s=555871)}),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/pin/[id]/repin-7e27d6a1fa776f33.mjs.map